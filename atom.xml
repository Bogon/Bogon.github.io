<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Char&#39;s Blog</title>
  
  <subtitle>å¦‚åˆ‡å¦‚ç£‹ï¼Œå¦‚ç¢å¦‚ç£¨ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.xuebaonline.com/"/>
  <updated>2020-04-27T03:54:02.695Z</updated>
  <id>http://www.xuebaonline.com/</id>
  
  <author>
    <name>Char</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>iOSè‡ªå®šä¹‰è½¬åœº(By Swift)</title>
    <link href="http://www.xuebaonline.com/iOS%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%9C%BA(By%20Swift)/"/>
    <id>http://www.xuebaonline.com/iOS%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%9C%BA(By%20Swift)/</id>
    <published>2020-04-27T03:50:09.000Z</published>
    <updated>2020-04-27T03:54:02.695Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰è½¬åœºå’Œç™¾åˆ†æ¯”é©±åŠ¨çš„äº¤äº’æ¥æ›¿æ¢ <code>Push</code> ï¼Œ<code>pop</code> å’Œæ¨¡å¼åŠ¨ç”»ã€‚</p></br><h1 id="UIKitè‡ªå®šä¹‰è¿‡æ¸¡API-ç†è®ºçŸ¥è¯†"><a href="#UIKitè‡ªå®šä¹‰è¿‡æ¸¡API-ç†è®ºçŸ¥è¯†" class="headerlink" title="UIKitè‡ªå®šä¹‰è¿‡æ¸¡API-ç†è®ºçŸ¥è¯†"></a><strong>UIKitè‡ªå®šä¹‰è¿‡æ¸¡API-ç†è®ºçŸ¥è¯†</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿›è¡Œ <a href="https://developer.apple.com/videos/play/wwdc2013/218/" target="_blank" rel="noopener"><strong><code>è‡ªå®šä¹‰è½¬æ¢</code></strong></a> çš„è¿‡ç¨‹ä¸­æ¶‰åŠè®¸å¤šç±»å’Œå§”æ‰˜ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿåœ°å®Œæˆè¿™äº›é¡¹ç›®ï¼Œç„¶åå†è¿›è¡Œä¸€äº›ç¼–ç ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰è½¬åœºå’Œç™¾åˆ†æ¯”é©±åŠ¨çš„äº¤äº’æ¥æ›¿æ¢ &lt;code&gt;Push&lt;/code&gt; ï¼Œ&lt;code&gt;pop&lt;/code&gt; å’Œæ¨¡å¼åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;/br&gt;

&lt;h1 
      
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªå®šä¹‰è½¬åœº" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%9C%BA/"/>
    
      <category term="transition" scheme="http://www.xuebaonline.com/tags/transition/"/>
    
  </entry>
  
  <entry>
    <title>Swift UICollectionViewä½¿ç”¨æŒ‡å—</title>
    <link href="http://www.xuebaonline.com/Swift%20UICollectionView%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
    <id>http://www.xuebaonline.com/Swift%20UICollectionView%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</id>
    <published>2020-04-27T02:56:48.000Z</published>
    <updated>2020-04-27T03:45:35.328Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äº†è§£å¦‚ä½•ä½¿ç”¨ <code>UICollectionView</code> ï¼Œå…·æœ‰é«˜åº¦å¯é‡ç”¨æ€§çš„ <code>UIKit</code> ç»„ä»¶å’Œä¸€äº› <code>MVVM</code> æ¨¡å¼ï¼Œè€Œä¸ä¼šè´¹åŠ›åœ°è¿›è¡Œç´¢å¼•è·¯å¾„è®¡ç®—ã€‚</p></br><h1 id="UICollectionViewç±»çš„å‰–æ"><a href="#UICollectionViewç±»çš„å‰–æ" class="headerlink" title="UICollectionViewç±»çš„å‰–æ"></a><strong>UICollectionViewç±»çš„å‰–æ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰ <code>UICollectionView</code> ï¼Œå»ºè®®ç«‹å³ç†Ÿæ‚‰æ­¤ç±»ã€‚ å®ƒä»¬æ˜¯ <code>Apple</code> å’Œå…¶ä»–ç¬¬ä¸‰æ–¹å¼€å‘äººå‘˜æä¾›çš„è®¸å¤šåº”ç”¨ç¨‹åºçš„åŸºæœ¬æ„å»ºå—ã€‚ å°±åƒ <code>UITableView</code> ä¸€æ ·ã€‚ ç»“åˆ <code>IB</code> å’Œ <code>Swift</code> ä»£ç å¿«é€Ÿäº†è§£å’Œä½¿ç”¨å®ƒä»¬ã€‚ ğŸ’»</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/ug-stp1.png" alt="UICollectionView"></p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å°†ä»…ä½¿ç”¨å¼ºå¤§çš„ <code>UICollectionView</code> ç±»æ¥æ„å»º <code>Apple Music</code> ç›®å½•ï¼Œä¾‹å¦‚ä»é›¶å¼€å§‹çš„å¤–è§‚ã€‚ æ ‡å¤´ï¼Œæ°´å¹³å’Œå‚ç›´æ»šåŠ¨ï¼Œåœ†å½¢å›¾åƒï¼Œå› æ­¤ï¼ŒåŸºæœ¬ä¸Šï¼Œæ„å»ºå¼ºå¤§çš„ç”¨æˆ·ç•Œé¢æ‰€éœ€çš„å‡ ä¹æ‰€æœ‰å†…å®¹ã€‚ ğŸ¤˜ğŸ»</p></br><h1 id="å¦‚ä½•ä½¿ç”¨Xcodeä¸­çš„Interface-Builderï¼ˆIBï¼‰åˆ›å»º-UICollectionView-ï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨Xcodeä¸­çš„Interface-Builderï¼ˆIBï¼‰åˆ›å»º-UICollectionView-ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨Xcodeä¸­çš„Interface Builderï¼ˆIBï¼‰åˆ›å»º UICollectionView ï¼Ÿ"></a><strong>å¦‚ä½•ä½¿ç”¨Xcodeä¸­çš„Interface Builderï¼ˆIBï¼‰åˆ›å»º UICollectionView ï¼Ÿ</strong></h1><blockquote><p><strong><code>æç¤º:</code></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸è¦ä½¿ç”¨ <code>IB</code> ï¼</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ‚¨ä»ç„¶æƒ³ä½¿ç”¨ <code>IB</code> ï¼Œè¿™æ˜¯ç»å¯¹å…¥é—¨çš„çœŸæ­£å¿«é€Ÿæ•™ç¨‹ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/ug-stp2.png" alt="IB"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºç¬¬ä¸€ä¸ªåŸºäº <code>UICollectionView</code> çš„å±å¹•çš„ä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>å°† <code>UICollectionView</code> å¯¹è±¡æ‹–åˆ°æ‚¨çš„è§†å›¾æ§åˆ¶å™¨</li><li>åœ¨é›†åˆè§†å›¾ä¸Šè®¾ç½®é€‚å½“çš„çº¦æŸ</li><li>è®¾ç½®æ•°æ®æºå’Œé›†åˆè§†å›¾çš„å§”æ‰˜</li><li>åœ¨æ§åˆ¶å™¨å†…éƒ¨å¯¹å•å…ƒå¸ƒå±€è¿›è¡ŒåŸå‹è®¾è®¡</li><li>åœ¨å•å…ƒæ ¼å†…çš„è§†å›¾ä¸­æ·»åŠ çº¦æŸ</li><li>è®¾ç½®åŸå‹å•å…ƒæ ¼ç±»å’Œé‡ç”¨æ ‡è¯†ç¬¦</li><li>åšä¸€äº›ç¼–ç ï¼š</li></ul></br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCell</span>: <span class="title">UICollectionViewCell</span> </span>&#123;</span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> textLabel: <span class="type">UILabel!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> collectionView: <span class="type">UICollectionView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLayoutSubviews()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> flowLayout = <span class="keyword">self</span>.collectionView.collectionViewLayout <span class="keyword">as</span>? <span class="type">UICollectionViewFlowLayout</span> &#123;</span><br><span class="line">            flowLayout.itemSize = <span class="type">CGSize</span>(width: <span class="keyword">self</span>.collectionView.bounds.width, height: <span class="number">120</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> collectionView: UICollectionView)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"MyCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">MyCell</span></span><br><span class="line">        cell.textLabel.text = <span class="type">String</span>(indexPath.row + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> cell</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(indexPath.item + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç®€è€Œè¨€ä¹‹ï¼Œæ•°æ®æºå°†æä¾›æœ‰å…³å¦‚ä½•å¡«å……é›†åˆè§†å›¾çš„æ‰€æœ‰å¿…éœ€æ•°æ®ï¼Œå¹¶ä¸”å§”æ‰˜å°†å¤„ç†ç”¨æˆ·äº‹ä»¶ï¼Œä¾‹å¦‚åœ¨å•å…ƒæ ¼ä¸Šè½»æŒ‰ã€‚ æ‚¨åº”è¯¥å¯¹æ•°æ®æºå’Œå§”æ‰˜æ–¹æ³•æœ‰æ¸…æ¥šçš„äº†è§£ï¼Œå› æ­¤è¯·ç¨å€™ç‰‡åˆ»ã€‚ âŒ¨ï¸</p></br><h1 id="å¦‚ä½•åœ¨-Swift-5-ä¸­ä½¿ç”¨ä»£ç è®¾ç½®åˆ›å»º-UICollectionView"><a href="#å¦‚ä½•åœ¨-Swift-5-ä¸­ä½¿ç”¨ä»£ç è®¾ç½®åˆ›å»º-UICollectionView" class="headerlink" title="å¦‚ä½•åœ¨ Swift 5 ä¸­ä½¿ç”¨ä»£ç è®¾ç½®åˆ›å»º UICollectionView?"></a><strong>å¦‚ä½•åœ¨ <code>Swift 5</code> ä¸­ä½¿ç”¨ä»£ç è®¾ç½®åˆ›å»º <code>UICollectionView</code>?</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œå•å…ƒæ ¼æ˜¯é›†åˆè§†å›¾çš„æ ¸å¿ƒç»„ä»¶ã€‚ å®ƒä»¬æ˜¯ä»å¯é‡ç”¨çš„è§†å›¾æ´¾ç”Ÿçš„ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨æœ‰1000ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ™ä¸ä¼šä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºä¸€åƒä¸ªå•å…ƒæ ¼ï¼Œè€Œåªæœ‰å°‘æ•°å‡ ä¸ªå¯ä»¥å¡«å……å±å¹•å¤§å°ï¼Œå¹¶ä¸”å½“æ‚¨å‘ä¸‹æ»šåŠ¨åˆ—è¡¨æ—¶ è¿™äº›é¡¹ç›®å°†è¢«é‡å¤ä½¿ç”¨ä»¥æ˜¾ç¤ºæ‚¨çš„å…ƒç´ ã€‚ è¿™ä»…ä»…æ˜¯å‡ºäºå†…å­˜æ–¹é¢çš„è€ƒè™‘ï¼Œå› æ­¤ä¸ <code>UIScrollView</code> ä¸åŒï¼Œ <code>UICollectionView</code> ï¼ˆå’Œ <code>UITableView</code> ï¼‰ç±»æ˜¯ä¸€ä¸ªéå¸¸èªæ˜ä¸”é«˜æ•ˆçš„ç±»ï¼Œä½†è¿™ä¹Ÿæ˜¯æ¯æ¬¡æ˜¾ç¤ºä¹‹å‰éƒ½å¿…é¡»å‡†å¤‡ï¼ˆé‡ç½®å†…å®¹ï¼‰å•å…ƒæ ¼çš„åŸå› ã€‚ ğŸ˜‰</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆå§‹åŒ–ä¹Ÿç”±ç³»ç»Ÿå¤„ç†ï¼Œä½†æ˜¯å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨ <code>Interface Builder</code> ï¼Œåˆ™åº”è¯¥åœ¨ <code>awakeFromNib</code> æ–¹æ³•å†…è¿›è¡Œè‡ªå®šä¹‰ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ä»£ç ï¼Œåˆ™ <code>initï¼ˆframe :)</code> æ˜¯æ‚¨çš„åœ°æ–¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCell</span>: <span class="title">UICollectionViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> textLabel: <span class="type">UILabel!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> textLabel = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">        textLabel.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.contentView.addSubview(textLabel)</span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            textLabel.topAnchor.constraint(equalTo: <span class="keyword">self</span>.contentView.topAnchor),</span><br><span class="line">            textLabel.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.contentView.bottomAnchor),</span><br><span class="line">            textLabel.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.contentView.leadingAnchor),</span><br><span class="line">            textLabel.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.contentView.trailingAnchor),</span><br><span class="line">        ])</span><br><span class="line">        <span class="keyword">self</span>.textLabel = textLabel</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.contentView.backgroundColor = .lightGray</span><br><span class="line">        <span class="keyword">self</span>.textLabel.textAlignment = .center</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">"Interface Builder is not supported!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.awakeFromNib()</span><br><span class="line"></span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">"Interface Builder is not supported!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">prepareForReuse</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.prepareForReuse()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.textLabel.text = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¿…é¡»å®ç°è´Ÿè´£ç®¡ç†é›†åˆè§†å›¾çš„è§†å›¾æ§åˆ¶å™¨ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ <code>IB</code> ï¼Œæ‰€ä»¥å¿…é¡»åœ¨ <code>loadView</code> æ–¹æ³•å†…éƒ¨ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€é”šç‚¹ï¼ˆå¦‚å•å…ƒæ ¼ä¸­çš„ <code>textLabel</code> ï¼‰æ‰‹åŠ¨åˆ›å»ºå®ƒã€‚ åœ¨è§†å›¾å±‚æ¬¡ç»“æ„å‡†å¤‡å°±ç»ªåï¼Œæˆ‘ä»¬è¿˜è®¾ç½®äº†æ•°æ®æºå¹¶å§”æ‰˜å¹¶æ³¨å†Œäº†æˆ‘ä»¬çš„å•å…ƒæ ¼ç±»ä»¥ä¾›è¿›ä¸€æ­¥é‡ç”¨ã€‚ è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ <code>IB</code> ï¼Œåˆ™æ­¤æ“ä½œç”±ç³»ç»Ÿè‡ªåŠ¨å®Œæˆï¼Œä½†æ˜¯å¦‚æœæ‚¨å–œæ¬¢ä»£ç ï¼Œåˆ™å¿…é¡»é€šè¿‡è°ƒç”¨é€‚å½“çš„æ³¨å†Œæ–¹æ³•æ¥å®Œæˆã€‚ æ‚¨å¯ä»¥æ³¨å†Œ <code>nibs</code> å’Œ <code>classes</code> ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> collectionView: <span class="type">UICollectionView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> collectionView = <span class="type">UICollectionView</span>(frame: .zero, collectionViewLayout: <span class="type">UICollectionViewFlowLayout</span>())</span><br><span class="line">        collectionView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(collectionView)</span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            collectionView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.view.topAnchor),</span><br><span class="line">            collectionView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.view.bottomAnchor),</span><br><span class="line">            collectionView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.leadingAnchor),</span><br><span class="line">            collectionView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.trailingAnchor),</span><br><span class="line">        ])</span><br><span class="line">        <span class="keyword">self</span>.collectionView = collectionView</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.collectionView.backgroundColor = .white</span><br><span class="line">        <span class="keyword">self</span>.collectionView.dataSource = <span class="keyword">self</span></span><br><span class="line">        <span class="keyword">self</span>.collectionView.delegate = <span class="keyword">self</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.collectionView.register(<span class="type">MyCell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">"MyCell"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> collectionView: UICollectionView)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"MyCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">MyCell</span></span><br><span class="line">        cell.textLabel.text = <span class="type">String</span>(indexPath.row + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> cell</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath)</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(indexPath.row + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDelegateFlowLayout</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                        sizeForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="type">CGSize</span>(width: collectionView.bounds.size.width - <span class="number">16</span>, height: <span class="number">120</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                        minimumLineSpacingForSectionAt section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">8</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                        minimumInteritemSpacingForSectionAt section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                        insetForSectionAt section: Int)</span></span> -&gt; <span class="type">UIEdgeInsets</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIEdgeInsets</span>.<span class="keyword">init</span>(top: <span class="number">8</span>, <span class="keyword">left</span>: <span class="number">8</span>, bottom: <span class="number">8</span>, <span class="keyword">right</span>: <span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ¬¡ï¼Œæ‚¨åº”è¯¥æ³¨æ„æµå¸ƒå±€å§”æ‰˜æ–¹æ³•ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•ä¸ºå¸ƒå±€ç³»ç»Ÿæä¾›æ”¯æŒã€‚ æµå¸ƒå±€å°†åŸºäºè¿™äº›æ•°å­—å’Œå¤§å°æ˜¾ç¤ºæ‰€æœ‰å•å…ƒæ ¼ã€‚  <code>sizeForItemAt</code> è´Ÿè´£å•å…ƒæ ¼çš„å¤§å°ï¼Œ<code>minimumInteritemSpacingForSectionAt</code> æ˜¯æ°´å¹³å¡«å……ï¼Œ<code>minimumLineSpacingForSectionAt</code> æ˜¯å‚ç›´å¡«å……ï¼Œ<code>insetForSectionAt</code> æ˜¯é›†åˆè§†å›¾éƒ¨åˆ†çš„è¾¹è·ã€‚</p></br><h1 id="section-headers-and-footers"><a href="#section-headers-and-footers" class="headerlink" title="section headers and footers"></a><strong>section headers and footers</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œåœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘å°†åŒæ—¶ä½¿ç”¨ <code>storyboards</code>ï¼Œ<code>nibs</code> å’Œä¸€äº› <code>Swift</code> ä»£ç ã€‚ ç”±äºæŸäº›åŸå› ï¼Œè¿™æ˜¯æˆ‘é€šå¸¸çš„æ–¹æ³•ã€‚ è™½ç„¶æˆ‘å¾ˆå–œæ¬¢ç”¨ä»£ç è¿›è¡Œçº¦æŸï¼Œä½†å¤§å¤šæ•°äººæ›´å–œæ¬¢è§†è§‰ç¼–è¾‘å™¨ï¼Œå› æ­¤æ‰€æœ‰å•å…ƒæ ¼éƒ½åœ¨ç¬”å°–å†…éƒ¨åˆ›å»ºã€‚ ä¸ºä»€ä¹ˆæ˜¯ç¬”å°–ï¼Ÿ å› ä¸ºå¦‚æœæ‚¨æœ‰å¤šä¸ªé›†åˆè§†å›¾ï¼Œè¿™å‡ ä¹æ˜¯åœ¨å®ƒä»¬ä¹‹é—´å…±äº«å•å…ƒæ ¼çš„å”¯ä¸€å¥½æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‚¨å¯ä»¥åƒåˆ›å»º <code>section headers</code> ä¸€æ ·å®Œå…¨åœ°åˆ›å»º <code>section footers</code> ï¼Œå› æ­¤è¿™å°±æ˜¯æˆ‘è¿™æ¬¡åªå…³æ³¨ <code>section headers</code> çš„åŸå› ï¼Œå› ä¸ºä»å­—é¢ä¸Šçœ‹ï¼Œæ‚¨åªéœ€è¦æ›´æ”¹ä¸€ä¸ªå­—å³å¯ä½¿ç”¨ <code>section footers</code> ã€‚ âš½ï¸</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/ug-stp3.png" alt="footers"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‚¨åªéœ€è¦åˆ›å»ºä¸¤ä¸ª <code>xib</code> æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨äºå•å…ƒæ ¼ï¼Œä¸€ä¸ªç”¨äºå¤´æ–‡ä»¶ã€‚ è¯·æ³¨æ„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®Œå…¨ç›¸åŒçš„é›†åˆè§†å›¾å•å…ƒæ ¼æ¥åœ¨ <code>section</code> æ ‡é¢˜ä¸­æ˜¾ç¤ºå†…å®¹ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºï¼Œå› æ­¤è®©æˆ‘ä»¬å¤„ç†ä¸¤ä¸ªä¸åŒçš„é¡¹ç›®ã€‚ æ‚¨ç”šè‡³ä¸å¿…ä» <code>IB</code> è®¾ç½®é‡ç”¨æ ‡è¯†ç¬¦ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»åœ¨æºä»£ç ä¸­æ³¨å†Œæˆ‘ä»¬çš„å¯é‡ç”¨è§†å›¾ï¼Œå› æ­¤åªéœ€è®¾ç½®å•å…ƒç±»å¹¶è¿æ¥æ‚¨çš„ <code>outlets</code> å³å¯ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å•å…ƒæ ¼çš„æ³¨å†Œå’Œ <code>section headers and footers</code> çš„æ³¨å†Œç•¥æœ‰ä¸åŒã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cellNib = <span class="type">UINib</span>(nibName: <span class="string">"Cell"</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">self</span>.collectionView.register(cellNib, forCellWithReuseIdentifier: <span class="string">"Cell"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sectionNib = <span class="type">UINib</span>(nibName: <span class="string">"Section"</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">self</span>.collectionView.register(sectionNib, forSupplementaryViewOfKind: <span class="type">UICollectionView</span>.elementKindSectionHeader, withReuseIdentifier: <span class="string">"Section"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ç° <code>section header</code> çš„æ•°æ®æºå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        viewForSupplementaryElementOfKind kind: String,</span></span></span><br><span class="line"><span class="function"><span class="params">                        at indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionReusableView</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">guard</span> kind == <span class="type">UICollectionView</span>.elementKindSectionHeader <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UICollectionReusableView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> view = collectionView.dequeueReusableSupplementaryView(ofKind: kind, withReuseIdentifier: <span class="string">"Section"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">Section</span></span><br><span class="line"></span><br><span class="line">    view.textLabel.text = <span class="type">String</span>(indexPath.section + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> view</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æä¾›æµå¸ƒå±€å§”æ‰˜çš„å¤§å°ä¹Ÿéå¸¸ç®€å•ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘å¹¶æ²¡æœ‰å¾—åˆ° <code>Apple</code> çš„å‘½åçº¦å®šã€‚ ä¸€æ—¦å¿…é¡»åˆ‡æ¢ä¸€ç§ç±»å‹ï¼Œè€Œå…¶ä»–æ—¶å€™åˆ™æœ‰é’ˆå¯¹ç‰¹å®šç±»å‹çš„ç¡®åˆ‡æ–¹æ³•ã€‚ ğŸ¤·â€â™‚ï¸</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                    layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                    referenceSizeForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="type">CGSize</span>(width: collectionView.bounds.size.width, height: <span class="number">64</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä» <code>iOS9</code> å¼€å§‹ï¼Œå¯ä»¥å°† <code>section headers and footers</code> å›ºå®šåœ¨é›†åˆè§†å›¾å¯è§èŒƒå›´çš„é¡¶éƒ¨æˆ–åº•éƒ¨ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> flowLayout = <span class="keyword">self</span>.collectionView.collectionViewLayout <span class="keyword">as</span>? <span class="type">UICollectionViewFlowLayout</span> &#123;</span><br><span class="line">    flowLayout.sectionHeadersPinToVisibleBounds = <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°±æ˜¯è¿™æ ·ï¼Œç°åœ¨æ‚¨çŸ¥é“äº†å¦‚ä½•ä½¿ç”¨é›†åˆè§†å›¾æ„å»ºåŸºæœ¬å¸ƒå±€ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤æ‚çš„æƒ…å†µæ€ä¹ˆæ ·ï¼Œä¾‹å¦‚åœ¨åŒä¸€é›†åˆè§†å›¾ä¸­ä½¿ç”¨å¤šç§å•å…ƒæ ¼å‘¢ï¼Ÿ ç´¢å¼•è·¯å¾„ä¼šä½¿äº‹æƒ…å˜å¾—å¾ˆæ··ä¹±ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åŸºäºä¸€ç§æŠ€æœ¯æ¥é‡æ–°å‘æ˜æ›´å¥½çš„æ–¹æ³•ï¼Œè¯¥æŠ€æœ¯å¦‚ä½•ä½¿ç”¨ <code>Apple</code> åœ¨ <code>WWDC 2014</code> ä¸Šå±•ç¤ºçš„ <a href="https://developer.apple.com/videos/wwdc2014" target="_blank" rel="noopener"><strong><code>é›†åˆè§†å›¾æ¥æ„å»ºé«˜çº§ç”¨æˆ·ç•Œé¢</code></strong></a> ã€‚</p></br><h1 id="åŸºäº-CollectionView-çš„-UI-Framework"><a href="#åŸºäº-CollectionView-çš„-UI-Framework" class="headerlink" title="åŸºäº CollectionView çš„ UI Framework"></a><strong>åŸºäº <code>CollectionView</code> çš„ <code>UI Framework</code></strong></h1><blockquote><p>CollectionView + ViewModel pattern = â¤ï¸ .</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å°†å¿«é€Ÿè§£é‡Šè¿™äº›ç»„ä»¶ï¼Œç„¶åï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨å®ƒä»¬æ¥æ„å»ºèµ·åˆæˆ‘æ‰€è°ˆè®ºçš„ <code>Apple</code> éŸ³ä¹é£æ ¼çš„å¸ƒå±€ã€‚ ğŸ¶</p><h2 id="ç½‘æ ¼ç³»ç»Ÿ"><a href="#ç½‘æ ¼ç³»ç»Ÿ" class="headerlink" title="ç½‘æ ¼ç³»ç»Ÿ"></a><strong><em>ç½‘æ ¼ç³»ç»Ÿ</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é›†åˆè§†å›¾çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¤§å°è®¡ç®—ã€‚æ‚¨å¿…é¡»æä¾›é›†åˆè§†å›¾ä¸­æ¯ä¸ªå•å…ƒçš„å¤§å°ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰ã€‚</p><ul><li>å¦‚æœåœ¨é›†åˆè§†å›¾ä¸­æ‰€æœ‰å†…å®¹éƒ½å…·æœ‰å›ºå®šçš„å¤§å°ï¼Œåˆ™åªéœ€åœ¨æµå¸ƒå±€æœ¬èº«ä¸Šè®¾ç½®å¤§å°å±æ€§</li><li>å¦‚æœæ‚¨éœ€è¦æ¯ä¸ªé¡¹ç›®çš„åŠ¨æ€å°ºå¯¸ï¼Œåˆ™å¯ä»¥å®æ–½æµå¸ƒå±€å§”æ‰˜ã€‚ <code>UICollectionViewDelegateFlowLayout</code>ï¼ˆä¸ºä»€ä¹ˆåœ¨åç§°ä¸­é—´ä½¿ç”¨å§”æ‰˜è¯ï¼Ÿï¼Ÿï¼Ÿï¼‰å¹¶è¿”å›å¸ƒå±€ç³»ç»Ÿçš„ç¡®åˆ‡å¤§å°</li><li>å¦‚æœæ‚¨éœ€è¦æ›´å¤šæ§åˆ¶æƒï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªä» <code>CollectionViewï¼ˆFlowï¼‰Layout</code> æ´¾ç”Ÿçš„æ–°å¸ƒå±€å­ç±»ï¼Œå¹¶åœ¨é‚£é‡Œè¿›è¡Œæ‰€æœ‰å°ºå¯¸è®¡ç®—</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¾ˆå¥½ï¼Œä½†æ˜¯æ‚¨ä»ç„¶å¿…é¡»å¼„ä¹±ç´¢å¼•è·¯å¾„ï¼Œç‰¹å¾é›†åˆï¼Œæ¡†æ¶ç­‰ï¼Œä»¥ä½¿ç®€å•çš„2ã€4ï¼Œnåˆ—å¸ƒå±€é€‚ç”¨äºæ‰€æœ‰è®¾å¤‡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åˆ›å»ºäº†ä¸€ä¸ªéå¸¸åŸºæœ¬çš„ç½‘æ ¼ç³»ç»Ÿè¿›è¡Œå°ºå¯¸è®¡ç®—çš„åŸå› ã€‚ä½¿ç”¨æˆ‘çš„ç½‘æ ¼ç±»ï¼Œæ‚¨å¯ä»¥è®¾ç½®åˆ—æ•°å¹¶è·å–xåˆ—æ•°çš„å¤§å°ï¼Œå°±åƒåœ¨åŸºäº <code>Web</code> çš„ <code>CSS</code> ç½‘æ ¼ç³»ç»Ÿä¸­ä¸€æ ·ã€‚ ğŸ•¸</p><h2 id="å•å…ƒæ ¼é‡ç”¨"><a href="#å•å…ƒæ ¼é‡ç”¨" class="headerlink" title="å•å…ƒæ ¼é‡ç”¨"></a><strong><em>å•å…ƒæ ¼é‡ç”¨</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å•å…ƒæ ¼çš„æ³¨å†Œå’Œé‡ç”¨åº”è¯¥å¹¶ä¸”å¯ä»¥ä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼è‡ªåŠ¨åŒ–ã€‚ æ‚¨åªæƒ³ä½¿ç”¨å•å…ƒï¼Œè€Œæ ¹æœ¬ä¸å…³å¿ƒé‡ç”¨æ ‡è¯†ç¬¦å’Œå•å…ƒæ³¨å†Œã€‚ æˆ‘åšäº†ä¸€äº›è¾…åŠ©æ–¹æ³•ï¼Œä»¥ä½¿è¿›æ­¥æ›´åŠ æ„‰å¿«ã€‚ é‡ç”¨æ ‡è¯†ç¬¦æ˜¯ä»å•å…ƒæ ¼ç±»çš„åç§°æ´¾ç”Ÿçš„ï¼Œå› æ­¤æ‚¨ä¸å¿…æ‹…å¿ƒã€‚ å¤§å¤šæ•°å¼€å‘äººå‘˜éƒ½ä½¿ç”¨è¿™ç§åšæ³•ã€‚</p><h2 id="View-model"><a href="#View-model" class="headerlink" title="View model"></a><strong><em>View model</em></strong></h2><blockquote><p><strong><code>view model = cell (view) + data (model)</code></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨å®é™…æ•°æ®å¡«å……â€œæ¨¡æ¿â€å•å…ƒåº”è¯¥æ˜¯è§†å›¾æ¨¡å‹çš„ä»»åŠ¡ã€‚ è¿™å°±æ˜¯ <code>MVVM</code> å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚ æˆ‘åšäº†ä¸€ä¸ªé€šç”¨çš„åŸºæœ¬è§†å›¾æ¨¡å‹ç±»ï¼Œåº”è¯¥å°†å…¶å­ç±»åŒ–ã€‚ å€ŸåŠ©åè®®ï¼Œæ‚¨å¯ä»¥åœ¨å•ä¸ªé›†åˆè§†å›¾ä¸­ä½¿ç”¨å„ç§å•å…ƒï¼Œè€Œä¸å¿…æ‹…å¿ƒè¡Œå’ŒèŠ‚çš„è®¡ç®—ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥ä¸“æ³¨äºä¸€é¡¹ç®€å•çš„ä»»åŠ¡ï¼šå°†è§†å›¾ä¸æ¨¡å‹è”ç³»èµ·æ¥ã€‚ ğŸ˜›</p><h2 id="Section"><a href="#Section" class="headerlink" title="Section"></a><strong><em>Section</em></strong></h2><blockquote><p><strong><code>section = header + footer + cells</code></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è¦å¼ºè°ƒçš„æ˜¯ï¼Œæ‚¨ä¸æƒ³å¼„ä¹±ç´¢å¼•è·¯å¾„ï¼Œåªæƒ³å°†æ•°æ®æ”¾åœ¨ä¸€èµ·å°±å¯ä»¥äº†ã€‚ è¿‡å»ï¼Œæˆ‘å¯¹â€œä¸å¿…è¦çš„ç´¢å¼•è·¯å¾„è®¡ç®—â€è¿›è¡Œäº†å……åˆ†çš„åŠªåŠ›ï¼Œå› æ­¤ï¼Œæˆ‘å°† <code>section</code> å¯¹è±¡ä½œä¸ºä¸€ä¸ªç®€å•çš„å®¹å™¨æ¥åŒ…è£…æ ‡é¢˜ï¼Œé¡µè„šå’Œè¯¥éƒ¨åˆ†ä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚ ç»“æœï¼Ÿ é€šç”¨æ•°æ®æºç±»ï¼Œå¯ä»¥ä¸å¤šä¸ªå•å…ƒæ ¼ä¸€èµ·ä½¿ç”¨ï¼Œè€Œæ— éœ€ä»»ä½•è¡Œæˆ–èŠ‚ç´¢å¼•è®¡ç®—ã€‚ ğŸ‘ğŸ‘ğŸ‘</p><h2 id="æ•°æ®æº"><a href="#æ•°æ®æº" class="headerlink" title="æ•°æ®æº"></a><strong><em>æ•°æ®æº</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œä¸ºäº†ä½¿æˆ‘ä¸Šé¢æåˆ°çš„æ‰€æœ‰äº‹æƒ…éƒ½èƒ½èµ·ä½œç”¨ï¼Œæˆ‘éœ€è¦å®ç°é›†åˆè§†å›¾å§”æ‰˜ï¼Œæ•°æ®æºå’Œæµå¸ƒå±€å§”æ‰˜æ–¹æ³•ã€‚ è¿™å°±æ˜¯æˆ‘çš„æºä»£ç ç±»çš„è¯ç”Ÿã€‚ ä¸€åˆ‡éƒ½åœ¨è¿™é‡Œå®ç°ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨å„éƒ¨åˆ†ï¼Œé€šè¿‡è§†å›¾æ¨¡å‹å¯¹ç½‘æ ¼ç³»ç»Ÿè¿›è¡Œå»ºæ¨¡ä»¥å»ºç«‹é›†åˆè§†å›¾ã€‚ ä½†æ˜¯ï¼Œä»ç†è®ºä¸Šè®²ï¼Œè¶³å¤Ÿäº†ï¼Œè®©æˆ‘ä»¬åœ¨å®è·µä¸­è¿›è¡Œè§‚å¯Ÿã€‚ ğŸ‘“</p></br><h1 id="CollectionView-æ¡†æ¶åˆ›å»ºç¤ºä¾‹"><a href="#CollectionView-æ¡†æ¶åˆ›å»ºç¤ºä¾‹" class="headerlink" title="CollectionView æ¡†æ¶åˆ›å»ºç¤ºä¾‹"></a><strong>CollectionView æ¡†æ¶åˆ›å»ºç¤ºä¾‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½•ä½¿ä»»ä½•åˆ—è¡¨æˆ–ç½‘æ ¼å¸ƒå±€è½»æ¾è‡ªå¦‚ï¼Ÿ å¥½å§ï¼Œä½œä¸ºç¬¬ä¸€æ­¥ï¼Œåªéœ€å°†æˆ‘çš„ <code>CollectionView</code> æ¡†æ¶æ·»åŠ ä¸ºä¾èµ–é¡¹ã€‚ å®ƒå·²ç»æ”¯æŒ<code>Xcode 11</code> ï¼Œå› æ­¤æ‚¨å¯ä»¥ç›´æ¥ä»æ–‡ä»¶èœå•ä½¿ç”¨ <code>Swift</code> è½¯ä»¶åŒ…ç®¡ç†å™¨æ¥é›†æˆæ­¤è½¯ä»¶åŒ…ã€‚</p><blockquote><p><strong><code>æç¤ºï¼š</code></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åªéœ€åœ¨ <code>AppDelegate</code> æ–‡ä»¶ä¸­æ·»åŠ  <code>@_exported import CollectionView</code> è¡Œï¼Œé‚£ä¹ˆæ‚¨ä¸å¿…æ‹…å¿ƒé€ä¸ªæ–‡ä»¶å¯¼å…¥æ¡†æ¶ã€‚</p></blockquote><h2 id="åˆ›å»º-Cell"><a href="#åˆ›å»º-Cell" class="headerlink" title="åˆ›å»º Cell"></a><strong><em>åˆ›å»º Cell</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤æ­¥éª¤ä¸å¸¸è§„è®¾ç½®ç›¸åŒï¼Œé™¤äº†æ‚¨çš„å•å…ƒå¿…é¡»æ˜¯æˆ‘çš„ <code>Cell</code> ç±»çš„å­ç±»ã€‚ æ·»åŠ æ‚¨è‡ªå·±çš„å•å…ƒå¹¶åƒå¾€å¸¸ä¸€æ ·æ‰§è¡Œæ‰€æœ‰æ“ä½œã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AlbumCell</span>: <span class="title">Cell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> textLabel: <span class="type">UILabel!</span></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> detailTextLabel: <span class="type">UILabel!</span></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.awakeFromNib()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.textLabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>, weight: .bold)</span><br><span class="line">        <span class="keyword">self</span>.textLabel.textColor = .black</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.detailTextLabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>, weight: .bold)</span><br><span class="line">        <span class="keyword">self</span>.detailTextLabel.textColor = .darkGray</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.cornerRadius = <span class="number">8</span></span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">reset</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.reset()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.textLabel.text = <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">self</span>.detailTextLabel.text = <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">self</span>.imageView.image = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»º-Model"><a href="#åˆ›å»º-Model" class="headerlink" title="åˆ›å»º Model"></a><strong><em>åˆ›å»º Model</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åªéœ€é€‰æ‹©ä¸€ä¸ªæ¨¡å‹å¯¹è±¡ã€‚ å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>Model</code> åç¼€åˆ›å»ºæ–°çš„ç»“æ„æˆ–ç±»ã€‚ è¿™æ ·ï¼Œæˆ‘çŸ¥é“æ¨¡å‹æ­£åœ¨å¼•ç”¨å¯é‡ç”¨ç»„ä»¶æ–‡ä»¶å¤¹ä¸­çš„é›†åˆè§†å›¾æ¨¡å‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AlbumModel</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> artist: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> image: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»º-ViewModel"><a href="#åˆ›å»º-ViewModel" class="headerlink" title="åˆ›å»º ViewModel"></a><strong><em>åˆ›å»º ViewModel</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œä¸ç”¨åœ¨å§”æ‰˜å†…éƒ¨æˆ–åœ¨æŸäº›åœ°æ–¹çš„ <code>configure</code> æ–¹æ³•ä¸­é…ç½®å•å…ƒæ ¼ï¼Œè€Œæ˜¯ä¸ºå•å…ƒæ ¼å’Œå°†é€šè¿‡è§†å›¾è¡¨ç¤ºçš„æ•°æ®æ¨¡å‹åˆ›å»ºä¸€ä¸ªçœŸå®çš„è§†å›¾æ¨¡å‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AlbumViewModel</span>: <span class="title">ViewModel</span>&lt;<span class="title">AlbumCell</span>, <span class="title">AlbumModel</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">updateView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.view?.textLabel.text = <span class="keyword">self</span>.model.artist</span><br><span class="line">        <span class="keyword">self</span>.view?.detailTextLabel.text = <span class="keyword">self</span>.model.name</span><br><span class="line">        <span class="keyword">self</span>.view?.imageView.image = <span class="type">UIImage</span>(named: <span class="keyword">self</span>.model.image)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">size</span><span class="params">(grid: Grid)</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line">        <span class="keyword">if</span></span><br><span class="line">            (<span class="keyword">self</span>.collectionView.traitCollection.userInterfaceIdiom == .phone &amp;&amp;</span><br><span class="line">             <span class="keyword">self</span>.collectionView.traitCollection.verticalSizeClass == .compact) ||</span><br><span class="line">            <span class="keyword">self</span>.collectionView?.traitCollection.userInterfaceIdiom == .pad</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> grid.size(<span class="keyword">for</span>: <span class="keyword">self</span>.collectionView, ratio: <span class="number">1.2</span>, items: grid.columns / <span class="number">4</span>, gaps: grid.columns - <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> grid.columns == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> grid.size(<span class="keyword">for</span>: <span class="keyword">self</span>.collectionView, ratio: <span class="number">1.1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> grid.size(<span class="keyword">for</span>: <span class="keyword">self</span>.collectionView, ratio: <span class="number">1.2</span>, items: grid.columns / <span class="number">2</span>, gaps: grid.columns - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®æ•°æ®æº"><a href="#è®¾ç½®æ•°æ®æº" class="headerlink" title="è®¾ç½®æ•°æ®æº"></a><strong><em>è®¾ç½®æ•°æ®æº</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œä½¿ç”¨æ‚¨çš„çœŸå®æ•°æ®å¹¶ä½¿ç”¨è§†å›¾æ¨¡å‹å¡«å……æ‚¨çš„é›†åˆè§†å›¾ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> grid = <span class="type">Grid</span>(columns: <span class="number">1</span>, margin: <span class="type">UIEdgeInsets</span>(all: <span class="number">8</span>))</span><br><span class="line"><span class="keyword">self</span>.collectionView.source = .<span class="keyword">init</span>(grid: grid, [</span><br><span class="line">    [</span><br><span class="line">        <span class="type">HeaderViewModel</span>(.<span class="keyword">init</span>(title: <span class="string">"Albums"</span>))</span><br><span class="line">        <span class="type">AlbumViewModel</span>(<span class="keyword">self</span>.album)</span><br><span class="line">    ],</span><br><span class="line">])</span><br><span class="line"><span class="keyword">self</span>.collectionView.reloadData()</span><br></pre></td></tr></table></figure><h2 id="ğŸºğŸ¤˜ğŸ»ğŸ¸"><a href="#ğŸºğŸ¤˜ğŸ»ğŸ¸" class="headerlink" title="ğŸºğŸ¤˜ğŸ»ğŸ¸"></a>ğŸºğŸ¤˜ğŸ»ğŸ¸</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­å–œï¼Œæ‚¨å·²å®Œæˆç¬¬ä¸€ä¸ª <code>collection</code> è§†å›¾ã€‚ ä»…éœ€å‡ è¡Œä»£ç ï¼Œæ‚¨ä¾¿æ‹¥æœ‰äº† <code>ROCK SOLID</code>ä»£ç ï¼Œå¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼ ğŸ˜</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/ug-stp4.png" alt="collection"></p></br><h1 id="å‚ç›´æ»šåŠ¨å†…çš„æ°´å¹³æ»šåŠ¨"><a href="#å‚ç›´æ»šåŠ¨å†…çš„æ°´å¹³æ»šåŠ¨" class="headerlink" title="å‚ç›´æ»šåŠ¨å†…çš„æ°´å¹³æ»šåŠ¨"></a><strong>å‚ç›´æ»šåŠ¨å†…çš„æ°´å¹³æ»šåŠ¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªåŒ…å«é›†åˆè§†å›¾çš„å•å…ƒæ ¼å¹¶ä½¿ç”¨ä¸ä¸Šè¿°ç›¸åŒçš„æ–¹æ³•æ€ä¹ˆåŠï¼Ÿ åŒ…å« <code>collectionview</code> çš„ <code>collection</code> è§†å›¾â€¦ <code>UICollectionViewception</code> !!! ğŸ˜‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®Œå…¨æœ‰å¯èƒ½å¹¶ä¸”ç¡®å®å¾ˆå®¹æ˜“åšåˆ°ï¼Œä¸ºè§†å›¾æ¨¡å‹æä¾›æ•°æ®çš„å°†æ˜¯ä¸€ä¸ªé›†åˆè§†å›¾æºå¯¹è±¡ï¼Œæ‚¨å·²ç»å®Œæˆäº†ã€‚ ç¤ºä¾‹åº”ç”¨ç¨‹åºä¸­è¿˜åŒ…æ‹¬è½»æ¾ï¼Œç¥å¥‡å’Œè¶…å¥½å®ç°çš„å†…å®¹ã€‚</p></br><h1 id="å¸¦æœ‰åœ†è§’å›¾ç‰‡çš„-Section"><a href="#å¸¦æœ‰åœ†è§’å›¾ç‰‡çš„-Section" class="headerlink" title="å¸¦æœ‰åœ†è§’å›¾ç‰‡çš„ Section"></a><strong>å¸¦æœ‰åœ†è§’å›¾ç‰‡çš„ Section</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤šä¸ªéƒ¨åˆ†ï¼Ÿè¿™ä¹Ÿæ˜¯å°èœä¸€ç¢Ÿï¼Œå¦‚æœæ‚¨é˜…è¯»äº†æˆ‘å…ˆå‰æœ‰å…³ <a href="http://www.xuebaonline.com/UICollectionView%20Cells%EF%BC%9A%E5%9C%86%E5%BD%A2%E5%9B%BE%E5%83%8F%E3%80%81%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC/"><strong><code>è®¾ç½®åœ†å½¢Collectionè§†å›¾å•å…ƒ</code></strong></a> çš„æ–‡ç« ï¼Œæ‚¨å°†çŸ¥é“è¯¥å¦‚ä½•åšï¼Œä½†æ˜¯è¯·ä»gitlabä¸­æŸ¥çœ‹æºä»£ç ï¼Œå¹¶äº²è‡ªè¿›è¡Œæ“ä½œã€‚</p></br><h1 id="Callbacks-amp-amp-Actions"><a href="#Callbacks-amp-amp-Actions" class="headerlink" title="Callbacks &amp;&amp; Actions"></a><strong>Callbacks &amp;&amp; Actions</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨æˆ·äº‹ä»¶å¯ä»¥éå¸¸å®¹æ˜“åœ°å¤„ç†ï¼Œå› ä¸ºè§†å›¾æ¨¡å‹å¯ä»¥å…·æœ‰å§”æ‰˜æˆ–å›è°ƒå—ï¼Œè¿™ä»…å–å†³äºæ‚¨å–œæ¬¢å“ªä¸€ä¸ªã€‚ è¯¥ç¤ºä¾‹åŒ…å«ä¸€ä¸ª <code>onSelect</code> å¤„ç†ç¨‹åºï¼Œè¯¥å¤„ç†ç¨‹åºè¶…çº§å¥½å¹¶ä¸”å†…ç½®äºæ¡†æ¶ä¸­ã€‚ ğŸ˜</p></br><h1 id="é‡æ–°è®¡ç®—åŠ¨æ€å•å…ƒå¤§å°"><a href="#é‡æ–°è®¡ç®—åŠ¨æ€å•å…ƒå¤§å°" class="headerlink" title="é‡æ–°è®¡ç®—åŠ¨æ€å•å…ƒå¤§å°"></a><strong>é‡æ–°è®¡ç®—åŠ¨æ€å•å…ƒå¤§å°</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä¹Ÿæœ‰ä¸€ä¸ªå…³äº<a href="http://www.xuebaonline.com/Swift%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC%E7%9A%84%E8%87%AA%E9%80%82%E5%BA%94%E5%8D%95%E5%85%83%E6%A0%BC/"><strong><code>UICollectionè§†å›¾è‡ªåŠ¨è°ƒæ•´å¤§å°å•å…ƒæ ¼</code></strong></a> çš„æ–‡ç« ã€‚ åœ¨åˆ¶ä½œå®Œç½‘æ ¼ç³»ç»Ÿå¹¶å¼€å§‹ä½¿ç”¨è§†å›¾æ¨¡å‹ä¹‹åï¼Œæˆ‘è‡ªå·±å¯ä»¥è½»æ¾è®¡ç®—å‡ºå•å…ƒæ ¼çš„é«˜åº¦ï¼Œå¤§çº¦éœ€è¦ä¸¤è¡Œé¢å¤–çš„ä»£ç ã€‚ æˆ‘ç›¸ä¿¡è¿™æ˜¯å€¼å¾—çš„ï¼Œå› ä¸ºå°±è‡ªåŠ¨æ—‹è½¬è€Œè¨€ï¼Œè‡ªå®šå°ºå¯¸çš„å•å…ƒæ ¼æœ‰ç‚¹éº»çƒ¦ã€‚</p></br><h1 id="æ”¯æŒæ—‹è½¬ï¼Œè‡ªé€‚åº”"><a href="#æ”¯æŒæ—‹è½¬ï¼Œè‡ªé€‚åº”" class="headerlink" title="æ”¯æŒæ—‹è½¬ï¼Œè‡ªé€‚åº”"></a><strong>æ”¯æŒæ—‹è½¬ï¼Œè‡ªé€‚åº”</strong></h1><p>ä¸å¿…æ‹…å¿ƒå¤ªå¤šï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ç®€å•åœ°æ›´æ”¹ç½‘æ ¼æˆ–æ£€æŸ¥è§†å›¾æ¨¡å‹ä¸­çš„ç‰¹å¾é›†åˆã€‚ æˆ‘æƒ³è¯´å‡ ä¹æ‰€æœ‰äº‹æƒ…éƒ½å¯ä»¥ç«‹å³å®Œæˆã€‚ é‚£å°±æ˜¯å®ƒçš„ç¾ï¼Œå¯ä»¥éšæ„åšä»»ä½•æ‚¨æƒ³åšçš„äº‹æƒ…ï¼Œå¹¶ä»¥è‡ªå·±å–œæ¬¢çš„æ–¹å¼ä½¿ç”¨å®ƒã€‚ ğŸ“¦</p></br><h1 id="å¦‚æœæˆ‘å‘Šè¯‰ä½ â€¦åˆä¸€ä»¶äº‹ï¼šSwiftUI"><a href="#å¦‚æœæˆ‘å‘Šè¯‰ä½ â€¦åˆä¸€ä»¶äº‹ï¼šSwiftUI" class="headerlink" title="å¦‚æœæˆ‘å‘Šè¯‰ä½ â€¦åˆä¸€ä»¶äº‹ï¼šSwiftUI"></a><strong>å¦‚æœæˆ‘å‘Šè¯‰ä½ â€¦åˆä¸€ä»¶äº‹ï¼šSwiftUI</strong></h1><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ‚¨å–œæ¬¢è¿™ç§æ–¹æ³•å¾ˆé…·ï¼Œä½†æ˜¯å¦‚æœæˆ‘å‘Šè¯‰æ‚¨è¿˜æœ‰æ›´å¤šæ–¹æ³•å‘¢ï¼Ÿ æ‚¨æ˜¯å¦æƒ³åœ¨æ‰€æœ‰åœ°æ–¹éƒ½ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼ï¼Ÿ æˆ‘çš„æ„æ€æ˜¯åœ¨ <code>iOS</code> ï¼Œ<code>tvOS</code>ï¼Œ<code>macOS</code>ç”šè‡³ <code>watchOS</code> ä¸Šã€‚  æˆ‘å·²ç»åœ¨ <code>CoreKit</code> æ¡†æ¶ä¸­åˆ›å»ºäº†æ‰€æœ‰å†…å®¹ã€‚ è¿˜æ”¯æŒ <code>UITableViews</code> ï¼Œ <code>WKInterfaceTables</code> ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘çœŸçš„ç›¸ä¿¡è‹¹æœä»Šå¹´ä¼šé‡‡ç”¨ç±»ä¼¼çš„æ–¹å¼å¤„ç†ä¸‹ä¸€ä»£<code>UIKit / AppKit / UXKit</code>æ¡†æ¶ï¼ˆå½“ç„¶æ˜¯ç”¨<code>Swift</code>ç¼–å†™çš„ï¼‰ã€‚ æˆ‘ä¸æ˜¯åœ¨è°ˆè®ºè§†å›¾æ¨¡å‹æ¨¡å¼ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªå¹³å°ä¸Šæ€è€ƒç›¸åŒçš„<code>API</code>ã€‚ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äº†è§£å¦‚ä½•ä½¿ç”¨ &lt;code&gt;UICollectionView&lt;/code&gt; ï¼Œå…·æœ‰é«˜åº¦å¯é‡ç”¨æ€§çš„ &lt;code&gt;UIKit&lt;/code&gt; ç»„ä»¶å’Œä¸€äº› &lt;code&gt;MVVM&lt;/code&gt; æ¨¡å¼ï¼Œè€Œä¸ä¼šè´¹åŠ›åœ°è¿›è¡Œç´¢å¼•è·¯å¾„è®¡ç®—ã€‚&lt;/p&gt;
&lt;/br&gt;

&lt;h1 id=&quot;UICollectionViewç±»çš„å‰–æ&quot;&gt;&lt;a href=&quot;#UICollectionViewç±»çš„å‰–æ&quot; class=&quot;headerlink&quot; title=&quot;UICollectionViewç±»çš„å‰–æ&quot;&gt;&lt;/a&gt;&lt;strong&gt;UICollectionViewç±»çš„å‰–æ&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰ &lt;code&gt;UICollectionView&lt;/code&gt; ï¼Œå»ºè®®ç«‹å³ç†Ÿæ‚‰æ­¤ç±»ã€‚ å®ƒä»¬æ˜¯ &lt;code&gt;Apple&lt;/code&gt; å’Œå…¶ä»–ç¬¬ä¸‰æ–¹å¼€å‘äººå‘˜æä¾›çš„è®¸å¤šåº”ç”¨ç¨‹åºçš„åŸºæœ¬æ„å»ºå—ã€‚ å°±åƒ &lt;code&gt;UITableView&lt;/code&gt; ä¸€æ ·ã€‚ ç»“åˆ &lt;code&gt;IB&lt;/code&gt; å’Œ &lt;code&gt;Swift&lt;/code&gt; ä»£ç å¿«é€Ÿäº†è§£å’Œä½¿ç”¨å®ƒä»¬ã€‚ ğŸ’»&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://q8wtfza4q.bkt.clouddn.com/ug-stp1.png&quot; alt=&quot;UICollectionView&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªé€‚åº”å¸ƒå±€" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E9%80%82%E5%BA%94%E5%B8%83%E5%B1%80/"/>
    
      <category term="UICollectionView" scheme="http://www.xuebaonline.com/tags/UICollectionView/"/>
    
  </entry>
  
  <entry>
    <title>UICollectionView Cellsï¼šåœ†å½¢å›¾åƒã€æ”¯æŒæ—‹è½¬</title>
    <link href="http://www.xuebaonline.com/UICollectionView%20Cells%EF%BC%9A%E5%9C%86%E5%BD%A2%E5%9B%BE%E5%83%8F%E3%80%81%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC/"/>
    <id>http://www.xuebaonline.com/UICollectionView%20Cells%EF%BC%9A%E5%9C%86%E5%BD%A2%E5%9B%BE%E5%83%8F%E3%80%81%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC/</id>
    <published>2020-04-27T02:37:04.000Z</published>
    <updated>2020-04-27T02:53:13.821Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äº†è§£å¦‚ä½•é€šè¿‡æ—‹è½¬æ”¯æŒä¸ºåŒ…è£…åœ¨ <code>UICollectionView</code> å•å…ƒæ ¼å†…çš„ <code>UIImageView</code> é¡¹åˆ¶ä½œåœ†è§’ã€‚</p></br><h1 id="UICollectionView-ä¸­çš„åœ†å½¢å•å…ƒæ ¼"><a href="#UICollectionView-ä¸­çš„åœ†å½¢å•å…ƒæ ¼" class="headerlink" title="UICollectionView ä¸­çš„åœ†å½¢å•å…ƒæ ¼"></a><strong>UICollectionView ä¸­çš„åœ†å½¢å•å…ƒæ ¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ç°ç›®æ ‡ç›¸å¯¹å®¹æ˜“ï¼Œä½†æ˜¯å¦‚æœä½ ä¸çŸ¥é“åå°å‘ç”Ÿäº†ä»€ä¹ˆï¼Œé‚£å¯èƒ½ä¼šæ¯”ä½ æœ€åˆæƒ³çš„è¦éš¾ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæ·»åŠ å¸¦æœ‰ <code>UICollectionViewController</code> çš„æƒ…èŠ‚æè¦ï¼Œå°† <code>UIImageView</code> æ‹–åŠ¨åˆ°å•å…ƒæ ¼å†…ï¼Œè°ƒæ•´å…¶å¤§å°ï¼Œæ·»åŠ ä¸€äº›çº¦æŸï¼Œè®¾ç½®å•å…ƒæ ¼æ ‡è¯†ç¬¦ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/uc-stp1.png" alt="UICollectionViewController"></p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ƒçœ‹èµ·æ¥åº”è¯¥åƒä¸Šé¢çš„å›¾åƒã€‚ å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ç®€å•çš„ <code>UI</code> ã€‚ ç°åœ¨æœç´¢ä¸€äº›éšæœºå›¾åƒï¼Œå°†å…¶æ·»åŠ åˆ°é¡¹ç›®ä¸­ï¼Œè®©æˆ‘ä»¬è¿›è¡Œä¸€äº›å®é™…çš„ç¼–ç ã€‚ é¦–å…ˆï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºå•å…ƒå­ç±»å†…éƒ¨çš„å°æŠ€å·§ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cell</span>: <span class="title">UICollectionViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> bounds: <span class="type">CGRect</span> &#123;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.layoutIfNeeded()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.awakeFromNib()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.layoutSubviews()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.setCircularImageView()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setCircularImageView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.cornerRadius = <span class="type">CGFloat</span>(roundf(<span class="type">Float</span>(<span class="keyword">self</span>.imageView.frame.size.width / <span class="number">2.0</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ èƒ½çœ‹è§å®ƒå—ï¼Ÿ æ˜¯çš„ï¼Œä½ åº”è¯¥é‡å†™ <code>bounds</code> å±æ€§ã€‚ ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºæ§åˆ¶å™¨ç±»ç¼–å†™ä¸€äº›ç”¨äºæ”¶é›†è§†å›¾çš„åŸºæœ¬æ•°æ®æºï¼Œå¹¶ä¸ºæ—‹è½¬æ–¹æ³•æä¾›é€‚å½“çš„æ”¯æŒã€‚ ğŸ¤“</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"Cell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">Cell</span></span><br><span class="line"></span><br><span class="line">        cell.imageView.image = <span class="type">UIImage</span>(named: <span class="string">"Example.jpg"</span>)</span><br><span class="line">        cell.imageView.backgroundColor = .lightGray</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cell</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">traitCollectionDidChange</span><span class="params">(<span class="number">_</span> previousTraitCollection: UITraitCollection?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.traitCollectionDidChange(previousTraitCollection)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span></span><br><span class="line">            <span class="keyword">let</span> previousTraitCollection = previousTraitCollection,</span><br><span class="line">            <span class="keyword">self</span>.traitCollection.verticalSizeClass != previousTraitCollection.verticalSizeClass ||</span><br><span class="line">            <span class="keyword">self</span>.traitCollection.horizontalSizeClass != previousTraitCollection.horizontalSizeClass</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line">        <span class="keyword">self</span>.collectionView?.reloadData()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillTransition</span><span class="params">(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewWillTransition(to: size, with: coordinator)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line"></span><br><span class="line">        coordinator.animate(alongsideTransition: &#123; context <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">        &#125;, completion: &#123; context <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">self</span>.collectionView?.visibleCells.forEach &#123; cell <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">guard</span> <span class="keyword">let</span> cell = cell <span class="keyword">as</span>? <span class="type">Cell</span> <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                cell.setCircularImageView()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UICollectionViewDelegateFlowLayout</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">                        layout collectionViewLayout: UICollectionViewLayout,</span></span></span><br><span class="line"><span class="function"><span class="params">                        sizeForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">CGSize</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="type">CGSize</span>(width: collectionView.frame.size.width/<span class="number">3.0</span> - <span class="number">8</span>,</span><br><span class="line">                      height: collectionView.frame.size.width/<span class="number">3.0</span> - <span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…ä¸Šï¼Œå¦‚æœæ²¡æœ‰é‡å†™çš„ <code>bounds</code> å±æ€§ï¼Œåˆ™è¯¥ç¤ºä¾‹åœ¨å·¦ä¾§çœ‹èµ·æ¥åƒè¿™æ ·ã€‚ ğŸ˜¢</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/uc-stp2.jpg" alt="UICollectionViewController2"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥½ç¬‘å§ï¼Ÿ å³ä¾§çš„å›¾åƒæ˜¯å¸¦æœ‰è¶…å‡ºèŒƒå›´çš„å®é™…ç»“æœï¼Œè¿™æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚ å¦‚æœä½ ä¸è¦†ç›–è¾¹ç•Œå¹¶ä¸”ä¸ä¸ºå¯è§è§†å›¾é‡è®¾ <code>cornerRadius</code> å±æ€§ï¼Œé‚£ä¹ˆæ»šåŠ¨å’Œæ—‹è½¬å°†çœŸçš„å¾ˆå¥‡æ€ªã€‚ ä½ å¯èƒ½ä¼šé—®ï¼šä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ğŸ¤”</p></br><h1 id="Layers-springs-amp-struts-è¯´æ˜"><a href="#Layers-springs-amp-struts-è¯´æ˜" class="headerlink" title="Layers, springs &amp; struts è¯´æ˜"></a><strong>Layers, springs &amp; struts</strong> è¯´æ˜</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Apple</code> åœ¨ <code>UIKit</code> ä¸­ä»ç„¶å…·æœ‰åŸºäº <code>â€œ Springsï¼†Strutsâ€</code> çš„ä»£ç ã€‚ è¿™æ„å‘³ç€æ¡†æ¶å’Œè¾¹ç•Œè®¡ç®—æ­£åœ¨åº•å±‚ç³»ç»Ÿä¸­è¿›è¡Œï¼Œå¹¶ä¸”çº¦æŸç³»ç»Ÿä¹Ÿåœ¨åŠªåŠ›å·¥ä½œä»¥æ‰¾å‡ºé€‚å½“çš„æªæ–½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æœ‰ä¸€ä¸ª <code>initï¼ˆframe :)</code> æ–¹æ³•æˆ–ä¸€ä¸ªå¿…éœ€çš„ <code>initï¼ˆcoder :)</code> æ–¹æ³•æ—¶ï¼Œè¿™äº›å¸ƒå±€ä¼šç³Ÿé€äº†ã€‚ æˆ‘çœŸçš„å¾ˆå–œæ¬¢ <code>Interface Builder</code> ï¼Œä½†æ˜¯ç›´åˆ°æˆ‘ä»¬æ²¡æœ‰ä¸€ä¸ªå¥½çš„å·¥å…·æ¥åˆ›å»ºå‡ºè‰²çš„ç”¨æˆ·ç•Œé¢ï¼Œ <code>IB</code> æ‰å¯èƒ½æ˜¯æ½œåœ¨é”™è¯¯çš„å¦ä¸€å±‚ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä»…ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€çº¦æŸæˆ–å¸ƒå±€é”šä»ä»£ç åˆ›å»ºå•å…ƒï¼Œåˆ™ç”šè‡³ä¸ä¼šå‡ºç°æ­¤é—®é¢˜ï¼ è¿™æ˜¯å› ä¸ºIBæ ¹æ®ä½ åœ¨è®¾è®¡åŸå‹æ—¶æä¾›çš„æ¡†æ¶æ¥åˆ›å»ºå•å…ƒã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ å¿˜è®°äº† <code>initï¼ˆframe :)</code> ï¼Œè€Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ <code>UIImageView</code> å®ä¾‹å¹¶è®©è‡ªåŠ¨å¸ƒå±€å®Œæˆäº†è‰°è‹¦çš„å·¥ä½œï¼Œåˆ™å¸ƒå±€ç³»ç»Ÿå°†è§£å†³æ‰€æœ‰å…¶ä»–é—®é¢˜ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cell</span>: <span class="title">UICollectionViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> imageView = <span class="type">UIImageView</span>()</span><br><span class="line">        imageView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.addSubview(imageView)</span><br><span class="line">        <span class="keyword">self</span>.imageView = imageView</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.imageView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.topAnchor)</span><br><span class="line">        <span class="keyword">self</span>.imageView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.bottomAnchor)</span><br><span class="line">        <span class="keyword">self</span>.imageView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.leadingAnchor)</span><br><span class="line">        <span class="keyword">self</span>.imageView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.trailingAnchor)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.layoutSubviews()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">self</span>.imageView.layer.cornerRadius = <span class="type">CGFloat</span>(roundf(<span class="type">Float</span>(<span class="keyword">self</span>.imageView.frame.size.width/<span class="number">2.0</span>)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶ï¼Œä½ å¿…é¡»ç¼–å†™æ›´å¤šä»£ç ï¼Œåœ¨æ§åˆ¶å™¨ç±»ä¸­æ‰‹åŠ¨æ³¨å†Œå•å…ƒæ ¼ç±»ï¼Œå¹¶ä¸”è¿˜å¿…é¡»é‡å†™å•å…ƒæ ¼ä¸­çš„ <code>layoutSubviews</code> æ–¹æ³•ï¼Œä½†æ˜¯å®ƒå°†æŒ‰é¢„æœŸæ‰§è¡Œã€‚ ğŸ™„</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.collectionView?.register(<span class="type">Cell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">"Cell"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ— è®ºå¦‚ä½•ï¼Œåœ¨æ³¨å†Œä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçš„å•å…ƒæ ¼ä¹‹åï¼Œä½ å°†æœ‰ä¸€ç§å¾ˆå¥½çš„æ–¹å¼æ¥æ˜¾ç¤ºåœ†å½¢å›¾åƒã€‚ ä½¿ç”¨è¿™ç§æŠ€æœ¯éå¸¸æ£˜æ‰‹ï¼Œä½†æ˜¯åœ¨æ¯ç§æƒ…å†µä¸‹å®ƒè‚¯å®šéƒ½æœ‰æ•ˆã€‚ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äº†è§£å¦‚ä½•é€šè¿‡æ—‹è½¬æ”¯æŒä¸ºåŒ…è£…åœ¨ &lt;code&gt;UICollectionView&lt;/code&gt; å•å…ƒæ ¼å†…çš„ &lt;code&gt;UIImageView&lt;/code&gt; é¡¹åˆ¶ä½œåœ†è§’ã€‚&lt;/p&gt;
&lt;/br&gt;

&lt;h1 id=&quot;UICollectionView-ä¸­çš„åœ†å½¢å•å…ƒæ ¼&quot;&gt;&lt;a href=&quot;#UICollectionView-ä¸­çš„åœ†å½¢å•å…ƒæ ¼&quot; class=&quot;headerlink&quot; title=&quot;UICollectionView ä¸­çš„åœ†å½¢å•å…ƒæ ¼&quot;&gt;&lt;/a&gt;&lt;strong&gt;UICollectionView ä¸­çš„åœ†å½¢å•å…ƒæ ¼&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å®ç°ç›®æ ‡ç›¸å¯¹å®¹æ˜“ï¼Œä½†æ˜¯å¦‚æœä½ ä¸çŸ¥é“åå°å‘ç”Ÿäº†ä»€ä¹ˆï¼Œé‚£å¯èƒ½ä¼šæ¯”ä½ æœ€åˆæƒ³çš„è¦éš¾ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæ·»åŠ å¸¦æœ‰ &lt;code&gt;UICollectionViewController&lt;/code&gt; çš„æƒ…èŠ‚æè¦ï¼Œå°† &lt;code&gt;UIImageView&lt;/code&gt; æ‹–åŠ¨åˆ°å•å…ƒæ ¼å†…ï¼Œè°ƒæ•´å…¶å¤§å°ï¼Œæ·»åŠ ä¸€äº›çº¦æŸï¼Œè®¾ç½®å•å…ƒæ ¼æ ‡è¯†ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://q8wtfza4q.bkt.clouddn.com/uc-stp1.png&quot; alt=&quot;UICollectionViewController&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªé€‚åº”å¸ƒå±€" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E9%80%82%E5%BA%94%E5%B8%83%E5%B1%80/"/>
    
      <category term="UICollectionView" scheme="http://www.xuebaonline.com/tags/UICollectionView/"/>
    
  </entry>
  
  <entry>
    <title>Swiftæ”¯æŒæ—‹è½¬çš„è‡ªé€‚åº”å•å…ƒæ ¼</title>
    <link href="http://www.xuebaonline.com/Swift%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC%E7%9A%84%E8%87%AA%E9%80%82%E5%BA%94%E5%8D%95%E5%85%83%E6%A0%BC/"/>
    <id>http://www.xuebaonline.com/Swift%E6%94%AF%E6%8C%81%E6%97%8B%E8%BD%AC%E7%9A%84%E8%87%AA%E9%80%82%E5%BA%94%E5%8D%95%E5%85%83%E6%A0%BC/</id>
    <published>2020-04-27T02:12:39.000Z</published>
    <updated>2020-04-27T02:39:32.786Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½•åœ¨Swiftä¸­ä¸ºè¡¨æ ¼è§†å›¾å’Œé›†åˆè§†å›¾åˆ¶ä½œè‡ªå®šä¹‰å¤§å°çš„å•å…ƒæ ¼ï¼Œä»¥æ”¯æŒæ–¹å‘æ›´æ”¹å’ŒåŠ¨æ€å­—ä½“ç±»å‹ã€‚</p></br><h1 id="UITableView"><a href="#UITableView" class="headerlink" title="UITableView"></a><strong>UITableView</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œè®©æˆ‘ä»¬ä» <code>iOS</code> çš„æ ‡å‡†å•è§†å›¾æ¨¡æ¿å¼€å§‹ã€‚ å‘½åé¡¹ç›®ï¼Œç„¶åç›´æ¥è½¬åˆ° <code>Main.storyboard</code> æ–‡ä»¶ã€‚ é€‰æ‹©ä½ çš„ <code>ViewController</code> ï¼Œå°†å…¶åˆ é™¤å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>UITableViewController</code> <code>scene</code> ã€‚</p><a id="more"></a><p><img src="http://q8wtfza4q.bkt.clouddn.com/sc-stp1.jpg" alt="Main.storyboard"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†è¡¨è§†å›¾æ§åˆ¶å™¨åœºæ™¯è®¾ç½®ä¸ºåˆå§‹è§†å›¾æ§åˆ¶å™¨ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„ç±»åˆ›å»º <code>TableViewController.swift</code> æ–‡ä»¶ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableViewController</span>: <span class="title">UITableViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dataSource: [<span class="type">String</span>] = [</span><br><span class="line">        <span class="string">"Donec id elit non mi porta gravida at eget metus."</span>,</span><br><span class="line">        <span class="string">"Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus."</span>,</span><br><span class="line">        <span class="string">"Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Vestibulum id ligula porta felis euismod semper. Nullam id dolor id nibh ultricies vehicula ut id elit. Nullam quis risus eget urna mollis ornare vel eu leo."</span>,</span><br><span class="line">        <span class="string">"Maecenas faucibus mollis interdum."</span>,</span><br><span class="line">        <span class="string">"Donec ullamcorper nulla non metus auctor fringilla. Aenean lacinia bibendum nulla sed consectetur. Cras mattis consectetur purus sit amet fermentum."</span>,</span><br><span class="line">        <span class="string">"Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Maecenas faucibus mollis interdum."</span>,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TableViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.dataSource.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"Cell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">TableViewCell</span></span><br><span class="line"></span><br><span class="line">        cell.dynamicLabel?.text = <span class="keyword">self</span>.dataSource[indexPath.row]</span><br><span class="line">        cell.dynamicLabel.font  = <span class="type">UIFont</span>.preferredFont(forTextStyle: .body)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cell</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯¥è®¾ç½®å®é™…ä¸Šæ˜¯è‡ªæˆ‘æè¿°çš„ã€‚ ä½ å·²ç»æœ‰äº†ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä½œä¸ºæ•°æ®æºï¼Œä»¥åŠ <code>UITableViewDataSource</code> åè®®çš„å¿…éœ€å®ç°ã€‚</p><p>å”¯ä¸€ç¼ºå°‘çš„æ˜¯ <code>TableViewCell</code> ç±»:</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableViewCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> dynamicLabel: <span class="type">UILabel!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œåˆ›å»ºç±»æœ¬èº«ï¼Œç„¶åä½¿ç”¨ç•Œé¢æ„å»ºå™¨é€‰æ‹©è¡¨è§†å›¾æ§åˆ¶å™¨åœºæ™¯å¹¶å°†æ ‡ç­¾æ‹–åˆ°åŸå‹å•å…ƒä¸­ã€‚ å°†åŸå‹å•å…ƒæ ¼çš„ç±»è®¾ç½®ä¸º <code>TableViewCell</code> ã€‚ å¯é‡å¤ä½¿ç”¨çš„æ ‡è¯†ç¬¦å¯ä»¥ç®€å•åœ°æ˜¯ <code>â€œ Cellâ€</code>ã€‚ å°† <code>dynamicLabel</code> æ’åº§è¿æ¥åˆ°è§†å›¾ã€‚ å°†æ ‡ç­¾çš„ä¸Šï¼Œä¸‹ï¼Œå‰ï¼Œå°¾çº¦æŸèµ‹äºˆçˆ¶è§†å›¾ï¼Œé»˜è®¤å€¼ä¸º8ã€‚é€‰æ‹©æ ‡ç­¾ï¼Œå°†å­—ä½“è®¾ç½®ä¸ºä¸»ä½“æ ·å¼ï¼Œå¹¶å°† <code>lines</code> å±æ€§è®¾ç½®ä¸ºé›¶ã€‚ å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ ğŸ˜‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/sc-stp2.jpg" alt="TableViewCell"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ä½ å·²ç»å‡†å¤‡å¥½äº†ã€‚ ä½ åªéœ€è¦åœ¨è¡¨æ ¼è§†å›¾ä¸Šè®¾ç½®ä¼°è®¡çš„è¡Œé«˜ã€‚ åœ¨ <code>TableViewController</code> ç±»å†…éƒ¨ï¼Œæ›´æ”¹ <code>viewDidLoad</code> æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.tableView.estimatedRowHeight = <span class="number">44</span></span><br><span class="line">    <span class="keyword">self</span>.tableView.rowHeight = <span class="type">UITableView</span>.automaticDimension</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>EstimateRowHeight</code> å±æ€§å°†å‘Šè¯‰ç³»ç»Ÿ <code>tableview</code> åº”è¯¥å°è¯•åŠ¨æ€è®¡ç®—æ¯ä¸ªå•å…ƒæ ¼çš„é«˜åº¦ã€‚ ä½ è¿˜åº”è¯¥å°† <code>rowHeight</code> å±æ€§æ›´æ”¹ä¸ºè‡ªåŠ¨å°ºå¯¸ï¼Œå¦‚æœä¸è¿™æ ·åšï¼Œåˆ™ç³»ç»Ÿå°†ä½¿ç”¨é™æ€å•å…ƒæ ¼é«˜åº¦-ä½ å¯ä»¥åœ¨å•å…ƒæ ¼ä¸Šè®¾ç½®çš„ç•Œé¢ç”Ÿæˆå™¨é«˜åº¦ã€‚ ç°åœ¨æ„å»ºå¹¶è¿è¡Œã€‚ ä½ å°†æ‹¥æœ‰ä¸€ä¸ªå¸¦æœ‰è‡ªå®šä¹‰å°ºå¯¸å•å…ƒæ ¼çš„ç»ä½³è¡¨æ ¼è§†å›¾ã€‚ ä½ ç”šè‡³å¯ä»¥æ—‹è½¬è®¾å¤‡ï¼Œå®ƒå°†åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šéƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ åœ¨ <code>iOS</code> è¾…åŠ©åŠŸèƒ½è®¾ç½®ä¸‹æ›´æ”¹äº†æ–‡å­—å¤§å°ï¼Œè¡¨æ ¼è§†å›¾å°†åæ˜ è¿™äº›æ›´æ”¹ï¼Œå› æ­¤å®ƒå°†ä½¿å¸ƒå±€é€‚åº”æ–°å€¼ã€‚ è¡¨æ ¼è§†å›¾çš„å­—ä½“å¤§å°å°†ä½¿ <code>comcorint</code> æ›´æ”¹ä¸ºæ»‘å—å€¼ã€‚ ä½ å¯èƒ½æƒ³è¦è®¢é˜… <code>UIContentSizeCategory.didChangeNotification</code> ä»¥ä¾¿æ£€æµ‹å¤§å°æ›´æ”¹å¹¶é‡æ–°åŠ è½½ <code>UI</code> ã€‚ æ­¤åŠŸèƒ½ç§°ä¸ºåŠ¨æ€ç±»å‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NotificationCenter</span>.<span class="keyword">default</span>.addObserver(<span class="keyword">self</span>.tableView, selector: #selector(<span class="type">UITableView</span>.reloadData), name: <span class="type">UIContentSizeCategory</span>.didChangeNotification,, object: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></br><h1 id="UICollectionView"><a href="#UICollectionView" class="headerlink" title="UICollectionView"></a><strong>UICollectionView</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ç®€å•çš„éƒ¨åˆ†ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•é€šè¿‡é›†åˆè§†å›¾å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚ <code>UICollectionView</code> æ˜¯ä¸€ä¸ªé€šç”¨ç±»ï¼Œæ—¨åœ¨åˆ›å»ºè‡ªå®šä¹‰å¸ƒå±€ï¼Œå› ä¸ºè¿™ç§é€šç”¨è¡Œä¸ºï¼Œä½ å°†æ— æ³•ä»ç•Œé¢ç”Ÿæˆå™¨åˆ›å»ºè‡ªå®šä¹‰å•å…ƒæ ¼ã€‚ ä½ å¿…é¡»é€šè¿‡ä»£ç æ¥å®Œæˆã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨ <code>IB</code> ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆè§†å›¾æ§åˆ¶å™¨åœºæ™¯ï¼Œç„¶åå°†ä¸€ä¸ªæ¨é”®ä»ä¸Šä¸€ä¸ªè¡¨è§†å›¾å•å…ƒæ ¼æ‹–åˆ°è¿™ä¸ªæ–°çš„æ§åˆ¶å™¨ä¸Šã€‚ æœ€åï¼Œå°†æ•´ä¸ªå†…å®¹åµŒå…¥å¯¼èˆªæ§åˆ¶å™¨ä¸­ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/sc-stp3.jpg" alt="UICollectionView"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯¥å•å…ƒå°†ä¸æˆ‘ä»¬ç”¨äºè¡¨è§†å›¾çš„å•å…ƒå®Œå…¨ç›¸åŒï¼Œä½†æ˜¯å®ƒæ˜¯ <code>UICollectionViewCell</code> çš„å­ç±»ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†ç›´æ¥ä»ä»£ç æ„é€ å¸ƒå±€ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CollectionViewCell</span>: <span class="title">UICollectionViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> dynamicLabel: <span class="type">UILabel!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: <span class="keyword">self</span>.bounds)</span><br><span class="line">        label.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        label.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .body)</span><br><span class="line">        label.backgroundColor = <span class="type">UIColor</span>.darkGray</span><br><span class="line">        label.numberOfLines = <span class="number">0</span></span><br><span class="line">        label.preferredMaxLayoutWidth = frame.size.width</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.contentView.addSubview(label)</span><br><span class="line">        <span class="keyword">self</span>.dynamicLabel = label</span><br><span class="line"></span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            <span class="keyword">self</span>.contentView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.dynamicLabel.topAnchor),</span><br><span class="line">            <span class="keyword">self</span>.contentView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.dynamicLabel.bottomAnchor),</span><br><span class="line">            <span class="keyword">self</span>.contentView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.dynamicLabel.leadingAnchor),</span><br><span class="line">            <span class="keyword">self</span>.contentView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.dynamicLabel.trailingAnchor),</span><br><span class="line">        ])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">prepareForReuse</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.prepareForReuse()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.dynamicLabel.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .body)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setPreferred</span><span class="params">(width: CGFloat)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.dynamicLabel.preferredMaxLayoutWidth = width</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬ä¸ºå•å…ƒæ ¼æä¾›äº†ä¸€ä¸ªå­ç±»ï¼Œç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºè§†å›¾æ§åˆ¶å™¨ç±»ã€‚ åœ¨ <code>viewDidLoad</code> æ–¹æ³•å†…éƒ¨ï¼Œä½ å¿…é¡»åœ¨é›†åˆè§†å›¾ä¸Šè®¾ç½® <code>EstimatedItemSize</code> å±æ€§ã€‚ å¦‚æœè¾“å…¥çš„å°ºå¯¸é”™è¯¯ï¼Œè‡ªåŠ¨æ—‹è½¬å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.navigationItem.rightBarButtonItem = <span class="type">UIBarButtonItem</span>(barButtonSystemItem: .refresh, target: <span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.toggleColumns))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.collectionView?.register(<span class="type">CollectionViewCell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">"Cell"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> flowLayout = <span class="keyword">self</span>.collectionView?.collectionViewLayout <span class="keyword">as</span>? <span class="type">UICollectionViewFlowLayout</span> &#123;</span><br><span class="line">        flowLayout.itemSize = <span class="type">CGSize</span>(width: <span class="number">64</span>, height: <span class="number">64</span>)</span><br><span class="line">        flowLayout.minimumInteritemSpacing = <span class="number">10</span></span><br><span class="line">        flowLayout.minimumLineSpacing = <span class="number">20</span></span><br><span class="line">        flowLayout.sectionInset = <span class="type">UIEdgeInsets</span>(top: <span class="number">10</span>, <span class="keyword">left</span>: <span class="number">10</span>, bottom: <span class="number">10</span>, <span class="keyword">right</span>: <span class="number">10</span>)</span><br><span class="line">        flowLayout.estimatedItemSize = <span class="type">CGSize</span>(width: <span class="keyword">self</span>.preferredWith(forSize: <span class="keyword">self</span>.view.bounds.size), height: <span class="number">64</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.collectionView?.reloadData()</span><br><span class="line"></span><br><span class="line">    <span class="type">NotificationCenter</span>.<span class="keyword">default</span>.addObserver(<span class="keyword">self</span>.collectionView!, selector: #selector(<span class="type">UICollectionView</span>.reloadData), name: <span class="type">UIContentSizeCategory</span>.didChangeNotification, object: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ—‹è½¬æ–¹æ³•å†…éƒ¨ï¼Œå¿…é¡»ä½¿é›†åˆè§†å›¾å¸ƒå±€æ— æ•ˆï¼Œå¹¶åœ¨å‘ç”Ÿè¿‡æ¸¡æ—¶é‡æ–°è®¡ç®—å¯è§çš„å•å…ƒæ ¼å¤§å°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">traitCollectionDidChange</span><span class="params">(<span class="number">_</span> previousTraitCollection: UITraitCollection?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.traitCollectionDidChange(previousTraitCollection)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">guard</span></span><br><span class="line">        <span class="keyword">let</span> previousTraitCollection = previousTraitCollection,</span><br><span class="line">        <span class="keyword">self</span>.traitCollection.verticalSizeClass != previousTraitCollection.verticalSizeClass ||</span><br><span class="line">        <span class="keyword">self</span>.traitCollection.horizontalSizeClass != previousTraitCollection.horizontalSizeClass</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line">    <span class="keyword">self</span>.collectionView?.reloadData()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillTransition</span><span class="params">(to size: CGSize, with coordinator: UIViewControllerTransitionCoordinator)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewWillTransition(to: size, with: coordinator)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line">    <span class="keyword">self</span>.estimateVisibleCellSizes(to: size)</span><br><span class="line"></span><br><span class="line">    coordinator.animate(alongsideTransition: &#123; context <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">    &#125;, completion: &#123; context <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">self</span>.collectionView?.collectionViewLayout.invalidateLayout()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰ä¸¤ç§è¾…åŠ©æ–¹æ³•å¯ä»¥è®¡ç®—ä¼°è®¡çš„é¡¹ç›®å¤§å°çš„é¦–é€‰å®½åº¦å¹¶é‡æ–°è®¡ç®—å¯è§çš„å•å…ƒæ ¼å¤§å°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">preferredWith</span><span class="params">(forSize size: CGSize)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> columnFactor: <span class="type">CGFloat</span> = <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">self</span>.twoColumns &#123;</span><br><span class="line">        columnFactor = <span class="number">2.0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (size.width - <span class="number">30</span>) / columnFactor</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">estimateVisibleCellSizes</span><span class="params">(to size: CGSize)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> collectionView = <span class="keyword">self</span>.collectionView <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> flowLayout = <span class="keyword">self</span>.collectionView?.collectionViewLayout <span class="keyword">as</span>? <span class="type">UICollectionViewFlowLayout</span> &#123;</span><br><span class="line">        flowLayout.estimatedItemSize = <span class="type">CGSize</span>(width: <span class="keyword">self</span>.preferredWith(forSize: size), height: <span class="number">64</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    collectionView.visibleCells.forEach(&#123; cell <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> cell = cell <span class="keyword">as</span>? <span class="type">CollectionViewCell</span> &#123;</span><br><span class="line">            cell.setPreferred(width: <span class="keyword">self</span>.preferredWith(forSize: size))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœè¿›è¡Œé€‚å½“çš„è®¡ç®—ï¼Œç”šè‡³å¯ä»¥åŒ…å«å¤šåˆ—ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘åªæœ‰ä¸€ä»¶äº‹æ— æ³•è§£å†³ï¼Œä½†è¿™åªæ˜¯ä¸€æ¡æ—¥å¿—æ¶ˆæ¯ã€‚ å¦‚æœå‘åæ—‹è½¬è®¾å¤‡ï¼Œåˆ™æŸäº›å•å…ƒæ ¼å°†ä¸å¯è§ï¼Œå¸ƒå±€å¼•æ“å°†æ— æ³•å¯¹è¿™äº›å•å…ƒæ ¼è¿›è¡Œå¿«ç…§ã€‚</p><p><strong><em>å¿«ç…§å°šæœªæ¸²æŸ“çš„è§†å›¾å°†å¯¼è‡´å¿«ç…§ä¸ºç©ºã€‚ ç¡®ä¿åœ¨å¿«ç…§ä¹‹å‰æˆ–å±å¹•æ›´æ–°åå¿«ç…§è‡³å°‘å·²æ¸²æŸ“ä¸€æ¬¡è§†å›¾ã€‚</em></strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ å¯ä»¥é€šè¿‡æŸç§æ–¹å¼ä½¿æ­¤æ¶ˆæ¯æ¶ˆå¤± <code>OS_ACTIVITY_MODE = disable</code> ã€‚ ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚ä½•åœ¨Swiftä¸­ä¸ºè¡¨æ ¼è§†å›¾å’Œé›†åˆè§†å›¾åˆ¶ä½œè‡ªå®šä¹‰å¤§å°çš„å•å…ƒæ ¼ï¼Œä»¥æ”¯æŒæ–¹å‘æ›´æ”¹å’ŒåŠ¨æ€å­—ä½“ç±»å‹ã€‚&lt;/p&gt;
&lt;/br&gt;

&lt;h1 id=&quot;UITableView&quot;&gt;&lt;a href=&quot;#UITableView&quot; class=&quot;headerlink&quot; title=&quot;UITableView&quot;&gt;&lt;/a&gt;&lt;strong&gt;UITableView&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å› æ­¤ï¼Œè®©æˆ‘ä»¬ä» &lt;code&gt;iOS&lt;/code&gt; çš„æ ‡å‡†å•è§†å›¾æ¨¡æ¿å¼€å§‹ã€‚ å‘½åé¡¹ç›®ï¼Œç„¶åç›´æ¥è½¬åˆ° &lt;code&gt;Main.storyboard&lt;/code&gt; æ–‡ä»¶ã€‚ é€‰æ‹©ä½ çš„ &lt;code&gt;ViewController&lt;/code&gt; ï¼Œå°†å…¶åˆ é™¤å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ &lt;code&gt;UITableViewController&lt;/code&gt; &lt;code&gt;scene&lt;/code&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªé€‚åº”å¸ƒå±€" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E9%80%82%E5%BA%94%E5%B8%83%E5%B1%80/"/>
    
      <category term="UITableView" scheme="http://www.xuebaonline.com/tags/UITableView/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä½¿ç”¨å¸ƒå±€é”šç‚¹æ·»åŠ çº¦æŸ</title>
    <link href="http://www.xuebaonline.com/Swift%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F/"/>
    <id>http://www.xuebaonline.com/Swift%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F/</id>
    <published>2020-04-26T12:12:24.000Z</published>
    <updated>2020-04-27T01:30:53.037Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Auto Layout</code> ç»å¸¸å¼•èµ·æŠ±æ€¨çš„æ˜¯ï¼Œè¯­æ³•ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸçš„æ–¹å¼å¤šä¹ˆç¹çå’Œéš¾ä»¥ç†è§£ã€‚ å¹¸è¿çš„æ˜¯ï¼Œ<code>iOS 9</code> åšäº†å¾ˆå¤šæ”¹è¿›ã€‚ <code>å †æ ˆè§†å›¾</code> æ¶ˆé™¤äº†æˆ‘ä»¬åœ¨å…¸å‹å¸ƒå±€ä¸­åˆ›å»ºè®¸å¤šçº¦æŸçš„éœ€è¦ã€‚ ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œå¸ƒå±€é”šç‚¹å’Œå¸ƒå±€æŒ‡å—çš„å¼•å…¥å´è¢«å¿½ç•¥äº†ï¼Œä½†åŒæ ·æœ‰ç”¨ã€‚ ä»ã€Š Appleè‡ªåŠ¨ç‰ˆé¢æŒ‡å—ã€‹ä¸­ï¼š</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸæ—¶ï¼Œä½ æœ‰ä¸‰ä¸ªé€‰æ‹©ï¼šå¯ä»¥ä½¿ç”¨ <code>layout anchors</code> ï¼Œå¯ä»¥ä½¿ç”¨ <code>NSLayoutConstraint</code> ç±»ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨å¯è§†æ ¼å¼è¯­è¨€ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å°†å†æ¬¡çœ‹ä¸€ä¸‹å¸ƒå±€æŒ‡å—ï¼Œä½†æ˜¯ç°åœ¨è¿™é‡Œæ˜¯æˆ‘å…³äºä½¿ç”¨å¸ƒå±€é”šç‚¹åœ¨ä»£ç ä¸­è½»æ¾åˆ›å»ºçº¦æŸçš„è¯´æ˜ï¼š</p><a id="more"></a></br><h1 id="åˆ›å»ºçº¦æŸ"><a href="#åˆ›å»ºçº¦æŸ" class="headerlink" title="åˆ›å»ºçº¦æŸ"></a><strong>åˆ›å»ºçº¦æŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆæé†’ä¸€ä¸‹ä½¿ç”¨ <code>NSLayoutConstraint</code> ç±»æ–¹æ³•åˆ›å»ºçº¦æŸçš„æ–¹å¼ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå †æ ˆè§†å›¾ï¼Œæˆ‘ä»¬æƒ³è¦å›ºå®šåˆ°è§†å›¾æ§åˆ¶å™¨é¡¶çº§è§†å›¾çš„å·¦å³è¾¹è·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSLayoutConstraint</span>(item: stackView,</span><br><span class="line">  attribute: .leading,</span><br><span class="line">  relatedBy: .<span class="built_in">equal</span>,</span><br><span class="line">  toItem: view,</span><br><span class="line">  attribute: .leadingMargin,</span><br><span class="line">  multiplier: <span class="number">1</span>,</span><br><span class="line">  constant: <span class="number">0</span>).isActive = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="type">NSLayoutConstraint</span>(item: stackView,</span><br><span class="line">  attribute: .trailing,</span><br><span class="line">  relatedBy: .<span class="built_in">equal</span>,</span><br><span class="line">  toItem: view,</span><br><span class="line">  attribute: .trailingMargin,</span><br><span class="line">  multiplier: <span class="number">1</span>,</span><br><span class="line">  constant: <span class="number">0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¿˜å¯ä»¥å°†å †æ ˆè§†å›¾å›ºå®šåœ¨é¡¶éƒ¨å¸ƒå±€æŒ‡å—ä¸‹æ–¹ï¼Œä»¥å…è¢«å¯¼èˆªæ éšè—ï¼š</p>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSLayoutConstraint</span>(item: stackView,</span><br><span class="line">attribute: .top,</span><br><span class="line">relatedBy: .<span class="built_in">equal</span>,</span><br><span class="line">toItem: topLayoutGuide,</span><br><span class="line">attribute: .bottom,</span><br><span class="line">multiplier: <span class="number">1</span>,</span><br><span class="line">constant: <span class="number">8.0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è®¤ä¸ºæˆ‘ä»¬å¯ä»¥åŒæ„ï¼Œè¿™æ—¢ä¸ç¾è§‚ä¹Ÿä¸å®¹æ˜“ç†è§£ï¼ˆ <code>Objective-C</code> ç‰ˆæœ¬æ›´ç³Ÿï¼‰ã€‚ åœ¨æˆ‘çœ‹æ¥ï¼Œä½¿ç”¨ <strong><em>Visual Format Language</em></strong> å¹¶ä¸æ˜¯æ›´å¥½ï¼š</p>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> views: [<span class="type">String</span>: <span class="type">AnyObject</span>] =</span><br><span class="line">  [<span class="string">"stackView"</span> : stackView,</span><br><span class="line">   <span class="string">"topLayoutGuide"</span> : topLayoutGuide]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> h = <span class="type">NSLayoutConstraint</span>.constraints(</span><br><span class="line">  withVisualFormat: <span class="string">"|-[stackView]-|"</span>,</span><br><span class="line">  options: [],</span><br><span class="line">  metrics: <span class="literal">nil</span>,</span><br><span class="line">  views: views)</span><br><span class="line"><span class="type">NSLayoutConstraint</span>.activate(h)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> v = <span class="type">NSLayoutConstraint</span>.constraints(</span><br><span class="line">  withVisualFormat: <span class="string">"V:|[topLayoutGuide]-[stackView]"</span>,</span><br><span class="line">  options: [],</span><br><span class="line">  metrics: <span class="literal">nil</span>,</span><br><span class="line">  views: views)</span><br><span class="line"><span class="type">NSLayoutConstraint</span>.activate(v)</span><br></pre></td></tr></table></figure></br><h1 id="ä½¿ç”¨-Layout-Anchors-åˆ›å»ºçº¦æŸ"><a href="#ä½¿ç”¨-Layout-Anchors-åˆ›å»ºçº¦æŸ" class="headerlink" title="ä½¿ç”¨ Layout Anchors åˆ›å»ºçº¦æŸ"></a><strong>ä½¿ç”¨ <code>Layout Anchors</code> åˆ›å»ºçº¦æŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¸ƒå±€é”šç‚¹ä½¿åˆ›å»ºçº¦æŸæ›´åŠ å®¹æ˜“ã€‚ ä»æ–‡æ¡£ä¸­ï¼š</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>NSLayoutAnchor</code> ç±»æ˜¯ç”¨äºä½¿ç”¨æµç•…çš„ <code>API</code> åˆ›å»º <code>NSLayoutConstraint</code> å¯¹è±¡çš„å·¥å‚ç±»ã€‚ ä½¿ç”¨è¿™äº›çº¦æŸå¯ä»¥ä½¿ç”¨â€œè‡ªåŠ¨å¸ƒå±€â€ä»¥ç¼–ç¨‹æ–¹å¼å®šä¹‰ä½ çš„å¸ƒå±€ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¸ƒå±€é”šç‚¹æ˜¯ <code>UIView</code>ï¼ˆæˆ–<code>UILayoutGuide</code> ï¼‰ä¸Šçš„å±æ€§ã€‚ æ¯ä¸ªå±æ€§éƒ½æ˜¯ <code>NSLayoutAnchor</code> çš„å­ç±»ï¼Œå…¶æ–¹æ³•å¯ç›´æ¥ä¸ºå…¶ä»–ç›¸åŒç±»å‹çš„å¸ƒå±€é”šåˆ›å»ºçº¦æŸã€‚ <code>UIView</code> å…·æœ‰åäºŒç§ä¸åŒçš„å¸ƒå±€é”šç‚¹å±æ€§ï¼Œå¯ç”¨äºåˆ›å»ºæ°´å¹³ï¼Œå‚ç›´æˆ–åŸºäºå¤§å°çš„çº¦æŸï¼š</p><h2 id="æ°´å¹³çº¦æŸ"><a href="#æ°´å¹³çº¦æŸ" class="headerlink" title="æ°´å¹³çº¦æŸ"></a><strong><em>æ°´å¹³çº¦æŸ</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨äºåˆ›å»ºæ°´å¹³çº¦æŸçš„  <code>NSLayoutXAxisAnchor</code> ç±»å‹çš„å¸ƒå±€é”šç‚¹ï¼š</p><ul><li><code>centerXAnchor</code></li><li><code>leadingAnchor</code> å’Œ <code>trailingAnchor</code></li><li><code>leftAnchor</code> å’Œ <code>rightAnchor</code></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œåˆ›å»ºçº¦æŸä»¥ä½¿ä¸¤ä¸ªè§†å›¾å±…ä¸­å¯¹é½ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">myView.centerXAnchor.constraint(equalTo: view.centerXAnchor).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line">[<span class="keyword">self</span>.myView.centerXAnchor constraintEqualToAnchor:<span class="keyword">self</span>.view.centerXAnchor].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><p><strong><em>è¯·æ³¨æ„å¦‚ä½•ä»ä¸€ä¸ªè§†å›¾ä¸Šçš„é”šç‚¹å¼€å§‹å¹¶ä¸ºå¦ä¸€ä¸ªè§†å›¾ä¸Šçš„é”šç‚¹åˆ›å»ºçº¦æŸã€‚</em></strong></p><h2 id="å‚ç›´çº¦æŸ"><a href="#å‚ç›´çº¦æŸ" class="headerlink" title="å‚ç›´çº¦æŸ"></a><strong><em>å‚ç›´çº¦æŸ</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨äºåˆ›å»ºå‚ç›´çº¦æŸçš„ <code>NSLayoutYAxisAnchor</code> ç±»å‹çš„å¸ƒå±€é”šç‚¹ï¼š</p><ul><li><code>centerYAnchor</code></li><li><code>bottomAnchor</code> å’Œ <code>topAnchor</code></li><li><code>firstBaselineAnchor</code> å’Œ <code>lastBaselineAnchor</code></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œè¦åœ¨é—´è·æ’å®šçš„ä¸¤ä¸ªè§†å›¾çš„é¡¶éƒ¨å’Œåº•éƒ¨é”šç‚¹ä¹‹é—´åˆ›å»ºçº¦æŸï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Swift</span><br><span class="line">myView.bottomAnchor.constraint(equalTo: view.topAnchor,</span><br><span class="line">       constant: 8).isActive&#x3D;true</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line">[<span class="keyword">self</span>.myView.bottomAnchor constraintEqualToAnchor:<span class="keyword">self</span>.view.topAnchor</span><br><span class="line">      constant:<span class="number">8.0</span>].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><h2 id="åŸºäº-Size-çš„çº¦æŸ"><a href="#åŸºäº-Size-çš„çº¦æŸ" class="headerlink" title="åŸºäº Size çš„çº¦æŸ"></a><strong><em>åŸºäº Size çš„çº¦æŸ</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>NSLayoutDimension</code> ç±»å‹çš„å¸ƒå±€é”šï¼Œç”¨äºåˆ›å»ºåŸºäº <code>Size</code> çš„çº¦æŸï¼š</p><ul><li><code>heightAnchor</code> å’Œ <code>widthAnchor</code></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œä¸ºè§†å›¾åˆ›å»ºå®½åº¦çº¦æŸï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">myView.widthAnchor.constraint(equalToConstant: <span class="number">50.0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line">[<span class="keyword">self</span>.myView.widthAnchor constraintEqualToConstant:<span class="number">50.0</span>].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦ä¸€ä¸ªç¤ºä¾‹ï¼Œä½¿ç”¨ <code>multiplier</code> ä½¿ä¸€ä¸ªè§†å›¾çš„é«˜åº¦æ˜¯å¦ä¸€ä¸ªè§†å›¾çš„é«˜åº¦çš„ä¸¤å€ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">myView.heightAnchor.constraint(equalTo: otherView.heightAnchor,</span><br><span class="line">       multiplier: <span class="number">2.0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line">[<span class="keyword">self</span>.myView.heightAnchor constraintEqualToAnchor:<span class="keyword">self</span>.otherView.heightAnchor </span><br><span class="line">      multiplier:<span class="number">2.0</span>].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><h2 id="è§†å›¾è¾¹è·"><a href="#è§†å›¾è¾¹è·" class="headerlink" title="è§†å›¾è¾¹è·"></a><strong><em>è§†å›¾è¾¹è·</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>UIView</code> æ²¡æœ‰ç”¨äºåˆ›å»ºå †æ ˆè§†å›¾çº¦æŸæ—¶ä½¿ç”¨çš„å‰ï¼Œåè¾¹è·çš„å¸ƒå±€é”šã€‚ ç›¸åï¼Œ<code>iOS 9</code> æ·»åŠ äº†ä¸¤ä¸ªæ–°å±æ€§ï¼Œ <code>layoutMarginGuide</code> å’Œå¯è¯» <code>readableContentGuide</code> ï¼Œå®ƒä»¬åˆå…·æœ‰å¸ƒå±€é”šç‚¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œè¦å°†å­è§†å›¾çš„å‰æ²¿çº¦æŸåˆ°çˆ¶è§†å›¾çš„å‰é¢ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line"><span class="keyword">let</span> margins = view.layoutMarginsGuide    </span><br><span class="line">myView.leadingAnchor.constraint(equalTo: margins.leadingAnchor).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line"><span class="type">UILayoutGuide</span> *margins = <span class="keyword">self</span>.view.layoutMarginsGuide;</span><br><span class="line">[<span class="keyword">self</span>.myView.leadingAnchor constraintEqualToAnchor:</span><br><span class="line">      margins.leadingAnchor].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><h2 id="é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€"><a href="#é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€" class="headerlink" title="é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€"></a><strong><em>é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€</em></strong></h2><blockquote><p><strong><code>æç¤º:</code></strong> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¡¶éƒ¨å’Œåº•éƒ¨å¸ƒå±€æŒ‡å—å·²ç”± <code>iOS 11</code> ä¸­çš„ <code>â€œSafe Area Layout Guide â€</code> ä»£æ›¿ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä½ è¦ç›¸å¯¹äºé¡¶éƒ¨æˆ–åº•éƒ¨ <code>UIKit</code> å·¥å…·æ å®šä½å†…å®¹æ—¶ï¼Œè§†å›¾æ§åˆ¶å™¨å…·æœ‰ <code>topLayoutGuide</code> å’Œ <code>bottomLayoutGuide</code> å±æ€§ã€‚ ä» <code>iOS 9</code> å¼€å§‹ï¼Œè¿™ä¸¤ä¸ªå±æ€§å‡ç¬¦åˆ <code>UILayoutSupport</code>  åè®®ï¼Œè¯¥åè®®ä¸º <code>bar</code> æä¾›äº† <code>bottomAnchor</code> ï¼Œ <code>topAnchor</code> å’Œ <code>heightAnchor</code> å±æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œè¦å°†è§†å›¾æ”¾ç½®åœ¨é¡¶éƒ¨å¸ƒå±€æŒ‡å—åº•éƒ¨ä¸‹æ–¹8ä¸ªç‚¹å¤„ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">    myView.topAnchor.constraint(equalTo: topLayoutGuide.bottomAnchor,</span><br><span class="line">       constant: <span class="number">8.0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objective-C</span></span><br><span class="line">    [<span class="keyword">self</span>.stackView.topAnchor constraintEqualToAnchor:<span class="keyword">self</span>.topLayoutGuide.bottomAnchor</span><br><span class="line">       constant:<span class="number">8.0</span>].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><h2 id="æ§ä»¶ç»„åˆå¸ƒå±€"><a href="#æ§ä»¶ç»„åˆå¸ƒå±€" class="headerlink" title="æ§ä»¶ç»„åˆå¸ƒå±€"></a><strong><em>æ§ä»¶ç»„åˆå¸ƒå±€</em></strong></h2><p><strong>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å¸ƒå±€é”šåˆ›å»ºå †æ ˆè§†å›¾çº¦æŸï¼Ÿ</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘ä»¬è·å¾—çˆ¶è§†å›¾çš„ <code>leading</code> å’Œ <code>trailing</code> è¾¹è·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> margins = view.layoutMarginsGuide</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œæˆ‘ä»¬åˆ›å»º <code>leading</code> å’Œ <code>trailing</code>  æ°´å¹³çº¦æŸï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stackView.leadingAnchor.constraint(equalTo: margins.leadingAnchor).isActive = <span class="literal">true</span></span><br><span class="line">stackView.trailingAnchor.constraint(equalTo: margins.trailingAnchor).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨è§†å›¾æ§åˆ¶å™¨çš„ <code>topLayoutGuide</code> å±æ€§å°†å †æ ˆè§†å›¾å›ºå®šåœ¨å¯¼èˆªæ ä¸‹æ–¹çš„8ç‚¹å¤„ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stackView.topAnchor.constraint(equalTo: topLayoutGuide.bottomAnchor,</span><br><span class="line">          constant: <span class="number">8.0</span>).isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Objective-C</code> ç‰ˆæœ¬ç¨å¾®å†—é•¿ä¸€äº›ï¼Œä½†ä»æœ‰å¾ˆå¤§æ”¹è¿›ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UILayoutGuide</span> *margins = <span class="keyword">self</span>.view.layoutMarginsGuide;</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span>.stackView.leadingAnchor</span><br><span class="line">      constraintEqualToAnchor:margins.leadingAnchor].active = <span class="type">YES</span>;</span><br><span class="line">[<span class="keyword">self</span>.stackView.trailingAnchor</span><br><span class="line">      constraintEqualToAnchor:margins.trailingAnchor].active = <span class="type">YES</span>;</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span>.stackView.topAnchor</span><br><span class="line">      constraintEqualToAnchor:<span class="keyword">self</span>.topLayoutGuide.bottomAnchor</span><br><span class="line">      constant:<span class="number">8.0</span>].active = <span class="type">YES</span>;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ä»¥å‰çš„ä»£ç ç›¸æ¯”ï¼Œæˆ‘å‘ç°æ›´å®¹æ˜“ç†è§£è¿™äº›çº¦æŸçš„æ„å›¾ã€‚</p></br><h1 id="äº†è§£æ›´å¤š"><a href="#äº†è§£æ›´å¤š" class="headerlink" title="äº†è§£æ›´å¤š"></a><strong>äº†è§£æ›´å¤š</strong></h1><ul><li><a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/ProgrammaticallyCreatingConstraints.html" target="_blank" rel="noopener"><strong><code>Programmatically Creating Constraints (Apple Auto Layout Guide)</code></strong></a></li><li><a href="https://developer.apple.com/videos/play/wwdc2015/219/" target="_blank" rel="noopener"><strong><code>WWDC 2015 Session 219 Mysteries of Auto Layout, Part 2</code></strong></a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;Auto Layout&lt;/code&gt; ç»å¸¸å¼•èµ·æŠ±æ€¨çš„æ˜¯ï¼Œè¯­æ³•ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸçš„æ–¹å¼å¤šä¹ˆç¹çå’Œéš¾ä»¥ç†è§£ã€‚ å¹¸è¿çš„æ˜¯ï¼Œ&lt;code&gt;iOS 9&lt;/code&gt; åšäº†å¾ˆå¤šæ”¹è¿›ã€‚ &lt;code&gt;å †æ ˆè§†å›¾&lt;/code&gt; æ¶ˆé™¤äº†æˆ‘ä»¬åœ¨å…¸å‹å¸ƒå±€ä¸­åˆ›å»ºè®¸å¤šçº¦æŸçš„éœ€è¦ã€‚ ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œå¸ƒå±€é”šç‚¹å’Œå¸ƒå±€æŒ‡å—çš„å¼•å…¥å´è¢«å¿½ç•¥äº†ï¼Œä½†åŒæ ·æœ‰ç”¨ã€‚ ä»ã€Š Appleè‡ªåŠ¨ç‰ˆé¢æŒ‡å—ã€‹ä¸­ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸæ—¶ï¼Œä½ æœ‰ä¸‰ä¸ªé€‰æ‹©ï¼šå¯ä»¥ä½¿ç”¨ &lt;code&gt;layout anchors&lt;/code&gt; ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;NSLayoutConstraint&lt;/code&gt; ç±»ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨å¯è§†æ ¼å¼è¯­è¨€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘å°†å†æ¬¡çœ‹ä¸€ä¸‹å¸ƒå±€æŒ‡å—ï¼Œä½†æ˜¯ç°åœ¨è¿™é‡Œæ˜¯æˆ‘å…³äºä½¿ç”¨å¸ƒå±€é”šç‚¹åœ¨ä»£ç ä¸­è½»æ¾åˆ›å»ºçº¦æŸçš„è¯´æ˜ï¼š&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªåŠ¨åŒ–å¸ƒå±€" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E5%B1%80/"/>
    
  </entry>
  
  <entry>
    <title>SwiftæŒæ¡iOSè‡ªåŠ¨å¸ƒå±€é”šç‚¹</title>
    <link href="http://www.xuebaonline.com/Swift%E6%8E%8C%E6%8F%A1iOS%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9/"/>
    <id>http://www.xuebaonline.com/Swift%E6%8E%8C%E6%8F%A1iOS%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9/</id>
    <published>2020-04-26T12:10:50.000Z</published>
    <updated>2020-04-27T01:59:09.032Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯»æ‰¾ä½¿ç”¨å¸ƒå±€é”šç‚¹çš„æœ€ä½³å®è·µå—ï¼Ÿ è®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•ä½¿ç”¨ <code>Swift</code> ä»¥æ­£ç¡®çš„æ–¹å¼ä½¿ç”¨ <code>iOS</code> è‡ªåŠ¨å¸ƒå±€ç³»ç»Ÿã€‚</p><h1 id="ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ"><a href="#ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ" class="headerlink" title="ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ"></a><strong>ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘æƒ³å›é¡¾ä¸€ä¸‹ <code>UIViewController</code> ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½ å¯èƒ½å¯¹å…¶ä¸­ä¸€äº›æ–¹æ³•å¾ˆç†Ÿæ‚‰ã€‚ å®ƒä»¬æŒ‰ä»¥ä¸‹é¡ºåºè¢«è°ƒç”¨ï¼š</p><ul><li><code>loadView</code></li><li><code>viewDidLoad</code></li><li><code>viewWillAppear</code></li><li><code>viewWillLayoutSubviews</code></li><li><code>viewDidLayoutSubviews</code></li><li><code>viewDidAppear</code></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è‡ªåŠ¨å¸ƒå±€ä¹‹å‰ï¼Œä½ å¿…é¡»åœ¨ <code>viewDidLayoutSubviews</code> æ–¹æ³•å†…è¿›è¡Œå¸ƒå±€è®¡ç®—ï¼Œä½†æ˜¯ç”±äºè¿™æ˜¯ä¸“ä¸šçš„è‡ªåŠ¨å¸ƒå±€æ•™ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬ä»…å…³æ³¨ <code>loadView</code> å’Œ <code>viewDidLoad</code> æ–¹æ³•ã€‚ ğŸ¤“</p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›æ˜¯ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€åˆ›å»ºè§†å›¾å±‚æ¬¡ç»“æ„çš„åŸºæœ¬è§„åˆ™ï¼š</p><ul><li>æ°¸è¿œä¸è¦è‡ªå·±æ‰‹åŠ¨è®¡ç®—å¸§ï¼</li><li>ä½¿ç”¨ <code>.zero</code> åˆå§‹åŒ–è§†å›¾ <code>frame</code></li><li>å°† <code>translatesAutoresizing</code>, <code>MaskIntoConstraints</code> è®¾ç½®ä¸º <code>false</code></li><li>ä½¿ç”¨ <code>addSubview</code> å°†è§†å›¾æ·»åŠ åˆ°è§†å›¾å±‚æ¬¡ç»“æ„</li><li>åˆ›å»ºå¹¶æ¿€æ´»ä½ çš„å¸ƒå±€çº¦æŸ <code>NSLayoutConstraint.activate</code></li><li>ä½¿ç”¨ <code>loadView</code> ä»£æ›¿ <code>viewDidLoad</code> åˆ›å»ºå…·æœ‰çº¦æŸçš„è§†å›¾</li><li>é€šè¿‡ä½¿ç”¨å¼±å¼•ç”¨æ¥ç®¡ç†å†…å­˜ç®¡ç†</li><li>åœ¨ <code>viewDidLoad</code> ä¸­è®¾ç½®æ‰€æœ‰å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚èƒŒæ™¯è‰²ç­‰ã€‚</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç†è®ºè¶³å¤Ÿï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€çŸ­çš„ç¤ºä¾‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> testView: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> testView = <span class="type">UIView</span>(frame: .zero)</span><br><span class="line">        testView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(testView)</span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            testView.widthAnchor.constraint(equalToConstant: <span class="number">64</span>),</span><br><span class="line">            testView.widthAnchor.constraint(equalTo: testView.heightAnchor),</span><br><span class="line">            testView.centerXAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerXAnchor),</span><br><span class="line">            testView.centerYAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerYAnchor),</span><br><span class="line">        ])</span><br><span class="line">        <span class="keyword">self</span>.testView = testView</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.testView.backgroundColor = .red</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¾ˆç®€å•å§ï¼Ÿ åªéœ€å‡ è¡Œä»£ç ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¤§å°å›ºå®šçš„ä¸­å¿ƒå¯¹é½è§†å›¾ï¼Œå¹¶å¸¦æœ‰ä¸“ç”¨çš„ç±»å±æ€§å¼•ç”¨ã€‚ å¦‚æœé€šè¿‡æ¥å£æ„å»ºå™¨åˆ›å»ºå®Œå…¨ç›¸åŒçš„å¯¹è±¡ï¼Œåˆ™è°ƒç”¨ <code>loadView</code> æ–¹æ³•ï¼Œä½†æ˜¯ä½ å¿…é¡»è®¾ç½®å¯¹è¯¥è§†å›¾çš„ <code>@IBOutlet</code> å¼•ç”¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ²¡å…³ç³»ï¼Œè¯·éšæ„é€‰æ‹©ã€‚ æœ‰æ—¶æˆ‘å–œæ¬¢å’Œ <code>IB</code> ä¸€èµ·ç©ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘æ›´å–œæ¬¢ç¼–ç¨‹çš„åšäº‹æ–¹å¼ã€‚ ğŸ˜›</p></br><h1 id="å¸¸è§çš„UIKitè‡ªåŠ¨å¸ƒå±€çº¦æŸç”¨ä¾‹"><a href="#å¸¸è§çš„UIKitè‡ªåŠ¨å¸ƒå±€çº¦æŸç”¨ä¾‹" class="headerlink" title="å¸¸è§çš„UIKitè‡ªåŠ¨å¸ƒå±€çº¦æŸç”¨ä¾‹"></a><strong>å¸¸è§çš„UIKitè‡ªåŠ¨å¸ƒå±€çº¦æŸç”¨ä¾‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘åªä½¿ç”¨å¸ƒå±€é”šã€‚ ä½ å¯èƒ½ä¼šæµªè´¹æ—¶é—´ä½¿ç”¨ <code>visual format language</code> ï¼Œä½†è¿™ç»å¯¹æ˜¯æ­»èƒ¡åŒã€‚ å› æ­¤ï¼Œè¯·è®°ä½æˆ‘çš„è¯ï¼šä»…ä½¿ç”¨é”šç‚¹æˆ–å †æ ˆè§†å›¾ï¼Œè¯·å‹¿ä½¿ç”¨å…¶ä»–ä»»ä½•è§†å›¾ï¼ ğŸ˜‡</p><p>è¿™æ˜¯æˆ‘ç”¨æ¥åˆ›å»ºæ¼‚äº®å¸ƒå±€çš„æœ€å¸¸è§æ¨¡å¼ã€‚ ğŸ˜‰</p><h2 id="è®¾ç½®å›ºå®šå®½åº¦æˆ–é«˜åº¦"><a href="#è®¾ç½®å›ºå®šå®½åº¦æˆ–é«˜åº¦" class="headerlink" title="è®¾ç½®å›ºå®šå®½åº¦æˆ–é«˜åº¦"></a><strong><em>è®¾ç½®å›ºå®šå®½åº¦æˆ–é«˜åº¦</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€ä¸ªæ˜¯æœ€ç®€å•çš„ä¸€ä¸ªï¼šå°†è§†å›¾çš„é«˜åº¦æˆ–å®½åº¦è®¾ç½®ä¸ºå›ºå®šç‚¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">testView.widthAnchor.constraint(equalToConstant: <span class="number">320</span>),</span><br><span class="line">testView.heightAnchor.constraint(equalToConstant: <span class="number">240</span>),</span><br></pre></td></tr></table></figure><h2 id="è®¾å®šé•¿å®½æ¯”"><a href="#è®¾å®šé•¿å®½æ¯”" class="headerlink" title="è®¾å®šé•¿å®½æ¯”"></a><strong><em>è®¾å®šé•¿å®½æ¯”</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾ç½®è§†å›¾çš„çºµæ¨ªæ¯”åªæ˜¯å°†å®½åº¦é™åˆ¶ä¸ºé«˜åº¦ï¼Œåä¹‹äº¦ç„¶ï¼Œä½ å¯ä»¥é€šè¿‡ <code>multiplier</code> ç®€å•åœ°å®šä¹‰å€æ•°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">testView.widthAnchor.constraint(equalToConstant: <span class="number">64</span>),</span><br><span class="line">testView.widthAnchor.constraint(equalTo: testView.heightAnchor, multiplier: <span class="number">16</span>/<span class="number">9</span>),</span><br></pre></td></tr></table></figure><h2 id="æ°´å¹³å’Œå‚ç›´å±…ä¸­"><a href="#æ°´å¹³å’Œå‚ç›´å±…ä¸­" class="headerlink" title="æ°´å¹³å’Œå‚ç›´å±…ä¸­"></a><strong><em>æ°´å¹³å’Œå‚ç›´å±…ä¸­</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†è§†å›¾å±…ä¸­æ”¾ç½®åœ¨å¦ä¸€ä¸ªè§†å›¾ä¸­æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹æƒ…ï¼Œä¸ºæ­¤éœ€è¦ç‰¹å®šçš„é”šç‚¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">testView.centerXAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerXAnchor),</span><br><span class="line">testView.centerYAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerYAnchor),</span><br></pre></td></tr></table></figure><h2 id="ä¼¸å±•-ç”¨è¾¹è·å¡«å……å†…éƒ¨è§†å›¾"><a href="#ä¼¸å±•-ç”¨è¾¹è·å¡«å……å†…éƒ¨è§†å›¾" class="headerlink" title="ä¼¸å±• | ç”¨è¾¹è·å¡«å……å†…éƒ¨è§†å›¾"></a><strong><em>ä¼¸å±• | ç”¨è¾¹è·å¡«å……å†…éƒ¨è§†å›¾</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œå”¯ä¸€æ£˜æ‰‹çš„éƒ¨åˆ†æ˜¯ï¼Œå¯¹äºå¸¸é‡ï¼Œå°¾éƒ¨çº¦æŸå’Œåº•éƒ¨çº¦æŸçš„è¡Œä¸ºä¸é¡¶éƒ¨å’Œå‰éƒ¨çº¦æŸç•¥æœ‰ä¸åŒã€‚ é€šå¸¸ï¼Œä½ å¿…é¡»ä½¿ç”¨è´Ÿå€¼ï¼Œä½†ç»è¿‡å‡ æ¬¡å°è¯•ï¼Œä½ å°†åœ¨è¿™é‡Œç†è§£é€»è¾‘ã€‚ ğŸ˜…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">testView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.view.topAnchor, constant: <span class="number">32</span>),</span><br><span class="line">testView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.leadingAnchor, constant: <span class="number">32</span>),</span><br><span class="line">testView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.trailingAnchor, constant: -<span class="number">32</span>),</span><br><span class="line">testView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.view.bottomAnchor, constant: -<span class="number">32</span>),</span><br></pre></td></tr></table></figure><h2 id="æ¯”ä¾‹å®½åº¦æˆ–é«˜åº¦"><a href="#æ¯”ä¾‹å®½åº¦æˆ–é«˜åº¦" class="headerlink" title="æ¯”ä¾‹å®½åº¦æˆ–é«˜åº¦"></a><strong><em>æ¯”ä¾‹å®½åº¦æˆ–é«˜åº¦</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä¸æƒ³ä½¿ç”¨å¸¸é‡å€¼ï¼Œå¯ä»¥ä½¿ç”¨ <code>multiplier</code> ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">testView.widthAnchor.constraint(equalTo: <span class="keyword">self</span>.view.widthAnchor, multiplier: <span class="number">1</span>/<span class="number">3</span>),</span><br><span class="line">testView.heightAnchor.constraint(equalTo: <span class="keyword">self</span>.view.heightAnchor, multiplier: <span class="number">2</span>/<span class="number">3</span>),</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-safe-area-layout"><a href="#ä½¿ç”¨-safe-area-layout" class="headerlink" title="ä½¿ç”¨ safe area layout"></a><strong><em>ä½¿ç”¨ safe area layout</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨æœ€æ–°çš„ <code>iPhone</code> ï¼Œä½ å°†éœ€è¦ä¸€äº›æŒ‡å—ï¼Œä»¥ç¡®ä¿ä½ å®‰å…¨æ— è™ã€‚ è¿™å°±æ˜¯è§†å›¾å…·æœ‰ <code>safeAreaLayoutGuide</code> å±æ€§çš„åŸå› ã€‚ è°ƒå‡ºå®‰å…¨åŒºåŸŸæŒ‡å—åï¼Œå³å¯è·å¾—æ‰€æœ‰å¸¸ç”¨é”šã€‚ ğŸ’ª</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">testView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.topAnchor),</span><br><span class="line">testView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.leadingAnchor),</span><br><span class="line">testView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.trailingAnchor),</span><br><span class="line">testView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.bottomAnchor),</span><br></pre></td></tr></table></figure></br><h1 id="å¸¦æœ‰åŠ¨ç”»çš„å¸ƒå±€çº¦æŸ"><a href="#å¸¦æœ‰åŠ¨ç”»çš„å¸ƒå±€çº¦æŸ" class="headerlink" title="å¸¦æœ‰åŠ¨ç”»çš„å¸ƒå±€çº¦æŸ"></a><strong>å¸¦æœ‰åŠ¨ç”»çš„å¸ƒå±€çº¦æŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰çº¦æŸçš„åŠ¨ç”»å¾ˆå®¹æ˜“ï¼Œä½ ä¸åº”è¯¥ç›¸ä¿¡åˆ«äººä¼šè¯´ä»€ä¹ˆã€‚ æˆ‘åˆ¶å®šäº†ä¸€äº›è§„åˆ™å’Œç¤ºä¾‹ï¼Œå¯ä»¥å¸®åŠ©ä½ ç†è§£ä¸ºçº¦æŸçš„å¸¸é‡å€¼è®¾ç½®åŠ¨ç”»æ•ˆæœä»¥åŠåˆ‡æ¢å„ç§çº¦æŸçš„åŸºæœ¬åŸç†ã€‚ ğŸ‘</p><p><strong>è§„åˆ™</strong>ï¼š</p><ul><li>å°†æ ‡å‡† <code>UIView</code> åŠ¨ç”»ä¸ <code>layoutIfNeeded</code> ä¸€èµ·ä½¿ç”¨</li><li>å§‹ç»ˆå…ˆåœç”¨çº¦æŸ</li><li>éµå®ˆåœç”¨çš„çº¦æŸ</li><li>ç©å¾—å¼€å¿ƒï¼ ğŸ˜›</li></ul><p>çº¦æŸåŠ¨ç”»ç¤ºä¾‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> testView: <span class="type">UIView!</span></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> topConstraint: <span class="type">NSLayoutConstraint!</span></span><br><span class="line">    <span class="keyword">var</span> bottomConstraint: <span class="type">NSLayoutConstraint!</span></span><br><span class="line">    <span class="keyword">var</span> heightConstraint: <span class="type">NSLayoutConstraint!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> testView = <span class="type">UIView</span>(frame: .zero)</span><br><span class="line">        testView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(testView)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> topConstraint = testView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.topAnchor)</span><br><span class="line">        <span class="keyword">let</span> bottomConstraint = testView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.bottomAnchor)</span><br><span class="line"></span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            topConstraint,</span><br><span class="line">            testView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.leadingAnchor),</span><br><span class="line">            testView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.trailingAnchor),</span><br><span class="line">            bottomConstraint,</span><br><span class="line">        ])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> heightConstraint = testView.heightAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.heightAnchor, multiplier: <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.testView = testView</span><br><span class="line">        <span class="keyword">self</span>.topConstraint = topConstraint</span><br><span class="line">        <span class="keyword">self</span>.bottomConstraint = bottomConstraint</span><br><span class="line">        <span class="keyword">self</span>.heightConstraint = heightConstraint</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.testView.backgroundColor = .red</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> tap = <span class="type">UITapGestureRecognizer</span>(target: <span class="keyword">self</span>, action: #selector(<span class="keyword">self</span>.tapped))</span><br><span class="line">        <span class="keyword">self</span>.view.addGestureRecognizer(tap)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">tapped</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.topConstraint.constant != <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.topConstraint.constant = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.topConstraint.constant = <span class="number">64</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.bottomConstraint.isActive &#123;</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.deactivate([<span class="keyword">self</span>.bottomConstraint])</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.activate([<span class="keyword">self</span>.heightConstraint])</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.deactivate([<span class="keyword">self</span>.heightConstraint])</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.activate([<span class="keyword">self</span>.bottomConstraint])</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">UIView</span>.animate(withDuration: <span class="number">0.25</span>) &#123;</span><br><span class="line">            <span class="keyword">self</span>.view.layoutIfNeeded()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥ä¸‹æ¥ï¼Œè¿˜ç®—ä¸é”™ï¼šé€‚åº”æ€§å¼ºå¹¶ä¸”æ”¯æŒå¤šç§è®¾å¤‡å±å¹•å°ºå¯¸ã€‚ ğŸ¤”</p></br><h1 id="å¦‚ä½•ä¸ºiOSåˆ›å»ºè‡ªé€‚åº”å¸ƒå±€ï¼Ÿ"><a href="#å¦‚ä½•ä¸ºiOSåˆ›å»ºè‡ªé€‚åº”å¸ƒå±€ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä¸ºiOSåˆ›å»ºè‡ªé€‚åº”å¸ƒå±€ï¼Ÿ"></a><strong>å¦‚ä½•ä¸ºiOSåˆ›å»ºè‡ªé€‚åº”å¸ƒå±€ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‹¹æœå…¬å¸å†…ç½®çš„ <code>iOS</code> åº”ç”¨ç¨‹åºä¸­éƒ½éš¾ä»¥é€‚åº”è‡ªé€‚åº”å¸ƒå±€ã€‚ å¦‚æœä½ æŸ¥çœ‹ä½¿ç”¨æ”¶è—å¤¹è§†å›¾åˆ¶ä½œçš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ç…§ç‰‡ï¼‰ï¼Œåˆ™åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šçš„å¸ƒå±€éƒ½å¯ä»¥ã€‚ ä½†æ˜¯ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›-æˆ‘è®¤ä¸º-åœ¨æ›´å¤§çš„å±å¹•ä¸Šæ˜¯å¯æ€•çš„ç»å†ã€‚ <code>#just use collectionview</code> æ‰€æœ‰å†…å®¹ã€‚ ğŸ¤</p><h2 id="æ”¯æŒæ—‹è½¬"><a href="#æ”¯æŒæ—‹è½¬" class="headerlink" title="æ”¯æŒæ—‹è½¬"></a><strong><em>æ”¯æŒæ—‹è½¬</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡ªé€‚åº”å¸ƒå±€çš„ç¬¬ä¸€æ­¥æ˜¯æ”¯æŒå¤šç§è®¾å¤‡æ–¹å‘ã€‚ ä½ å¯ä»¥æŸ¥çœ‹æˆ‘ä»¥å‰æœ‰å…³iOSè‡ªåŠ¨å¸ƒå±€çš„æ–‡ç« ï¼Œå…¶ä¸­æœ‰å¾ˆå¤šå…³äºæ—‹è½¬æ”¯æŒï¼Œåœ¨è‡ªåŠ¨å¸ƒå±€åŒºåŸŸå†…ä½¿ç”¨å›¾å±‚ç­‰æ–¹é¢çš„å¥½æ–‡ç« ã€‚</p><h2 id="ç‰¹å¾é›†åˆ"><a href="#ç‰¹å¾é›†åˆ" class="headerlink" title="ç‰¹å¾é›†åˆ"></a><strong><em>ç‰¹å¾é›†åˆ</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬äºŒæ­¥æ˜¯è°ƒæ•´ç‰¹å¾é›†åˆã€‚  <code>UITraitCollection</code> å¯ä»¥ä¸ºä½ åˆ†ç»„æ‰€æœ‰ç‰¹å®šäºç¯å¢ƒçš„ç‰¹å¾ï¼Œä¾‹å¦‚å°ºå¯¸ç±»åˆ«ï¼Œæ˜¾ç¤ºæ¯”ä¾‹ï¼Œç”¨æˆ·ç•Œé¢ <code>idom</code> ç­‰ã€‚ å¤§å¤šæ•°æ—¶å€™ï¼Œä½ å°†ä¸å¾—ä¸æ£€æŸ¥å‚ç›´å’Œæ°´å¹³å°ºå¯¸ç±»åˆ«ã€‚ æœ‰è®¾å¤‡å°ºå¯¸ç±»åˆ«çš„å‚è€ƒä»¥åŠ <code>Apple</code> æ‰€åšçš„æ‰€æœ‰å¯èƒ½çš„å˜åŒ–ï¼Œè¯·å‚é˜…ä¸‹é¢çš„å¤–éƒ¨èµ„æºéƒ¨åˆ†ã€‚ ğŸ˜‰</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢çš„è¿™ä¸ªå°æ®µ <code>Swift</code> ä»£ç ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ£€æŸ¥å°ºå¯¸ç±»åˆ«ï¼Œä»¥ä¾¿ä¸ºç´§å‡‘å‹å’Œå¸¸è§„å±å¹•è®¾ç½®ä¸åŒçš„å¸ƒå±€ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> testView: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> regularConstraints: [<span class="type">NSLayoutConstraint</span>] = []</span><br><span class="line">    <span class="keyword">var</span> compactConstraints: [<span class="type">NSLayoutConstraint</span>] = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> testView = <span class="type">UIView</span>(frame: .zero)</span><br><span class="line">        testView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(testView)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.regularConstraints = [</span><br><span class="line">            testView.widthAnchor.constraint(equalToConstant: <span class="number">64</span>),</span><br><span class="line">            testView.widthAnchor.constraint(equalTo: testView.heightAnchor),</span><br><span class="line">            testView.centerXAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerXAnchor),</span><br><span class="line">            testView.centerYAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerYAnchor),</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.compactConstraints = [</span><br><span class="line">            testView.topAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.topAnchor),</span><br><span class="line">            testView.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.leadingAnchor),</span><br><span class="line">            testView.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.trailingAnchor),</span><br><span class="line">            testView.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.view.safeAreaLayoutGuide.bottomAnchor),</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.activateCurrentConstraints()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.testView = testView</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">activateCurrentConstraints</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.deactivate(<span class="keyword">self</span>.compactConstraints + <span class="keyword">self</span>.regularConstraints)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.traitCollection.verticalSizeClass == .regular &#123;</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.activate(<span class="keyword">self</span>.regularConstraints)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>.activate(<span class="keyword">self</span>.compactConstraints)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.testView.backgroundColor = .red</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - rotation support</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> shouldAutorotate: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> supportedInterfaceOrientations: <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .allButUpsideDown</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> preferredInterfaceOrientationForPresentation: <span class="type">UIInterfaceOrientation</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .portrait</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - trait collections</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">traitCollectionDidChange</span><span class="params">(<span class="number">_</span> previousTraitCollection: UITraitCollection?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.traitCollectionDidChange(previousTraitCollection)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.activateCurrentConstraints()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾å¤‡æ£€æµ‹"><a href="#è®¾å¤‡æ£€æµ‹" class="headerlink" title="è®¾å¤‡æ£€æµ‹"></a><strong><em>è®¾å¤‡æ£€æµ‹</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ ä¹Ÿå¯ä»¥é€šè¿‡ <code>UIDevice</code> ç±»æ£€æŸ¥ç”¨æˆ·ç•Œé¢ <code>idom</code> ï¼ˆæ˜¯ <code>iPhone</code> è¿˜æ˜¯ <code>iPad</code> ï¼Ÿï¼‰ï¼Œä»¥åŸºäºè¯¥è®¾å¤‡è®¾ç½®ä¾‹å¦‚å­—ä½“å¤§å°ã€‚ ğŸ“±</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIDevice</span>.current.userInterfaceIdiom == .pad</span><br></pre></td></tr></table></figure><h2 id="å±å¹•å°ºå¯¸"><a href="#å±å¹•å°ºå¯¸" class="headerlink" title="å±å¹•å°ºå¯¸"></a><strong><em>å±å¹•å°ºå¯¸</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¡®å®šä½ çš„ç¯å¢ƒçš„å¦ä¸€ä¸ªé€‰é¡¹æ˜¯æ£€æŸ¥å±å¹•çš„å¤§å°ã€‚ ä½ å¯ä»¥æ£€æŸ¥åŸå§‹åƒç´ æ•°æˆ–ä»¥ <code>points</code> ä¸ºå•ä½çš„ç›¸å¯¹å¤§å°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iPhone X</span></span><br><span class="line"><span class="type">UIScreen</span>.main.nativeBounds   <span class="comment">// 1125x2436</span></span><br><span class="line"><span class="type">UIScreen</span>.main.bounds         <span class="comment">// 375x812</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸æˆ‘ä¼šå°½åŠ›éµå®ˆè¿™äº›è§„åˆ™ã€‚ æˆ‘çœŸçš„ä¸è®°å¾—ä¸€ä¸ªåœºæ™¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘éœ€è¦çš„ä¸åªæ˜¯ä¸Šé¢åˆ—å‡ºçš„æ‰€æœ‰å†…å®¹ã€‚ ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¯»æ‰¾ä½¿ç”¨å¸ƒå±€é”šç‚¹çš„æœ€ä½³å®è·µå—ï¼Ÿ è®©æˆ‘ä»¬å­¦ä¹ å¦‚ä½•ä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; ä»¥æ­£ç¡®çš„æ–¹å¼ä½¿ç”¨ &lt;code&gt;iOS&lt;/code&gt; è‡ªåŠ¨å¸ƒå±€ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ&quot;&gt;&lt;a href=&quot;#ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ&quot; class=&quot;headerlink&quot; title=&quot;ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ&quot;&gt;&lt;/a&gt;&lt;strong&gt;ä»¥ä»£ç æ–¹å¼åˆ›å»ºè§†å›¾å’Œçº¦æŸ&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é¦–å…ˆï¼Œæˆ‘æƒ³å›é¡¾ä¸€ä¸‹ &lt;code&gt;UIViewController&lt;/code&gt; ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä½ å¯èƒ½å¯¹å…¶ä¸­ä¸€äº›æ–¹æ³•å¾ˆç†Ÿæ‚‰ã€‚ å®ƒä»¬æŒ‰ä»¥ä¸‹é¡ºåºè¢«è°ƒç”¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;loadView&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;viewDidLoad&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;viewWillAppear&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;viewWillLayoutSubviews&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;viewDidLayoutSubviews&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;viewDidAppear&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨è‡ªåŠ¨å¸ƒå±€ä¹‹å‰ï¼Œä½ å¿…é¡»åœ¨ &lt;code&gt;viewDidLayoutSubviews&lt;/code&gt; æ–¹æ³•å†…è¿›è¡Œå¸ƒå±€è®¡ç®—ï¼Œä½†æ˜¯ç”±äºè¿™æ˜¯ä¸“ä¸šçš„è‡ªåŠ¨å¸ƒå±€æ•™ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬ä»…å…³æ³¨ &lt;code&gt;loadView&lt;/code&gt; å’Œ &lt;code&gt;viewDidLoad&lt;/code&gt; æ–¹æ³•ã€‚ ğŸ¤“&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è‡ªåŠ¨åŒ–å¸ƒå±€" scheme="http://www.xuebaonline.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E5%B1%80/"/>
    
  </entry>
  
  <entry>
    <title>iOSè‡ªåŠ¨åŒ–å¸ƒå±€ç¼–ç¨‹</title>
    <link href="http://www.xuebaonline.com/iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E5%B1%80%E7%BC%96%E7%A8%8B/"/>
    <id>http://www.xuebaonline.com/iOS%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E5%B1%80%E7%BC%96%E7%A8%8B/</id>
    <published>2020-04-26T11:42:40.000Z</published>
    <updated>2020-04-26T12:14:39.344Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™ä¸ªå‡ºè‰²çš„ <code>iOS Auto Layout</code> æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†æ•™ä½ å¦‚ä½•æ”¯æŒæ—‹è½¬ï¼Œä½¿ç”¨çº¦æŸï¼Œä½¿ç”¨å›¾å±‚ä»¥åŠè®¾ç½®æ‹è§’åŠå¾„çš„åŠ¨ç”»ã€‚</p><br><h1 id="æ”¯æŒæ—‹è½¬"><a href="#æ”¯æŒæ—‹è½¬" class="headerlink" title="æ”¯æŒæ—‹è½¬"></a><strong>æ”¯æŒæ—‹è½¬</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ çš„åº”ç”¨ç¨‹åºè¦æ”¯æŒå¤šç§è®¾å¤‡æ–¹å‘ï¼Œåˆ™åº”åœ¨è§†å›¾æ§åˆ¶å™¨å†…éƒ¨å®ç°ä»¥ä¸‹æ–¹æ³•ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> shouldAutorotate: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> supportedInterfaceOrientations: <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .portrait</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> preferredInterfaceOrientationForPresentation: <span class="type">UIInterfaceOrientation</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .portrait</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶ï¼Œä½ å¯ä»¥æ›´æ”¹è¿”å›å€¼ä»¥ä¸ä»…æ”¯æŒçºµå‘ï¼Œè¿˜æ”¯æŒæ¨ªå‘æ¨¡å¼ã€‚ è¿™å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ çš„æ§åˆ¶å™¨åµŒå…¥åœ¨å¯¼èˆªæˆ–é€‰é¡¹å¡æ æ§åˆ¶å™¨å†…éƒ¨ï¼Œåˆ™æ—‹è½¬å°†åœæ­¢å·¥ä½œã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»ç»§æ‰¿ <code>UINavigationController</code> çš„å­ç±»ï¼Œå¹¶ä¸”å¿…é¡»ä»é¡¶è§†å›¾æ§åˆ¶å™¨è¿”å›æ­£ç¡®çš„å€¼ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NavigationController</span>: <span class="title">UINavigationController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> shouldAutorotate: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> shouldRotate = <span class="keyword">self</span>.topViewController?.shouldAutorotate &#123;</span><br><span class="line">            <span class="keyword">return</span> shouldRotate</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.shouldAutorotate</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> supportedInterfaceOrientations: <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> orientation = <span class="keyword">self</span>.topViewController?.supportedInterfaceOrientations &#123;</span><br><span class="line">            <span class="keyword">return</span> orientation</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.supportedInterfaceOrientations</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> preferredInterfaceOrientationForPresentation: <span class="type">UIInterfaceOrientation</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> orientation = <span class="keyword">self</span>.topViewController?.preferredInterfaceOrientationForPresentation &#123;</span><br><span class="line">            <span class="keyword">return</span> orientation</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.preferredInterfaceOrientationForPresentation</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå…·æœ‰ <code>UITabBarController</code> ï¼Œåˆ™é€‚ç”¨ç›¸åŒçš„é€»è¾‘ï¼Œä½†å¿…é¡»ä½¿ç”¨ <code>selectedIndex</code> å¹¶åŸºäºæ‰€é€‰è§†å›¾æ§åˆ¶å™¨è¿”å›å±æ€§ï¼Œè€Œä¸æ˜¯é¡¶è§†å›¾æ§åˆ¶å™¨ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TabBarController</span>: <span class="title">UITabBarController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> shouldAutorotate: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> viewController = <span class="keyword">self</span>.viewControllers?[<span class="keyword">self</span>.selectedIndex] &#123;</span><br><span class="line">            <span class="keyword">return</span> viewController.shouldAutorotate</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.shouldAutorotate</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> supportedInterfaceOrientations: <span class="type">UIInterfaceOrientationMask</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> viewController = <span class="keyword">self</span>.viewControllers?[<span class="keyword">self</span>.selectedIndex] &#123;</span><br><span class="line">            <span class="keyword">return</span> viewController.supportedInterfaceOrientations</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.supportedInterfaceOrientations</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> preferredInterfaceOrientationForPresentation: <span class="type">UIInterfaceOrientation</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> viewController = <span class="keyword">self</span>.viewControllers?[<span class="keyword">self</span>.selectedIndex] &#123;</span><br><span class="line">            <span class="keyword">return</span> viewController.preferredInterfaceOrientationForPresentation</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.preferredInterfaceOrientationForPresentation</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ ·ï¼Œä½ çš„åµŒå…¥å¼æ§åˆ¶å™¨å°±å¯ä»¥æ§åˆ¶æ”¯æŒçš„æ–¹å‘ã€‚ å“¦ï¼Œé¡ºä¾¿è¯´ä¸€å¥ï¼Œä½ å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•æ›´æ”¹çŠ¶æ€æ æ ·å¼ã€‚</p></br><h1 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a><strong>çº¦æŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº† <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/" target="_blank" rel="noopener"><code>äº†è§£çº¦æŸ</code></a> å’Œ <a href="https://www.raywenderlich.com/160527/auto-layout-tutorial-ios-11-getting-started" target="_blank" rel="noopener"><code>Auto Layout engine</code></a> çš„å½“å‰çŠ¶æ€ï¼Œæˆ‘ä»¬åº”è¯¥å›åˆ°è¿‡å»å¹¶ä»å¤´å¼€å§‹ã€‚</p><h2 id="Springs-and-struts"><a href="#Springs-and-struts" class="headerlink" title="Springs and struts"></a><strong><em>Springs and struts</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿˜è®°å¾—ç¬¬ä¸€éƒ¨ <code>iPhone</code> å—ï¼Ÿ ä¸€å±ç»Ÿæ²»ä¸€åˆ‡ï¼ <code>320x480</code>ï¼Œæ²¡æœ‰é™åˆ¶ï¼Œæ²¡æœ‰é€‚åº”æ€§ï¼Œåªæœ‰å¸§å’Œè¾¹ç•Œã€‚ åœ¨å›ºå®šå¤§å°çš„ç”»å¸ƒä¸Šæ”¾ç½®è§†å›¾ç»å¯¹æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> square: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> squareFrame: <span class="type">CGRect</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> midX = <span class="keyword">self</span>.view.bounds.midX</span><br><span class="line">        <span class="keyword">let</span> midY = <span class="keyword">self</span>.view.bounds.midY</span><br><span class="line">        <span class="keyword">let</span> size: <span class="type">CGFloat</span> = <span class="number">64</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">CGRect</span>(x: midX-size/<span class="number">2</span>, y: midY-size/<span class="number">2</span>, width: size, height: size)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> square = <span class="type">UIView</span>()</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(square)</span><br><span class="line">        <span class="keyword">self</span>.square = square</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.square.backgroundColor = .yellow</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLayoutSubviews()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.square.frame = <span class="keyword">self</span>.squareFrame</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨ <code>viewDidLayoutSubviews</code> æ–¹æ³•å¯ä»¥éå¸¸æ–¹ä¾¿åœ°æ”¯æŒæ—‹è½¬ï¼Œå¦‚æœè¾¹ç•ŒçŸ©å½¢å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘æ¯æ¬¡éƒ½å¿…é¡»é‡æ–°è®¡ç®—è§†å›¾çš„æ¡†æ¶ã€‚ ä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å¦‚æœä½ å¿…é¡»æ”¯æŒè®¸å¤šè®¾å¤‡å°ºå¯¸ä¼šæ€æ ·ï¼Ÿ</p><blockquote><p><strong><em>ç®—ä¸€ç®—ï¼</em></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äºå•ä¸ªå¯¹è±¡ï¼Œè¿›è¡Œè®¡ç®—éå¸¸å®¹æ˜“ï¼Œä½†æ˜¯é€šå¸¸ä½ åœ¨å±å¹•ä¸Šæœ‰å¤šä¸ªè§†å›¾ã€‚ è¿™äº›è§†å›¾å¯ä»¥ç›¸äº’è”ç³»ï¼Œç®€å•çš„æ•°å­¦æŠ€å·§å¯ä»¥ä½¿ä½ å®Œå…¨é™·å…¥å¸§è®¡ç®—çš„æ··ä¹±ä¹‹ä¸­ï¼Œä½ è¿˜ä¼šå–œæ¬¢æ•°å­¦å—ï¼Ÿ è‚¯å®šæœ‰æ›´å¥½çš„åŠæ³•ï¼</p></br><h1 id="Auto-Layout"><a href="#Auto-Layout" class="headerlink" title="Auto Layout"></a><strong>Auto Layout</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‹¹æœé€šè¿‡<code>iOS6</code>ä¸ºæˆ‘ä»¬å¸¦æ¥äº†å¸ƒå±€æŠ€æœ¯çš„åœ£æ¯ã€‚ å®ƒæ˜¯å…ˆå‰ç³»ç»Ÿçš„å®Œç¾ç»§æ‰¿è€…ã€‚ æ¯ä¸ªäººéƒ½å¾ˆå¿«é‡‡ç”¨äº†å®ƒï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè‹¹æœå·¥ç¨‹å¸ˆåœ¨ä¸‹ä¸€ç‰ˆæœ¬ä¸­å®Œå…¨åˆ é™¤äº†åŸºäºæ¡†æ¶çš„å¸ƒå±€<code>API</code>çš„åŸå› ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™¤äº†å¼€ç©ç¬‘ä¹‹å¤–ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°æ—¶ä»£çš„å¼€å§‹ï¼Œè¶Šæ¥è¶Šå¤šçš„è®¾å¤‡è¯ç”Ÿäº†ï¼Œå¹¶ä¸”ç”±äºè‡ªåŠ¨ç‰ˆå¼çš„é™åˆ¶ï¼Œç»´æŠ¤è§†å›¾éå¸¸å®¹æ˜“ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å¸ƒå±€çº¦æŸæ¥é‡æ„å‰é¢çš„ç¤ºä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> square: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> square = <span class="type">UIView</span>()</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(square)</span><br><span class="line">        square.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">self</span>.view.addConstraints([</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>(item: square, attribute: .width, relatedBy: .<span class="built_in">equal</span>, toItem: <span class="literal">nil</span>, attribute: .width, multiplier: <span class="number">1.0</span>, constant: <span class="number">64</span>),</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>(item: square, attribute: .height, relatedBy: .<span class="built_in">equal</span>, toItem: <span class="literal">nil</span>, attribute: .height, multiplier: <span class="number">1.0</span>, constant: <span class="number">64</span>),</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>(item: square, attribute: .centerX, relatedBy: .<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: .centerX, multiplier: <span class="number">1.0</span>, constant: <span class="number">0</span>),</span><br><span class="line">            <span class="type">NSLayoutConstraint</span>(item: square, attribute: .centerY, relatedBy: .<span class="built_in">equal</span>, toItem: <span class="keyword">self</span>.view, attribute: .centerY, multiplier: <span class="number">1.0</span>, constant: <span class="number">0</span>),</span><br><span class="line">        ])</span><br><span class="line">        <span class="keyword">self</span>.square = square</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.square.backgroundColor = .yellow</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨è®¡ç®—è§†å›¾çš„æ¡†æ¶ï¼Œä½†æ˜¯ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸå¹¶ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>Apple</code> åˆ¶å®šäº†é™åˆ¶æ ¼å¼ <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html" target="_blank" rel="noopener"><code>Visual Format Language</code></a>ã€‚</p><blockquote><p><strong><code>VFL = WTF?</code></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…ä¸Šï¼Œè¿™ä¸ª<code>VFL</code>éå¸¸ç³Ÿç³•ï¼Œæˆ‘ä»€è‡³ä¸æƒ³æ¼”ç¤ºå®ƒï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•â€¦</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> square: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> square = <span class="type">UIView</span>()</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(square)</span><br><span class="line">        square.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> views: [<span class="type">String</span>:<span class="type">Any</span>] = [<span class="string">"view"</span>: <span class="keyword">self</span>.view, <span class="string">"subview"</span>: square]</span><br><span class="line">        <span class="keyword">let</span> vertical = <span class="type">NSLayoutConstraint</span>.constraints(withVisualFormat: <span class="string">"V:[view]-(&lt;=1)-[subview(==64)]"</span>, options: .alignAllCenterX, metrics: <span class="literal">nil</span>, views: views)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> horizontal = <span class="type">NSLayoutConstraint</span>.constraints(withVisualFormat: <span class="string">"H:[view]-(&lt;=1)-[subview(==64)]"</span>, options: .alignAllCenterY, metrics: <span class="literal">nil</span>, views: views)</span><br><span class="line">        <span class="keyword">self</span>.view.addConstraints(vertical)</span><br><span class="line">        <span class="keyword">self</span>.view.addConstraints(horizontal)</span><br><span class="line">        <span class="keyword">self</span>.square = square</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.square.backgroundColor = .yellow</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong><code>God forbid the engineer who invented this black magic. :)</code></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œå¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬è‚¯å®šå­˜åœ¨çº¦æŸæ–¹é¢çš„é—®é¢˜ã€‚ åˆ›å»ºæ‰€æœ‰çº¦æŸå¾ˆç³Ÿç³•ï¼Œè‡³å°‘è¦èŠ±å¾ˆå¤šè¡Œä»£ç ã€‚ å½“ç„¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ç¥å¥‡çš„ç•Œé¢ç”Ÿæˆå™¨ï¼Œä½†æ˜¯å¦‚æœåªæ˜¯æ‹–åŠ¨çº¿ï¼Œé‚£ä¹ˆæœ‰è¶£çš„åœ°æ–¹åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçº¦æŸå¹¶ä¸æ¯”è®¡ç®—æ¡†æ¶å¥½ï¼Œå®ƒä¼šå¯¼è‡´ä½ è¾¾åˆ°ç›¸åŒçš„å¤æ‚åº¦ç”šè‡³æ›´ç³Ÿï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šç¬¬ä¸‰æ–¹æ¡†æ¶æ´»è·ƒèµ·æ¥å¹¶æœ€ç»ˆç”±<code>Apple</code>å‘å‡ºé—®é¢˜çš„åŸå› ã€‚</p><blockquote><p><strong><code>æç¤º:</code></strong><br>æˆ‘æœ‰ä¸€ç¯‡<a href="http://www.xuebaonline.com/Swift%E6%8E%8C%E6%8F%A1iOS%E8%87%AA%E5%8A%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9/"><code>å…³äºæŒæ¡è‡ªåŠ¨å¸ƒå±€é”šç‚¹</code></a>çš„å‡ºè‰²æ–‡ç« ï¼Œå¦‚æœä½ æƒ³ç†Ÿæ‚‰é”šç‚¹ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»ã€‚ ğŸ“–</p></blockquote></br><h1 id="é”šç‚¹-Anchors"><a href="#é”šç‚¹-Anchors" class="headerlink" title="é”šç‚¹(Anchors)"></a><strong>é”šç‚¹(Anchors)</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.xuebaonline.com/Swift%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B1%80%E9%94%9A%E7%82%B9%E6%B7%BB%E5%8A%A0%E7%BA%A6%E6%9D%9F/"><code>é”šç‚¹(Anchors)</code></a>çš„è¯ç”Ÿæ˜¯å› ä¸ºâ€œè‡ªåŠ¨å¸ƒå±€â€å­˜åœ¨ä¸€äº›æ„é€ ç¼ºé™·ã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>NSLayoutAnchor</code> ç±»æ˜¯ç”¨äºä½¿ç”¨æµç•…çš„ <code>API</code> åˆ›å»º <code>NSLayoutConstraint</code> å¯¹è±¡çš„å·¥å‚ç±»ã€‚ ä½¿ç”¨è¿™äº›çº¦æŸå¯ä»¥ä½¿ç”¨â€œè‡ªåŠ¨å¸ƒå±€â€ä»¥ç¼–ç¨‹æ–¹å¼å®šä¹‰ä½ çš„å¸ƒå±€ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> square: <span class="type">UIView!</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> square = <span class="type">UIView</span>()</span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(square)</span><br><span class="line">        square.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            square.widthAnchor.constraint(equalToConstant: <span class="number">64</span>),</span><br><span class="line">            square.heightAnchor.constraint(equalToConstant: <span class="number">64</span>),</span><br><span class="line">            square.centerXAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerXAnchor),</span><br><span class="line">            square.centerYAnchor.constraint(equalTo: <span class="keyword">self</span>.view.centerYAnchor),</span><br><span class="line">        ])</span><br><span class="line">        <span class="keyword">self</span>.square = square</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.square.backgroundColor = .yellow</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><em>é”šç‚¹æ˜¯ç”¨äºè‡ªåŠ¨å¸ƒå±€çº¦æŸçš„æœ€ä½³æ–¹æ³•ã€‚</em></strong></p></br><h1 id="è‡ªé€‚åº”å¸ƒå±€-Adaptive-layout"><a href="#è‡ªé€‚åº”å¸ƒå±€-Adaptive-layout" class="headerlink" title="è‡ªé€‚åº”å¸ƒå±€(Adaptive layout)"></a><strong>è‡ªé€‚åº”å¸ƒå±€(Adaptive layout)</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæŸ¥çœ‹ <code>Apple</code> æä¾›çš„å†…ç½®åº”ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€ï¼Œä½ ä¼šå‘ç°åªæœ‰å…¶ä¸­ä¸€äº›æ˜¯å“åº”å¼/è‡ªé€‚åº”çš„ã€‚ é€šå¸¸ï¼Œä½¿ç”¨é›†åˆè§†å›¾çš„åº”ç”¨æ›´å®¹æ˜“é€‚åº”æ›´å¤§çš„å±å¹•æˆ–ä¸åŒçš„è®¾å¤‡æ–¹å‘ã€‚</p><p><strong><em>å§‹ç»ˆä½¿ç”¨ <code>collection views</code>ã€‚</em></strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™¤äº†åªæ˜¯å±å¹•ä¸­å¿ƒçš„ä¸€ä¸ªè§†å›¾ä¹‹å¤–ï¼Œä½ éƒ½åº”è¯¥ä½¿ç”¨é›†åˆè§†å›¾æ¥æ„å»ºç”¨æˆ·ç•Œé¢ã€‚ å®ƒå°†ä¸ºä½ æä¾›å¯é‡ç”¨æ€§ï¼Œæ›´ä½çš„å†…å­˜å¼€é”€ï¼Œæ»šåŠ¨ä»¥åŠæ›´å¤šå¥½å¤„ã€‚ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æˆ‘çš„ <code>CollectionView</code> å¾®å‹æ¡†æ¶ï¼Œåˆ™ç”šè‡³ä¸å¿…è®¡ç®—æ„šè ¢çš„ç´¢å¼•ä½ç½®ã€‚</p></br><h1 id="åŸºäºå›¾å±‚çš„è‡ªåŠ¨åŒ–å¸ƒå±€"><a href="#åŸºäºå›¾å±‚çš„è‡ªåŠ¨åŒ–å¸ƒå±€" class="headerlink" title="åŸºäºå›¾å±‚çš„è‡ªåŠ¨åŒ–å¸ƒå±€"></a><strong>åŸºäºå›¾å±‚çš„è‡ªåŠ¨åŒ–å¸ƒå±€</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡ªåŠ¨å¸ƒå±€å¾ˆæ£’ï¼Œä½†æœ‰æ—¶ä½ å¿…é¡»ç›´æ¥å¤„ç†å›¾å±‚ã€‚ ç°åœ¨åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶å¿…é¡»è¿›è¡Œä¸€äº›è®¡ç®—ã€‚ å¦‚æœè¦å¤„ç†è§†å›¾å­ç±»ï¼Œåˆ™å¯ä»¥è½»æ¾è¦†ç›– <code>bounds</code> å±æ€§å¹¶æ›´æ–° <code>didSet</code> å—ä¸­çš„æ¡†æ¶ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">var</span> bounds: <span class="type">CGRect</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.gradientLayer.frame = <span class="keyword">self</span>.bounds</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦ä¸€ä¸ªé€‰é¡¹æ˜¯åœ¨è§†å›¾æ§åˆ¶å™¨ä¸­é‡å†™ <code>viewDidLayoutSubviews</code> æ–¹æ³•ï¼Œå¹¶æ ¹æ®æ–°è¾¹ç•Œè®¾ç½®å›¾å±‚çš„æ¡†æ¶ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLayoutSubviews()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span>.gradientView.gradientLayer.frame = <span class="keyword">self</span>.gradientView.bounds</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ è¿˜å¯ä»¥ä½¿ç”¨æ™®é€šçš„é”®å€¼ç›‘å¬æ¥è§‚å¯Ÿå¯¹è±¡çš„ <code>bounds</code> å±æ€§ï¼Œå¹¶æ ¹æ®è¯¥å±æ€§æ¥æ›´æ–°å›¾å±‚çš„æ¡†æ¶ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// somewhere in the init method</span></span><br><span class="line"><span class="keyword">self</span>.addObserver(<span class="keyword">self</span>, forKeyPath: <span class="string">"bounds"</span>, options: .new, context: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">observeValue</span><span class="params">(forKeyPath keyPath: String?, of object: <span class="keyword">Any</span>?, change: [NSKeyValueChangeKey : <span class="keyword">Any</span>]?, context: UnsafeMutableRawPointer?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> keyPath == <span class="string">"bounds"</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.observeValue(forKeyPath: keyPath, of: object, change: change, context: context)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">self</span>.gradientLayer.frame = <span class="keyword">self</span>.bounds</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">deinit</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.removeObserver(<span class="keyword">self</span>, forKeyPath: <span class="string">"bounds"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><h1 id="å¸¦æœ‰åŠ¨ç”»çš„åœ†è§’è®¾ç½®"><a href="#å¸¦æœ‰åŠ¨ç”»çš„åœ†è§’è®¾ç½®" class="headerlink" title="å¸¦æœ‰åŠ¨ç”»çš„åœ†è§’è®¾ç½®"></a><strong>å¸¦æœ‰åŠ¨ç”»çš„åœ†è§’è®¾ç½®</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œå¦‚æœè¦åœ¨ä½¿ç”¨åŸºäºçº¦æŸçš„å¸ƒå±€æ—¶ä¸ºè§†å›¾è®¾ç½®åŠ¨ç”»ï¼Œåˆ™å¿…é¡»æ‰§è¡Œç±»ä¼¼çš„æ“ä½œã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.widthConstraint.constant = <span class="number">64</span></span><br><span class="line"><span class="type">UIView</span>.animate(withDuration: <span class="number">0.5</span>, animations: &#123;</span><br><span class="line">    <span class="keyword">self</span>.view.layoutIfNeeded()</span><br><span class="line">&#125;, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œå¦‚æœè¦ä¸ºè§†å›¾çš„æ‹è§’åŠå¾„è®¾ç½®åŠ¨ç”»ï¼Œåˆ™å¯ä»¥å§‹ç»ˆä½¿ç”¨ä¼ ç»Ÿæ–¹å¼ï¼Œå¹¶åœ¨è¾¹ç•Œæ›´æ”¹ä¸Šè®¾ç½®å›¾å±‚çš„ <code>cornerRadius</code> å±æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œè‡ª<code>iOS 10</code>ä»¥æ¥ï¼Œæˆ‘ä»¬æœ‰äº†è¿™ä¸ªç²¾ç¾çš„æ–° <code>UIViewPropertyAnimator API</code> ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.imageView.layer.cornerRadius = <span class="number">16</span></span><br><span class="line"><span class="type">UIViewPropertyAnimator</span>(duration: <span class="number">2.5</span>, curve: .easeInOut) &#123;</span><br><span class="line">    <span class="keyword">self</span>.imageView.layer.cornerRadius = <span class="number">32</span></span><br><span class="line">&#125;.startAnimation()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™éå¸¸ç®€å•ï¼Œä½ ç”šè‡³å¯ä»¥åº”ç”¨ <code>cornerMask</code> æ¥ä»…å¯¹æŸäº›è§’è¿›è¡Œå€’åœ†ã€‚ åŸºäºå›¾å±‚çš„å¸ƒå±€ç¤ºä¾‹ä½äºæœ¬æ–‡æä¾›çš„æºä»£ç ä¸­ï¼Œä»¥åŠæ¯ç§è‡ªåŠ¨å¸ƒå±€æŠ€æœ¯çš„å®Œæ•´ç¤ºä¾‹ã€‚ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨è¿™ä¸ªå‡ºè‰²çš„ &lt;code&gt;iOS Auto Layout&lt;/code&gt; æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†æ•™ä½ å¦‚ä½•æ”¯æŒæ—‹è½¬ï¼Œä½¿ç”¨çº¦æŸï¼Œä½¿ç”¨å›¾å±‚ä»¥åŠè®¾ç½®æ‹è§’åŠå¾„çš„åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;br&gt;

&lt;h1 id=&quot;æ”¯æŒæ—‹è½¬&quot;&gt;&lt;a href=&quot;#æ”¯æŒæ—‹è½¬&quot; class=&quot;headerlink&quot; title=&quot;æ”¯æŒæ—‹è½¬&quot;&gt;&lt;/a&gt;&lt;strong&gt;æ”¯æŒæ—‹è½¬&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœä½ çš„åº”ç”¨ç¨‹åºè¦æ”¯æŒå¤šç§è®¾å¤‡æ–¹å‘ï¼Œåˆ™åº”åœ¨è§†å›¾æ§åˆ¶å™¨å†…éƒ¨å®ç°ä»¥ä¸‹æ–¹æ³•ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ViewController&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;UIViewController&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; shouldAutorotate: &lt;span class=&quot;type&quot;&gt;Bool&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; supportedInterfaceOrientations: &lt;span class=&quot;type&quot;&gt;UIInterfaceOrientationMask&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; .portrait&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; preferredInterfaceOrientationForPresentation: &lt;span class=&quot;type&quot;&gt;UIInterfaceOrientation&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; .portrait&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>äº§å“å¼€å‘çš„å¹•åèŠ±çµ®</title>
    <link href="http://www.xuebaonline.com/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91%E7%9A%84%E5%B9%95%E5%90%8E%E8%8A%B1%E7%B5%AE/"/>
    <id>http://www.xuebaonline.com/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91%E7%9A%84%E5%B9%95%E5%90%8E%E8%8A%B1%E7%B5%AE/</id>
    <published>2020-04-26T10:50:21.000Z</published>
    <updated>2020-04-26T11:41:43.062Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»‹ç»äº§å“ä¸“ä¸šäººå‘˜ç”¨æ¥å®šä¹‰é—®é¢˜ï¼Œåˆ›å»ºæ¦‚å¿µå’Œé€‰æ‹©æœ€ä½³è§£å†³æ–¹æ¡ˆçš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸å…³äºè®¾è®¡å¸ˆèŒåŠ¡çš„äº‰è®ºç±»ä¼¼ï¼Œå¯¹äºè®¾è®¡å¸ˆæ˜¯å¦åº”è¯¥ç¼–ç ï¼Œè¿™æ˜¯ä¸€ä¸ªæ°¸æ— æ­¢å¢ƒçš„è®¨è®ºã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬è°ˆè®ºçš„æ˜¯æ ¹æœ¬ä¸åŒçš„å¿ƒæ€ã€‚ å°½ç®¡å¼€å‘äººå‘˜å¯¹æŠ€æœ¯æµç¨‹çš„æ€è€ƒæ›´å¤šï¼Œä½†è®¾è®¡äººå‘˜ä¸“æ³¨äºç”¨æˆ·æ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œå› ä¸ºä»–ä»¬çš„ç›®çš„æ˜¯æå‡ºè§£å†³å®¢æˆ·é—®é¢˜çš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œäº§å“è®¾è®¡å¸ˆï¼ˆæˆ–UXè®¾è®¡å¸ˆï¼Œä½†æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„é‚£æ ·ï¼Œæˆ‘ä¸å–œæ¬¢è¯¥èŒä½ï¼‰é€šå¸¸ä¸åšä»»ä½•ç¼–ç ï¼Œä»…å› ä¸ºæˆ‘ä»¬ä»äº‹çš„æ´»åŠ¨æ˜¯ä¸“èŒèŒè´£ã€‚ è®¾è®¡å¸ˆçš„å¤§éƒ¨åˆ†å·¥ä½œå®é™…ä¸Šç”šè‡³æ²¡æœ‰å»ºç«‹å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œè€Œæ˜¯è¿›è¡Œäº†å¤§é‡çš„äº¤æµå’Œç ”ç©¶ã€‚ ğŸ”</p><a id="more"></a></br><h1 id="æˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜"><a href="#æˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜" class="headerlink" title="æˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜"></a><strong>æˆ‘ä»¬æœ‰ä¸€ä¸ªé—®é¢˜</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸ï¼Œå½“æˆ‘æ‹¿åˆ°è®¾è®¡å›¾æ—¶ï¼Œè¯¥è¿‡ç¨‹å·²ç»å¼€å§‹ã€‚ æˆ‘ä»¬çš„äº§å“ç»ç†æ¥æ‰¾æˆ‘è§£å†³é—®é¢˜ã€‚ æœ‰å‡ ç§å®šä¹‰é—®é¢˜çš„æ–¹æ³•ï¼Œä¾‹å¦‚æ ¹æ®æ•°æ®åˆ†ææˆ–ç«äº‰å¯¹æ‰‹çš„æ´»åŠ¨åšå‡ºçš„å‡è®¾ï¼› æŠ€æœ¯æ”¹è¿›ä¸ºæˆ‘ä»¬æä¾›äº†æ›´å¤šç©ºé—´ï¼› æˆ–å®¢æˆ·çš„ç›´æ¥è¦æ±‚ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€æ­¥ï¼ˆä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼‰æ˜¯äº†è§£é—®é¢˜ã€‚ å‡è®¾æˆ‘ä»¬ç›¯ç€åˆ†æï¼Œçœ‹åˆ°ç”¨æˆ·åœ¨æµç¨‹çš„æŸä¸ªç‰¹å®šç‚¹ä¸‹é™ï¼Œæ”¾å¼ƒå®ƒè€Œæ²¡æœ‰å®Œæˆä»»åŠ¡ã€‚ é—®é¢˜æ˜¯ï¼šä¸ºä»€ä¹ˆï¼Ÿ æä¾›è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œä½ éœ€è¦ç¡®å®šè¦è§£å†³çš„é—®é¢˜ã€‚ ä½ éœ€è¦äº†è§£åŠ¨æœºï¼Œç›®æ ‡ï¼Œéœ€æ±‚ä»¥åŠç”¨æˆ·å½“å‰è§£å†³é—®é¢˜çš„æ–¹å¼ã€‚</p><blockquote><p><strong><code>æç¤º:</code></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´æ¥æ¥è‡ªå®¢æˆ·çš„æƒ³æ³•å¯ä»¥å¯¹ä½ çš„ç³»ç»Ÿè¿›è¡Œéå¸¸å¥½çš„æ”¹è¿›ï¼Œä½†æ˜¯ä½ éœ€è¦è°¨æ…ã€‚ ç³»ç»Ÿè¶Šå¤§ï¼Œç”¨æˆ·å¯¹ç³»ç»Ÿä¸€æ— æ‰€çŸ¥çš„æœºä¼šå°±è¶Šå¤§ï¼Œè¿™å¯èƒ½å¯¼è‡´é”™è¯¯çš„å‡è®¾ã€‚ ä»–ä»¬å¯èƒ½ä¸çŸ¥é“æŸäº›â€œéšè—â€çš„ç»†èŠ‚ï¼Œä½†æ˜¯å¦‚æœçŸ¥é“çš„è¯ï¼Œä»–ä»¬ä¼šé—®ä¸€ä¸ªå®Œå…¨ä¸åŒçš„é—®é¢˜ã€‚ ç”¨æˆ·å¯¹ç°æœ‰ç³»ç»Ÿçš„ä¿¡å¿µç§°ä¸ºå¿ƒç†æ¨¡å‹ã€‚ è¿™ä»…è¡¨ç¤ºä»–ä»¬åŸºäºå¯¹å½“å‰å·¥å…·çš„äº†è§£ï¼Œç›¸ä¿¡ä»–ä»¬å¯ä»¥æˆ–ä¸èƒ½ä½¿ç”¨ä½ çš„å·¥å…·ã€‚ å¿ƒç†æ¨¡å‹å¯èƒ½ä¼šå› æ•™è‚²æˆ–ç»éªŒè€Œæ”¹å˜ï¼Œå› æ­¤åœ¨ä½ å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£ä»–ä»¬ä¸ºä»€ä¹ˆæƒ³è¦ç‰¹å®šçš„ä¸œè¥¿ã€‚ ä¹Ÿè®¸è§£å†³æ–¹æ¡ˆä¸æ˜¯ä»–ä»¬æƒ³è¦çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ç»™ä»–ä»¬æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ”¶é›†æœ‰å…³åŸå› çš„ä¿¡æ¯ï¼Œè€Œæˆ‘æœ€å–œæ¬¢çš„ä¸¤ä¸ªæ˜¯è°ƒæŸ¥å’Œè®¿è°ˆã€‚ ä½ å¯ä»¥æ”¶é›†æ‰€æœ‰å¬ä¼—æå‡ºçš„ä¸€äº›é«˜çº§é—®é¢˜ï¼Œç„¶åå‘é€è¡¨æ ¼ã€‚ æ‰¾åˆ°é€‚åˆä½ çš„é—®å·è°ƒæŸ¥çš„æœ€ä½³å¹³å°å¹¶ä¸æ€»æ˜¯å®¹æ˜“çš„ï¼šè™½ç„¶ä¸€ä¸ªæ¸ é“å¯ä»¥ä¸ºä½ æä¾›å¤§é‡çš„ç­”æ¡ˆï¼Œä½†å¦ä¸€ä¸ªæ¸ é“å°†æ˜¯æ­»è·¯ä¸€æ¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ—¶é—´å®‰æ’ä¹Ÿå¾ˆé‡è¦ï¼šä½ åº”è¯¥æ³¨æ„å¬ä¼—çš„æ—¶é—´è¡¨ã€‚ å½“ä»–ä»¬å¤ªå¿™ç”šè‡³ä¸å·¥ä½œæ—¶ï¼Œä»–ä»¬å°†æ²¡æœ‰æ—¶é—´æˆ–ç²¾åŠ›æ¥å¸®åŠ©ä½ ã€‚ è¿›è¡Œè‰¯å¥½è°ƒæŸ¥çš„ç§˜è¯€è¿˜æœ‰å¾ˆå¤šï¼Œä½†é‡ç‚¹æ˜¯ä½ éœ€è¦è€å¿ƒï¼Œå°è¯•å‡ ç§æ–¹æ³•æ¥å¸å¼•å—ä¼—ï¼Œç›´åˆ°æ‰¾åˆ°æœ€é€‚åˆä½ çš„æ¡ˆä¾‹ã€‚</p></br><h1 id="ä¸ç”¨æˆ·çš„çœŸæ­£è”ç³»ï¼šç”¨æˆ·è®¿è°ˆ"><a href="#ä¸ç”¨æˆ·çš„çœŸæ­£è”ç³»ï¼šç”¨æˆ·è®¿è°ˆ" class="headerlink" title="ä¸ç”¨æˆ·çš„çœŸæ­£è”ç³»ï¼šç”¨æˆ·è®¿è°ˆ"></a><strong>ä¸ç”¨æˆ·çš„çœŸæ­£è”ç³»ï¼šç”¨æˆ·è®¿è°ˆ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å–œæ¬¢çš„å¦ä¸€ç§åšæ³•æ˜¯è¿›è¡Œç”¨æˆ·è®¿è°ˆã€‚ å¬èµ·æ¥å°±æ˜¯è¿™æ ·ï¼šä½ ä¸ç”¨æˆ·ï¼ˆæœ€å¥½æ˜¯ä¸€å¯¹ä¸€ï¼‰åä¸‹å¹¶ä¸ä»–ä»¬äº¤è°ˆã€‚ ä½ éœ€è¦å†æ¬¡å‡†å¤‡é—®é¢˜ï¼Œä½†æ˜¯è°ƒæŸ¥è™½ç„¶å¯ä»¥å¸®åŠ©ä½ äº†è§£å¾ˆå¤šäº‹æƒ…ï¼Œä½†æ˜¯é¢è¯•ä»…å¯ä»¥å¸®åŠ©ä½ è§£å†³ä¸€äº›é—®é¢˜ï¼Œä½†èŒƒå›´æ›´å¹¿ã€‚ é‡è¦çš„æ˜¯è¿›è¡Œå®é™…å¯¹è¯è€Œä¸æ˜¯è¯¢é—®å®¢æˆ·ï¼šä½ æ”¶é›†çš„é—®é¢˜æ˜¯é¢è¯•çš„åŸºç¡€ï¼Œä½†æ˜¯å½“å®¢æˆ·å›ç­”æ—¶ï¼Œä½ å¯ä»¥ä¾§èº«ç”šè‡³å®Œå…¨åŠ«æŒè®¨è®ºï¼ˆåªè¦ä½ è°ˆè®ºçš„æ˜¯ä½ æ‰€é‡åˆ°çš„é—®é¢˜ï¼‰ éƒ½æƒ³è§£å†³ï¼‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ éšèº«æºå¸¦ä¸€ä¸ªè®°äº‹æœ¬ï¼Œè¿™å°†å¾ˆæœ‰å¸®åŠ©ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨ä¼´ä¾£å†™ä¸‹æœ€é‡è¦çš„è¦ç‚¹æ—¶å…¨ç¥è´¯æ³¨äºå¯¹è¯ã€‚ å¦‚æœä½ çš„å®¢æˆ·åŒæ„ï¼Œä½ å¯ä»¥è®°å½•ä¸‹é‡‡è®¿ï¼Œä»¥ä¾¿ç¨åå†å¬å¹¶å†™ä¸‹ä½ è‡ªå·±çš„ç¬”è®°ã€‚ ğŸ—’</p><blockquote><p><strong><code>æç¤º:</code></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‡è¦çš„æ˜¯è¦è§‚å¯Ÿåˆ°å¹¿æ³›çš„ç”¨æˆ·ï¼Œå°¤å…¶æ˜¯åœ¨ç»„ä¸­æœ‰å¤šç§ç”¨æˆ·çš„æƒ…å†µä¸‹ã€‚ å¦‚æœä½ åªå…³æ³¨ä¸€ä¸ªå°ç»„ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šæ»¡è¶³è¿™å¯¹å¤«å¦‡çš„éœ€æ±‚ï¼Œè€Œæ‹’ç»å…¶ä»–äººã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘å¯¹é—®é¢˜æœ‰æ»¡æ„çš„ç­”æ¡ˆæ—¶ï¼Œæˆ‘å¯ä»¥é€šè¿‡åˆ›å»ºè‰å›¾æˆ–åŸºæœ¬æ¨¡å‹æ¥å¼€å§‹å®é™…çš„â€œè®¾è®¡â€å·¥ä½œã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘å¹¶æ²¡æœ‰å°†é‡ç‚¹æ”¾åœ¨å¤–è§‚æˆ–ç²¾åº¦ä¸Šï¼Œæˆ‘åªæ˜¯å°è¯•ä¸ºæˆ‘çš„æƒ³æ³•å»ºç«‹ä¸€äº›è§†è§‰æ”¯æŒã€‚æœ‰æ—¶ï¼Œæˆ‘ä»€è‡³æ²¡æœ‰æ„å»ºæ•´ä¸ªåŠŸèƒ½æˆ–é¡µé¢ï¼Œè€Œåªæ˜¯æ„å»ºä¸€ä¸ªç‰¹å®šçš„éƒ¨åˆ†ï¼Œä¾‹å¦‚å¤æ‚çš„æ§åˆ¶å™¨ï¼Œæ¨¡å¼ï¼Œè¡¨å•ç­‰ç­‰ã€‚æˆ‘è¿˜å°è¯•è‡³å°‘æå‡º2-3ä¸ªæ¦‚å¿µã€‚è¿™å°†å¸®åŠ©æˆ‘ä¸å›¢é˜Ÿäº¤æµæ€æƒ³ï¼šé‚£æ˜¯æˆ‘å‚ä¸å¼€å‘äººå‘˜çš„åœ°æ–¹ï¼Œå› ä¸ºä¸‹ä¸€æ­¥æ˜¯äº†è§£æŠ€æœ¯é™åˆ¶ã€‚å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æ— æ³•ä¸ºç”¨æˆ·æ‰¾å‡ºæœ‰å²ä»¥æ¥æœ€å¥½çš„UIå…ƒç´ ï¼Œé‚£ä¹Ÿæ²¡å…³ç³»ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ”¶é›†äº†æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ä¹‹åï¼ˆåŒ…æ‹¬ç”¨æˆ·çš„å¿…å¤‡ä¿¡æ¯ï¼Œå¼€å‘äººå‘˜çš„çº¦æŸä»¥åŠå¯èƒ½çš„å…¶ä»–å› ç´ ï¼Œä¾‹å¦‚è®¾è®¡ï¼Œå®Œæ•´æ€§å’Œä¸€è‡´æ€§å‡†åˆ™ç­‰ï¼‰ï¼Œæˆ‘ä»¬çš„å·¥ä½œé‡ç‚¹å˜å¾—æ›´åŠ ç‹­çª„ã€‚è¿™æ˜¯æˆ‘å¼€å§‹åœ¨åƒç´ å®Œç¾çš„UIä¸Šå·¥ä½œçš„åœ°æ–¹ã€‚æˆ‘åˆ›å»ºäº†å¯ç‚¹å‡»çš„åŸå‹ï¼Œå› æ­¤å¯ä»¥ä¸ºå›¢é˜Ÿæä¾›ä¸€ä¸ªå¿«ç…§ï¼Œä»¥æ˜¾ç¤ºå®é™…è½¯ä»¶çš„å¤–è§‚å’Œå·¥ä½œæ–¹å¼ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä»¬å°†æˆä¸ºå¯ç”¨æ€§æµ‹è¯•çš„æ ¸å¿ƒï¼šæ˜¯çš„ï¼Œæˆ‘ä»¬å°†å›å¤´å†å›å¤´ã€‚</p></br><h1 id="å¯ç”¨æ€§æµ‹è¯•ç®€ä»‹"><a href="#å¯ç”¨æ€§æµ‹è¯•ç®€ä»‹" class="headerlink" title="å¯ç”¨æ€§æµ‹è¯•ç®€ä»‹"></a><strong>å¯ç”¨æ€§æµ‹è¯•ç®€ä»‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨æˆ·æµ‹è¯•ç±»ä¼¼äºè®¿è°ˆï¼Œä½ ä¸€æ¬¡è¦ä¸1ä½ç”¨æˆ·äº¤è°ˆï¼Œä½†æ˜¯ä½ å¯ä»¥æå‡ºä»»åŠ¡è€Œä¸æ˜¯æé—®ã€‚ä½ åº”è¯¥å‡†å¤‡è¦æ‰§è¡Œçš„3-4ä¸ªä»»åŠ¡ï¼Œå°±åƒå®ƒä»¬å·²ç»å­˜åœ¨æ—¶åœ¨ç³»ç»Ÿä¸­é€šå¸¸ä¼šæ‰§è¡Œçš„æ“ä½œä¸€æ ·ã€‚è¿™æ˜¯éªŒè¯ä½ çš„å·¥ä½œï¼ŒæŸ¥çœ‹ç”¨æˆ·æ˜¯å¦çœŸçš„èƒ½å¤Ÿé€šè¿‡ä½ çš„ç‰¹å®šæ¦‚å¿µè§£å†³ä»–ä»¬çš„é—®é¢˜çš„å¥½æ–¹æ³•ã€‚ä½ å¦‚ä½•è¿›è¡Œè¿™äº›ä¼šè®®çš„æ–¹å¼å¯èƒ½ä¼šå› é¡¹ç›®ï¼Œæ¦‚å¿µå› äººå‘˜è€Œå¼‚ï¼Œä½†æ˜¯ä»¥ä¸‹ä¸€äº›é‡ç‚¹å¯ä»¥æ´¾ä¸Šç”¨åœºï¼š</p><ul><li>ä½ æµ‹è¯•ç”¨æˆ·ç•Œé¢è€Œä¸æ˜¯ç”¨æˆ·ã€‚æ— è®ºä»–ä»¬åšé”™äº†ä»€ä¹ˆï¼Œä¸æ˜¯ä»–ä»¬çš„é”™ï¼Œè¿™æ˜¯ä½ çš„ç•Œé¢çš„ç¼ºé™·ã€‚ä»–ä»¬åº”è¯¥çŸ¥é“ï¼Œä½ ä¹ŸçŸ¥é“ã€‚</li><li>ä¸è¦ç»™å‡ºè¯¦ç»†çš„è¯´æ˜ï¼Œè€Œè¦ç¼–å†™é«˜çº§ä»»åŠ¡ï¼Œç±»ä¼¼äºç°å®ç”Ÿæ´»ä¸­çš„ä»»åŠ¡ã€‚å³ä½¿ä»–ä»¬å—è¿‡ä½¿ç”¨ä½ çš„è½¯ä»¶çš„æ•™è‚²ï¼Œä¹Ÿä¸ä¼šä¸€ç›´æœ‰äººé™ªä»–ä»¬èµ°èµ°ã€‚ä¸ºäº†æ¨¡æ‹Ÿè¿™ä¸€ç‚¹ï¼Œä½ ä¹Ÿä¸èƒ½é€šè¿‡åŸå‹æŒ‡å¯¼ä»–ä»¬ã€‚</li><li>åŒ…æ‹¬ä¸ä»»åŠ¡ä¸ç›´æ¥ç›¸å…³çš„é€‰é¡¹ã€‚å¦‚æœä½ ä½¿ç”¨ä¸€äº›åŸå‹åˆ¶ä½œå·¥å…·ï¼Œå®ƒå¯èƒ½ä¼šä»¥æŸç§æ–¹å¼çªå‡ºæ˜¾ç¤ºå¯ç‚¹å‡»å…ƒç´ ã€‚å¦‚æœå”¯ä¸€å¯ç‚¹å‡»çš„ä¸œè¥¿æ˜¯æµ‹è¯•çš„æ§åˆ¶å™¨ï¼Œä»–ä»¬å°†å¾ˆå®¹æ˜“æ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœ‰å‡ ä¸ªä¸åŒçš„å¯æ“ä½œé¡¹ç›®ï¼Œå®ƒä»¬å°†èƒ½å¤Ÿç¯é¡¾å››å‘¨ï¼Œæ‰“å¼€å’Œå…³é—­ç‰©å“ï¼Œå¹¶ä¸”ä¸€æ—¦è¾¾æˆäº¤æ˜“ä¾¿ä¼šè¿·å¤±æ–¹å‘ã€‚å³ä½¿ä½ æ„Ÿè§‰â€œæ¥å§ï¼Œå°±åœ¨é‚£é‡Œï¼Œä¸ºä»€ä¹ˆä¸æ‰¾åˆ°å®ƒâ€ï¼Œä¹Ÿåº”è¯¥æŠµåˆ¶èƒ†é‡å¹¶ä¿æŒæ²‰é»˜ã€‚å¯¹ä½ æ¥è¯´ä¹Ÿè®¸å¾ˆæ¸…æ¥šï¼Œä½†å¯¹ä»–ä»¬æ¥è¯´å´æ˜¯ä¸€ä¸ªè°œã€‚è¿™äº›æµ‹è¯•çš„ç›®çš„æ˜¯å‘ç°è°œè¯­ï¼Œè€Œä¸æ˜¯è¯æ˜ä½ çš„æƒ³æ³•åˆç†ã€‚</li><li>æé†’å‚ä¸è€…åœ¨æ•´ä¸ªä¼šè®®è¿‡ç¨‹ä¸­å¤§å£°æ€è€ƒï¼Œä»¥ä¾¿ä½ äº†è§£ä»–ä»¬ä¸ºä»€ä¹ˆåšè‡ªå·±çš„äº‹æƒ…ã€‚ä¸é¢è¯•æœŸé—´ä¸€æ ·ï¼Œä½ åº”è¯¥åˆ›å»ºç¬”è®°å¹¶å¯èƒ½è®°å½•ä¼šè¯ã€‚ä¼šè®®ç»“æŸåï¼Œä½ è¿˜å¯ä»¥ä¸ç”¨æˆ·èŠå¤©ã€‚ä½ å¯ä»¥å›å»é—®ä¸€ä¸‹ï¼Œå¦‚æœä»–ä»¬åœ¨ä¼šè®®æœŸé—´æ²¡æœ‰è§£é‡Šï¼Œä¸ºä»€ä¹ˆä»–ä»¬è¦åšç‰¹å®šçš„äº‹æƒ…ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨è¿™ä¸€ç‚¹ä¸Šè¯¢é—®ä»–ä»¬çš„æ„è§ï¼Œä½†ç»ä¸èƒ½åœ¨ä¼šè®®æœŸé—´æå‡ºã€‚æ”¾å¼ƒæœ‰å…³UIçš„æƒ³æ³•å¯èƒ½ä¼šä½¿ä½ åç¦»æµ‹è¯•ç›®æ ‡ï¼Œå› æ­¤è¯·ä¿æŒä¸“æ³¨å¹¶ä¿æŒå‚ä¸è€…çš„ä¸“æ³¨ã€‚</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›ä¼šè®®çš„ç»“æœå°†å¸®åŠ©ä½ äº†è§£æ¦‚å¿µçš„å¼±ç‚¹ï¼Œæˆ–è€…åªæ˜¯å¸®åŠ©ä½ é€‰æ‹©æœ€ä½³çš„æ¦‚å¿µã€‚ ä½ å¯ä»¥é‡æ–°è€ƒè™‘ä¸€äº›äº‹æƒ…ï¼Œç„¶åå†è¿›è¡Œæµ‹è¯•ï¼Œç„¶åå†ç»§ç»­ã€‚ æµ‹è¯•å’Œè¿­ä»£çš„æ¬¡æ•°å–å†³äºä½ çš„æ—¶é—´å’Œé¢„ç®—ï¼šæ ¹æ® <code>Jacob Nielsen</code> çš„è¯´æ³•ï¼Œå¦‚æœä¸5ä¸ªç”¨æˆ·ä¸€èµ·æµ‹è¯•ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯è€ƒè™‘æœªå‘ç°çš„é—®é¢˜çš„æ•°é‡å’Œä¼šè¯çš„æˆæœ¬ï¼Œå› ä¸ºä¸€æ®µæ—¶é—´åï¼Œç”¨æˆ·ä¼šåå¤å‘ç°å…¶ä»–å·²ç»å­˜åœ¨çš„é—®é¢˜ è£¸éœ²ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€‚å½“æ‹›å‹Ÿå‚ä¸è€…ä¹Ÿå¾ˆé‡è¦ã€‚ å¦‚æœä½ è¦ä¸ºä¼šè®¡å¸ˆæ„å»ºåº”ç”¨ç¨‹åºï¼Œåˆ™å¯èƒ½ä¸ä¼šè·å¾—æœºæ¢°å¸ˆçš„å®è´µåé¦ˆã€‚ åŒæ ·ï¼Œå¦‚æœä½ è¦æ”¹å–„ç°æœ‰æœåŠ¡ï¼Œåˆ™æœ€å¥½ä¸å·²ç»ä½¿ç”¨è¯¥æœåŠ¡çš„äººè”ç³»ï¼Œè€Œä¸æ˜¯ä¸æ–°å‘˜å·¥äº¤è°ˆï¼ˆé™¤éä½ å°è¯•å¼„æ¸…æ¥šæ–°æ‰‹å°†å¦‚ä½•ä¸æ–°åŠŸèƒ½äº¤äº’ï¼‰ã€‚</p><br><h1 id="è¦é¿å…çš„å¸¸è§é”™è¯¯"><a href="#è¦é¿å…çš„å¸¸è§é”™è¯¯" class="headerlink" title="è¦é¿å…çš„å¸¸è§é”™è¯¯"></a><strong>è¦é¿å…çš„å¸¸è§é”™è¯¯</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿˜æœ‰ä¸€ç§ç§°ä¸ºè®¾è®¡æ‰¹åˆ¤çš„åšæ³•ï¼Œåœ¨è¿™ç§åšæ³•ä¸­ï¼Œå¤§é‡çš„å›¢é˜Ÿæˆå‘˜ï¼ˆè®¾è®¡å¸ˆï¼Œå¼€å‘äººå‘˜ï¼Œè´¨é‡ä¿è¯äººå‘˜ï¼Œäº§å“ç»ç†ç­‰ï¼‰ååœ¨ä¸€èµ·è®¨è®ºè®¾è®¡ã€‚ ä½ æå‡ºè‡ªå·±çš„æƒ³æ³•ï¼Œå…¶ä»–äººåˆ™å¯ä»¥åŸºäºå¯¹ä¸€è‡´æ€§ï¼ŒæŠ€æœ¯çº¦æŸï¼Œæ‰€æœ‰é—®é¢˜æˆ–ç®€å•çš„å¯ç”¨æ€§å‡è®¾çš„å…³æ³¨è€Œæå‡ºé—®é¢˜å¹¶æå‡ºæ›´æ”¹å»ºè®®ã€‚ è¿™å¯èƒ½çœŸçš„å¾ˆæœ‰å¸®åŠ©ï¼šå½“ä½ èŠ±å¾ˆé•¿æ—¶é—´å°è¯•è§£å†³é—®é¢˜æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å›°éš¾ã€‚ çå¼€çœ¼ç›å’Œå…¶ä»–è§’åº¦å¯ä»¥å¸®åŠ©ä½ æ‘†è„±å›°å¢ƒï¼Œæ— è®ºå¦‚ä½•éƒ½è¦è¿›è¡Œä¸€äº›å¤´è„‘é£æš´æ€»æ˜¯å¥½çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œå›¢é˜Ÿç»å¸¸å°†<code>DC</code>ä¼šè¯ä¸é€‚å½“çš„å¯ç”¨æ€§éªŒè¯æ··æ·†ã€‚ ä¸ºä»€ä¹ˆä¸èƒ½ä»…ç”¨å®ƒä»¬ä»£æ›¿<code>UX</code>ç ”ç©¶æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ul><li><strong><em>è¯¦ç»†è¯´æ˜</em></strong> &nbsp;&nbsp;&nbsp;&nbsp;åœ¨å¯ç”¨æ€§æµ‹è¯•æœŸé—´ï¼Œä½ å°†æ‰§è¡Œä»»åŠ¡å¹¶æŸ¥çœ‹å…¶ä»–äººå¦‚ä½•ä¸ä½ çš„åŸå‹è¿›è¡Œäº¤äº’ï¼Œè€Œè®¾è®¡è¯„è®ºåˆ™æ˜¯å…³äºä½ è‡ªå·±è®²è¿°æ•´ä¸ªæ•…äº‹ã€‚ä½ æŒ‰ç…§æµç¨‹è¿›è¡Œæ“ä½œï¼Œå¹¶å‘Šè¯‰å›¢é˜Ÿæ­£åœ¨å‘ç”Ÿä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆã€‚è¿™æ ·å¾ˆå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯å¦‚æœä»…<code>UI</code>æ²¡æœ‰è§£é‡Šï¼Œåˆ™å¯èƒ½ä¼šå¤±è´¥ã€‚</li><li><strong><em>é¢†åŸŸçŸ¥è¯†</em></strong> &nbsp;&nbsp;&nbsp;&nbsp;å³ä½¿ä½ åªæ˜¯åœ¨ä»äº‹åˆåŒé¡¹ç›®ï¼Œä¸ä½ ä¸€èµ·å·¥ä½œçš„å›¢é˜Ÿä¹Ÿå…·æœ‰ä¸°å¯Œçš„é¢†åŸŸçŸ¥è¯†ã€‚ä½ çŸ¥é“ç³»ç»Ÿçš„å·¥ä½œåŸç†ï¼ŒçŸ¥é“åå°å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¦‚ä½•ä¼ è¾“æ•°æ®ï¼Œè°ƒç”¨äº†ä»€ä¹ˆ<code>API</code>â€¦â€¦ç”¨æˆ·ä¸çŸ¥é“è¿™ç§äº‹æƒ…ï¼Œä½ ä¹Ÿä¸æ˜¯ä½ çš„ç”¨æˆ·ã€‚</li><li><strong><em>ä¸»è§‚æ€§</em></strong> &nbsp;&nbsp;&nbsp;&nbsp;è™½ç„¶ä½ å¯èƒ½å–œæ¬¢æŸäº›ä¸œè¥¿ï¼Œä½†å…¶ä»–äººå¯èƒ½ä¸å–œæ¬¢ã€‚å¦å¤–ï¼Œå°½ç®¡ä½ è®¤ä¸ºæŸäº›äº‹æƒ…å¾ˆæ¸…æ¥šï¼Œä½†å…¶ä»–äººå¯èƒ½ä¸ç†è§£ã€‚å½“ä½ è¯´â€œæˆ‘è®¤ä¸ºè¿™å¯è¡Œâ€æ—¶ï¼Œè¿™åªæ˜¯ä½ çš„è§‚ç‚¹ï¼Œå…¶ä»–äººå¯èƒ½ä¼šåŸºäºä»–ä»¬çš„è§‚ç‚¹å¯¹æ­¤è¿›è¡Œäº‰è®ºã€‚æ„è§åˆ†æ­§å¯ä»¥å¸®åŠ©ä½ å–å¾—è¿›å±•ï¼Œä½†æ˜¯ï¼Œå¦‚æœä¿æŒä¸å˜ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å¿—ï¼Œä½ åº”è¯¥æŸ¥çœ‹ç”¨æˆ·çš„ååº”æ–¹å¼ï¼Œè€Œä¸æ˜¯äº‰å¤ºä½ çš„æ„è§ã€‚</li><li><strong><em>è‡ªæˆ‘</em></strong>  &nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å¹¶ä¸æ˜¯è¯´å®ƒæ€»æ˜¯å­˜åœ¨ï¼Œä½†æ˜¯è¿™äº›è®¨è®ºå¾ˆå®¹æ˜“å˜æˆæœ‰äº‰è®®çš„è®ºæ®ï¼Œæ¯ä¸ªäººéƒ½è¯•å›¾è¯´æœä»–äººã€‚æˆ‘å¯¹æ­¤ä¸å¤Ÿå¼ºè°ƒï¼šä½ æ²¡æœ‰ä¸ºè‡ªå·±è®¾è®¡ï¼ˆæˆ–ç¼–å†™ä»£ç ï¼‰ï¼Œè€Œæ˜¯ä¸ºç”¨æˆ·è®¾è®¡ã€‚å¦‚æœå›¢é˜Ÿä¸­çš„æŸä¸ªäººæœ‰ä¸€ä¸ªæ›´å¥½çš„ä¸»æ„ï¼Œæˆ–è€…åªæ˜¯å‘ç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œè¯·é«˜å…´åœ°ä¸ºä½ æä¾›æ”¹å–„äº§å“çš„æœºä¼šã€‚è¿™ä¸æ˜¯å•äººè¡¨æ¼”ï¼Œè€Œæ˜¯å›¢é˜Ÿå¤±è´¥æˆ–èƒœåˆ©ã€‚</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤å¤–ï¼Œè¦åœ¨æ²¡æœ‰ä»»ä½•å®é™…æ•°æ®çš„æƒ…å†µä¸‹é€šè¿‡ä¸€æ¬¡æ¼”ç¤ºæ¥è¯æ˜è‡ªå·±è¦å›°éš¾å¾—å¤šã€‚å½“ä½ çš„è®¾è®¡åŸºäºæ¨æµ‹æ—¶ï¼Œå¯èƒ½å¾ˆéš¾æå«ä¸€ä¸ªæƒ³æ³•ï¼Œå› ä¸ºä½ æ— æ³•ç”¨äº‹å®æ¥æ”¯æŒå®ƒã€‚å…¶ä»–äººå¯èƒ½æœ‰ä¸åŒçš„å‡è®¾ï¼Œä»è¿™ä¸€ç‚¹å‡ºå‘ï¼Œè®ºç‚¹ç«‹è¶³æˆ–è½åœ¨å‚ä¸è€…çš„è¯´æœåŠ›ä¸Šã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™å¹¶ä¸æ„å‘³ç€è¿™äº›ä¼šè®®æ ¹æœ¬æ²¡æœ‰ç”¨ï¼Œå®ƒä»¬æ— æ³•æ›¿ä»£ç ”ç©¶ï¼Œå› ä¸ºå®ƒä»¬ä»¥ä¸åŒçš„æ–¹å¼å¸®åŠ©ä½ ã€‚æˆ‘ä¹Ÿè®¤ä¸ºäº‰è®ºé€šå¸¸æ˜¯å¥½çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥äº†è§£å¾ˆå¤šå½¼æ­¤çš„è§‚ç‚¹ã€‚æˆ‘è¦è¯´çš„æ˜¯ä¸ç¡®å®šæ€§ä½¿äº‹æƒ…å˜å¾—å›°éš¾ï¼Œå› ä¸ºä½ åªæœ‰åœ¨å‘è¡¨ä½œå“åæ‰èƒ½çœ‹åˆ°ç»“æœã€‚æœ€å¥½çš„åŠæ³•æ˜¯å®šæœŸä¸å›¢é˜Ÿè¿›è¡Œç ”ç©¶å¹¶è¿›è¡ŒåŒæ­¥ï¼Œä»¥ä¾¿åœ¨æŠ€æœ¯ä¸Šä»å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œç¡®ä¿è¦æ„å»ºçš„å†…å®¹èƒ½å¤Ÿå¾ˆå¥½åœ°ä¸ºç”¨æˆ·æœåŠ¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ åˆ›å»ºçš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå¸¦æ¥ç”¨æˆ·ä½“éªŒã€‚ UXä¸æ˜¯ä½ è®¾è®¡çš„ï¼Œè€Œæ˜¯å·¥ä½œçš„å¿…ç„¶ç»“æœã€‚è¯·è®°ä½è¿™ä¸€ç‚¹ã€‚ ğŸ™</p></br><h1 id="è®¾è®¡å¸ˆåº”è¯¥ç¼–ç å—ï¼Ÿ-å¼€å‘äººå‘˜åº”è¯¥è®¾è®¡å—ï¼Ÿ"><a href="#è®¾è®¡å¸ˆåº”è¯¥ç¼–ç å—ï¼Ÿ-å¼€å‘äººå‘˜åº”è¯¥è®¾è®¡å—ï¼Ÿ" class="headerlink" title="è®¾è®¡å¸ˆåº”è¯¥ç¼–ç å—ï¼Ÿ å¼€å‘äººå‘˜åº”è¯¥è®¾è®¡å—ï¼Ÿ"></a><strong>è®¾è®¡å¸ˆåº”è¯¥ç¼–ç å—ï¼Ÿ å¼€å‘äººå‘˜åº”è¯¥è®¾è®¡å—ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è®¤ä¸ºå­˜åœ¨è¿™ä¸ªæ°¸æ’çš„é—®é¢˜æ˜¯å› ä¸ºå›¾å½¢<code>UI</code>è®¾è®¡æœ¬èº«é€šå¸¸å¹¶ä¸å›°éš¾ã€‚ <code>UI</code>è®¾è®¡å·¥å…·ï¼ˆä¾‹å¦‚<code>Sketch</code>æˆ–<code>Figma</code>ï¼‰éå¸¸ç®€å•ï¼Œå³ä½¿æ²¡æœ‰ç»éªŒä¹Ÿå¾ˆå®¹æ˜“ä½¿ç”¨ï¼Œè€Œæ— éœ€è°ˆè®ºç½‘ç»œä¸Šæˆåƒä¸Šä¸‡çš„ä¼˜è´¨æ•™ç¨‹å’Œèµ„æºã€‚å›¾å½¢ç”¨æˆ·ç•Œé¢è®¾è®¡æ˜¯ä¸€é¡¹æŠ€èƒ½ï¼Œè€Œæˆä¸ºä¸“å®¶æ„å‘³ç€ä½ è¿˜æ‹¥æœ‰è®¸å¤šå…¶ä»–æœ‰ä»·å€¼çš„æŠ€èƒ½ï¼Œè¿™äº›æŠ€èƒ½æœ€ç»ˆå°†å®šä¹‰ä½ ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºè®¾è®¡å¸ˆå’Œå¼€å‘äººå‘˜çš„æ€ç»´æ–¹å¼ä¹‹é—´å­˜åœ¨æ ¸å¿ƒå·®å¼‚ï¼Œå› æ­¤æˆ‘æ›´å–œæ¬¢å°†ç ”ç©¶ä¸è®¾è®¡ç»“åˆèµ·æ¥ï¼Œè€Œä¸æ˜¯å°†è®¾è®¡ä¸ç¼–ç ç»“åˆèµ·æ¥ã€‚å¦‚æœä½ å¯¹è‡ªå·±çš„ç³»ç»ŸæŠ€æœ¯çŸ¥è¯†æœ‰åè§ï¼Œå¯èƒ½å¾ˆéš¾æ‰¾åˆ°é—®é¢˜çš„æŠ½è±¡è§£å†³æ–¹æ¡ˆã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨å¤šä¸ªå­¦ç§‘çš„åä½œä»¥åŠä¸åŒè§‚ç‚¹çš„ç»“åˆä¸­çœ‹åˆ°çœŸæ­£ä»·å€¼çš„åŸå› ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œä»¥è§†è§‰æ–¹å¼å‘ˆç°ä½ çš„ä½œå“ä»ç„¶æ˜¯æœ‰ç›Šçš„ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©ä½ å‘ç°æ½œåœ¨çš„ç›²ç‚¹å’Œç¼ºå¤±çš„è¾¹ç¼˜æƒ…å†µï¼Œè¿˜å¯ä»¥å¸®åŠ©è¿æ¥ç‚¹å¹¶æŸ¥çœ‹æ•´ä½“å›¾ç‰‡ï¼Œæœ€åä½†å¹¶éæœ€ä¸é‡è¦çš„ä¸€ç‚¹ï¼šå®ƒè¦å¿«å¾—å¤šåœ¨è®¾è®¡å·¥å…·ä¸­è¿›è¡Œä¿®å¤è€Œä¸æ˜¯åœ¨å®é™…ä»£ç ä¸­è¿›è¡Œä¿®å¤ã€‚å› æ­¤ï¼Œè™½ç„¶æˆ‘ä¸è¯´å¼€å‘äººå‘˜åº”è¯¥è®¾è®¡ï¼Œä½†æŸäº›è®¾è®¡æŠ€èƒ½å¯ä»¥å¾ˆå¥½åœ°è¡¥å……ä½ çš„å·¥ä½œæµç¨‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä»‹ç»äº§å“ä¸“ä¸šäººå‘˜ç”¨æ¥å®šä¹‰é—®é¢˜ï¼Œåˆ›å»ºæ¦‚å¿µå’Œé€‰æ‹©æœ€ä½³è§£å†³æ–¹æ¡ˆçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä¸å…³äºè®¾è®¡å¸ˆèŒåŠ¡çš„äº‰è®ºç±»ä¼¼ï¼Œå¯¹äºè®¾è®¡å¸ˆæ˜¯å¦åº”è¯¥ç¼–ç ï¼Œè¿™æ˜¯ä¸€ä¸ªæ°¸æ— æ­¢å¢ƒçš„è®¨è®ºã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬è°ˆè®ºçš„æ˜¯æ ¹æœ¬ä¸åŒçš„å¿ƒæ€ã€‚ å°½ç®¡å¼€å‘äººå‘˜å¯¹æŠ€æœ¯æµç¨‹çš„æ€è€ƒæ›´å¤šï¼Œä½†è®¾è®¡äººå‘˜ä¸“æ³¨äºç”¨æˆ·æ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œå› ä¸ºä»–ä»¬çš„ç›®çš„æ˜¯æå‡ºè§£å†³å®¢æˆ·é—®é¢˜çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å› æ­¤ï¼Œäº§å“è®¾è®¡å¸ˆï¼ˆæˆ–UXè®¾è®¡å¸ˆï¼Œä½†æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„é‚£æ ·ï¼Œæˆ‘ä¸å–œæ¬¢è¯¥èŒä½ï¼‰é€šå¸¸ä¸åšä»»ä½•ç¼–ç ï¼Œä»…å› ä¸ºæˆ‘ä»¬ä»äº‹çš„æ´»åŠ¨æ˜¯ä¸“èŒèŒè´£ã€‚ è®¾è®¡å¸ˆçš„å¤§éƒ¨åˆ†å·¥ä½œå®é™…ä¸Šç”šè‡³æ²¡æœ‰å»ºç«‹å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œè€Œæ˜¯è¿›è¡Œäº†å¤§é‡çš„äº¤æµå’Œç ”ç©¶ã€‚ ğŸ”&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://www.xuebaonline.com/categories/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://www.xuebaonline.com/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>ä½œä¸ºSwiftå¼€å‘äººå‘˜ï¼Œå¦‚ä½•æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Ÿ</title>
    <link href="http://www.xuebaonline.com/%E4%BD%9C%E4%B8%BASwift%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%EF%BC%8C%E5%A6%82%E4%BD%95%E6%8F%90%E4%BE%9B%E6%9B%B4%E5%A5%BD%E7%9A%84%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%EF%BC%9F/"/>
    <id>http://www.xuebaonline.com/%E4%BD%9C%E4%B8%BASwift%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%EF%BC%8C%E5%A6%82%E4%BD%95%E6%8F%90%E4%BE%9B%E6%9B%B4%E5%A5%BD%E7%9A%84%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C%EF%BC%9F/</id>
    <published>2020-04-26T10:34:02.000Z</published>
    <updated>2020-04-26T10:49:25.872Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡ä¸€äº›å¯è®¿é—®æ€§æç¤ºæ¥å­¦ä¹ ç”¨æˆ·ä½“éªŒè®¾è®¡çš„åŸºç¡€çŸ¥è¯†ï¼Œä½ å¯ä»¥ç«‹å³ä½¿ç”¨è¿™äº›æç¤ºä¸ºæ¯ä¸ªäººæ„å»ºæ›´å¥½çš„ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Swift</code> å¾ˆæœ‰è¶£ï¼Œä½†æ˜¯ä½ æ›¾ç»å°è¯•è¿‡ <code>UX</code> å—ï¼Ÿ å½“ç„¶æœ‰ ä½ ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå¸¦æ¥ç”¨æˆ·ä½“éªŒã€‚ éµå¾ªè¿™æ ·çš„é€»è¾‘ï¼šä½ åˆ›å»ºå¹¶å°†è¦ç”±ä»–äººä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ä¹Ÿå°†å¯¼è‡´ <code>UX</code> ã€‚ ä½†æ˜¯åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè®¾è®¡å¸ˆå’Œå¼€å‘äººå‘˜åœ¨å“ªé‡Œé€‚åˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬æ‰¾å‡ºç­”æ¡ˆã€‚</p><a id="more"></a></br><h1 id="ç”¨æˆ·ä½“éªŒè®¾è®¡"><a href="#ç”¨æˆ·ä½“éªŒè®¾è®¡" class="headerlink" title="ç”¨æˆ·ä½“éªŒè®¾è®¡"></a><strong>ç”¨æˆ·ä½“éªŒè®¾è®¡</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³äºæ‰€æœ‰ä¸åŒç±»å‹çš„è®¾è®¡å¸ˆï¼Œéƒ½æœ‰å¤§é‡çš„æ–‡ç« ï¼Œæˆ‘ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„æ–‡ç« ï¼Œä½†ç°åœ¨æš‚æ—¶è·³è¿‡ã€‚ æˆ‘å”¯ä¸€è¦æåŠçš„æ˜¯ï¼Œæˆ‘ä¸ªäººä¸å–œæ¬¢ <code>â€œç”¨æˆ·ä½“éªŒè®¾è®¡å¸ˆâ€</code> è¿™ä¸ªç§°å‘¼ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šå¼•èµ·è¯¯è§£ã€‚ å‡ ä¹æ²¡æœ‰è®¾è®¡ä¸“ä¸šäººå‘˜ç»éªŒçš„å…¬å¸éƒ½å¸Œæœ›ä½ ç¥å¥‡åœ°æ‰¾å‡ºæœ€å¥½çš„ <code>UX</code> ï¼šâ€œå› ä¸ºé‚£æ˜¯ä½ çš„å·¥ä½œï¼Œå¯¹å§ï¼Ÿ é”™è¯¯ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><em>ç”¨æˆ·ä½“éªŒæ˜¯ä»»ä½•ä½¿ç”¨å·¥å…·çš„äººéƒ½åœ¨å‘ç”Ÿçš„ç°è±¡ã€‚</em></strong> ä»»ä½•å·¥å…·ã€‚ä½ æ˜¯å¦åœ¨Twitterä¸Šå‘å¸–ï¼Ÿå®ƒæ˜¯ <code>UX</code> ã€‚ä½ æ˜¯å¦åœ¨ <code>iPad</code> ä¸Šé˜…è¯»é‚®ä»¶ï¼Ÿå®ƒæ˜¯ <code>UX</code> ã€‚ä½ æ˜¯å¦å–ç”¨æ—§é‡‘å±å’–å•¡æœºåˆ¶ä½œçš„å’–å•¡ï¼Ÿç”¨æˆ·ä½“éªŒã€‚ä½ æ˜¯å¦åˆšåˆšä»å®œå®¶è´­ä¹°äº†æ–°æ¤…å­ï¼Œå¹¶ä¸”å¿…é¡»å°†å…¶æ”¾åœ¨ä¸€èµ·ï¼Ÿç›¸åŒã€‚ä½ æ˜¯å¦åªæ˜¯ååœ¨å´­æ–°çš„æ¤…å­ä¸Šäº«å—ä¸€æ¯å’–å•¡ï¼Ÿä»ç„¶æ˜¯ <code>UX</code> ã€‚ â˜•ï¸</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯æˆ‘å¯ä»¥è®¾è®¡è¿™äº›ä¸œè¥¿å—ï¼Ÿæˆ‘å¯ä»¥è¯´ä½ ä¼šä»å¤´åˆ°å°¾æŒ‰ç…§æ­¤ç‰¹å®šé¡ºåºè¿›è¡Œæ‰€æœ‰è¿™äº›æ“ä½œï¼Œå¹¶ä¸”ä½ ä¼šå–œæ¬¢å—ï¼Ÿä¸ã€‚æˆ‘å¯ä»¥æ˜ å°„è¿™ç§æƒ…å†µçš„å¯èƒ½æ–¹å¼å—ï¼Ÿæ˜¯çš„å¼€å§‹äº†ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨æˆ·ä½“éªŒâ€œè®¾è®¡â€æ˜¯äº†è§£éœ€æ±‚ï¼ˆä½ æƒ³æ¯å¤©æ—©ä¸Šåœ¨èˆ’é€‚çš„æ¤…å­ä¸Šä¸Šç­å‰å–å’–å•¡ï¼‰ï¼Œç„¶åæä¾›æ»¡è¶³éœ€æ±‚çš„å·¥å…·ã€‚å½“ç„¶ï¼Œæˆ‘å¸Œæœ›ä½ å°½å¯èƒ½è½»æ¾åœ°å®ç°è‡ªå·±çš„ç›®æ ‡ï¼Œå› æ­¤ï¼Œæˆ‘å°†å°è¯•äº†è§£ä½ ç°åœ¨çš„å¤„äº‹æ–¹å¼ä»¥åŠå¦‚ä½•æ›´æ”¹è¿™äº›å¤„å¢ƒä»¥æ”¹å–„ä½ çš„å¤„å¢ƒã€‚ç„¶åï¼Œæˆ‘å°†æ‰¾å‡ºä¸€ç§æ–¹æ³•å¹¶å®šä¹‰â€œé¢„æœŸçš„ç”¨æˆ·ä½“éªŒâ€ï¼Œå¹¶ä¸ºä½ è¿›è¡Œè®¾ç½®ã€‚åˆ°è¾¾é‚£é‡Œåï¼Œä½ å°†è·å¾—çœŸå®çš„ç”¨æˆ·ä½“éªŒï¼Œè¿™å¯èƒ½ä¸æˆ‘ä»¬æœŸæœ›çš„æœ‰å¾ˆå¤§ä¸åŒã€‚<strong><em>ç”¨æˆ·ä½“éªŒè®¾è®¡çš„ç›®æ ‡æ˜¯ä½¿æœŸæœ›çš„ç”¨æˆ·ä½“éªŒå°½å¯èƒ½æ¥è¿‘å®é™…ç”¨æˆ·ä½“éªŒã€‚</em></strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶ï¼Œèˆ’é€‚æ€§ä¸æ˜¯ <code>UX</code> çš„å”¯ä¸€æ–¹é¢ã€‚æ— è®ºä½ åˆ›å»ºä»€ä¹ˆå†…å®¹ï¼Œéƒ½å¸Œæœ›ä½¿å…¶æ˜“äºç†è§£ï¼Œå¯å­¦ä¹ ï¼Œä»¤äººéš¾å¿˜ï¼Œä¸€è‡´ï¼Œå¯è®¿é—®ä¸”å®‰å…¨ã€‚</p><p><strong>å¦‚æœçœ‹èµ·æ¥ä¹Ÿä¸é”™ï¼Œé‚£å¾ˆå¥½ã€‚</strong></p></br><h1 id="UX-èˆ’é€‚ï¼šè¾…åŠ©åŠŸèƒ½ç®€ä»‹"><a href="#UX-èˆ’é€‚ï¼šè¾…åŠ©åŠŸèƒ½ç®€ä»‹" class="headerlink" title="UX != èˆ’é€‚ï¼šè¾…åŠ©åŠŸèƒ½ç®€ä»‹"></a><strong>UX != èˆ’é€‚ï¼šè¾…åŠ©åŠŸèƒ½ç®€ä»‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚å‰æ‰€è¿°ï¼Œæ„å»ºè‰¯å¥½çš„ç”¨æˆ·ç•Œé¢å…·æœ‰æŒ‘æˆ˜æ€§ã€‚å‡è®¾ä½ æ­£åœ¨å¼€å‘åº”ç”¨ç¨‹åºï¼Œç½‘ç«™ï¼ŒæœåŠ¡æˆ–å…¶ä»–ä»»ä½•ä¸œè¥¿ï¼Œå¹¶ä¸”å¸Œæœ›ä½¿ç”¨æ¡†æ¶çš„å¸®åŠ©ã€‚ç½‘è·¯ä¸Šæœ‰è®¸å¤šä½¿ç”¨è€…ä»‹é¢æ¡†æ¶å’ŒèŒƒæœ¬ï¼Œå› æ­¤ä½ ä¼šå¾ˆå®¹æ˜“æ‰¾åˆ°é€‚åˆä½ çš„ä»‹é¢ã€‚å¯èƒ½è¦æ ¼å¤–å°å¿ƒï¼Œä¸ºä½ çš„ç”¨æˆ·æ‰¾åˆ°åˆé€‚çš„äº§å“ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯è®¿é—®æ€§ï¼ˆç®€ç§°<code>a11y</code>ï¼‰æ˜¯ <code>UX</code> æœ€é‡è¦çš„æ–¹é¢ä¹‹ä¸€ã€‚ä¸–ç•Œäººå£çš„10-20ï¼…æ‚£æœ‰ä¸€ç§æˆ–å¤šç§æ®‹ç–¾ã€‚æ ¹æ®æ­¤æ‘˜è¦ï¼Œè‹±å›½ï¼Œç¾å›½å’ŒåŠ æ‹¿å¤§çš„ç½‘ç»œç”¨æˆ·ä¸­æœ‰ <code>7ï¼…</code> æœ‰çµæ´»æ€§é—®é¢˜ï¼›å…¶ä¸­<code>8ï¼…</code>æœ‰æŸç§è‰²ç›²ï¼›å¹¶ä¸”å…¶ä¸­<code>3-4ï¼…</code>çš„äººçœ‹ä¸æ¸…è‡ªå·±çš„é˜…è¯»èƒ½åŠ›ï¼Œè€Œä¸”éšç€æ—¶é—´çš„æµé€è¶Šæ¥è¶Šå¤šã€‚äººä»¬ç»å¸¸è¯´a11yæ˜¯æœ‰ç‰¹æ®Šéœ€æ±‚çš„ç”¨æˆ·ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æ˜¯éƒ½æœ‰æˆ‘ä»¬è‡ªå·±çš„â€œç‰¹æ®Šâ€è‡ªå®šä¹‰åå¥½å—ï¼Ÿæˆ‘ä»¬æ•´ç†å·¥ä½œè¡¨ä»¥è½»æ¾å®ç°æ‰€æœ‰åŠŸèƒ½ï¼Œå°†åº”ç”¨ç¨‹åºæŒ‰ç‰¹å®šé¡ºåºåˆ†ç»„åœ¨<code>iPhone</code>ä¸Šï¼Œæˆ‘ä»¬æ‰“å¼€é»‘æš—æ¨¡å¼ä»¥è·å¾—æ›´å¥½çš„é˜…è¯»ä½“éªŒå’Œçˆ±ä¾£èˆ¬çš„åŠŸè€—â€¦ <code>A11y</code>å¹¶æ²¡æœ‰å¤ªå¤§ä¸åŒï¼Œå¹¶ä¸”ç§»åŠ¨è®¾å¤‡å¾ˆå¤šè¾…åŠ©åŠŸèƒ½æ³¨æ„äº‹é¡¹å®é™…ä¸Šéå¸¸ç®€å•ï¼šå°†ä¿¡æ¯æœ€å°åŒ–ä»¥é€‚åˆå°å±å¹•ï¼›ä½¿ç”¨æ˜ç¡®çš„æªè¾ï¼Œå°¤å…¶æ˜¯åœ¨å¯è¯‰è¯¸äº‹é¡¹ä¸Šï¼›æä¾›åˆç†çš„è§¦æ‘¸ç›®æ ‡å°ºå¯¸å’Œé—´è·ï¼›å°†æ§åˆ¶å™¨æ”¾ç½®åœ¨æ˜“äºè®¿é—®çš„ä½ç½®ï¼›ä½¿ç”¨æ­£ç¡®çš„èƒŒæ™¯-å‰æ™¯å¯¹æ¯”ï¼ˆæœ‰ç±»ä¼¼çš„å·¥å…·å¯ä»¥å¸®åŠ©ä½ ï¼‰ï¼›ä¸ä»…ä¾èµ–é¢œè‰²ï¼šä½¿ç”¨ç»¿è‰²ï¼Œé»„è‰²å’Œçº¢è‰²ç‚¹è¿›è¡ŒçŠ¶æ€åé¦ˆå¯¹ä½ æ¥è¯´å¯èƒ½æ˜¯ä¸€ä¸ªç®€å•æ˜äº†çš„ä¸»æ„ï¼Œä½†æ˜¯å¯¹äºæŸäº›äººæ¥è¯´ï¼Œå®ƒä»¬åªæ˜¯ç°è‰²é˜´å½±ï¼ˆè¿™æ˜¯ä¸€ä¸ªå¾ˆé…·çš„æµè§ˆå™¨æ‰©å±•ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©ä½ äº†è§£å…¶ä»–äººçœ‹åˆ°ï¼‰ï¼›æ‰‹åŠ¿åº”å°½å¯èƒ½ç®€å•ï¼Œå¦‚æœä½ å¯ä»¥æ·»åŠ å˜é€šåŠŸèƒ½ä»¥é€šè¿‡å±å¹•èœå•ç”šè‡³é”®ç›˜æ“ä½œæ¥æ¨¡æ‹Ÿæ‰‹åŠ¿ï¼Œåˆ™æ•ˆæœä¼šæ›´å¥½ï¼Œå› ä¸ºè¶Šæ¥è¶Šå¤šçš„ç§»åŠ¨è®¾å¤‡ä¹Ÿæ”¯æŒé”®ç›˜ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¹¸è¿çš„æ˜¯ï¼Œ<code>iOS</code>å…·æœ‰å¼ºå¤§çš„<code>a11y</code>æ”¯æŒï¼Œæˆ‘ä¹Ÿéå¸¸æ¨èè¿™ç¯‡å…³äº<code>SwiftUI</code>å¯è®¿é—®æ€§çš„æ–‡ç« ã€‚é•¿è¯çŸ­è¯´ï¼šé€šè¿‡é‡‡ç”¨<code>SwiftUI</code>ï¼Œä½ å°†åœ¨æ­£ç¡®çš„é“è·¯ä¸Šä¸ºæ‰€æœ‰<code>iOS</code>ç”¨æˆ·æä¾›å¯è®¿é—®çš„<code>UI</code>ï¼ˆå½“ç„¶ï¼Œä¸è®¾è®¡æ— å…³ï¼‰ã€‚ <code>UIKit</code>ä¹Ÿå¹¶éæ²¡æœ‰é€‰é¡¹ï¼Œä½†æˆ‘å°†ä¿ç•™<code>Tib</code>çš„æŠ€æœ¯éƒ¨åˆ†ã€‚ ğŸ™‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿˜æœ‰æ›´å¤šçš„åŸåˆ™ï¼Œä½†æ˜¯ä¸‹é¢åˆ—å‡ºçš„æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚ä½ å¯ä»¥å°†å®ƒä»¬åº”ç”¨åˆ°<code>Web</code>åº”ç”¨ç¨‹åºä¸­ï¼Œå› ä¸ºæ— è®ºå¦‚ä½•éƒ½éœ€è¦ä½¿å…¶å¯ç§»åŠ¨ã€‚ä½†æ˜¯ï¼Œå³ä½¿ä½ å·²åšå¥½ä¸€åˆ‡å‡†å¤‡ï¼Œä½ ä»ç„¶å¯èƒ½ä¼šå‡ºé”™ã€‚è®©æˆ‘ç»™ä½ çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p></br><h1 id="è§†è§‰è®¾è®¡çš„åŠ›é‡"><a href="#è§†è§‰è®¾è®¡çš„åŠ›é‡" class="headerlink" title="è§†è§‰è®¾è®¡çš„åŠ›é‡"></a><strong>è§†è§‰è®¾è®¡çš„åŠ›é‡</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾ä½ åœ¨ä¸€ä¸ªç½‘é¡µä¸Šï¼Œå…¶ä¸­åŠ è½½äº†â€œæ— é™â€å…ƒç´ åˆ—è¡¨ä»¥è¿›è¡Œæ»šåŠ¨ï¼ˆä¾‹å¦‚æ–°é—»æºï¼‰ã€‚é¡µé¢åº•éƒ¨æœ‰ä¸€ä¸ªå›ºå®šçš„é¡µè„šï¼Œå…¶ä¸­åŒ…å«ä¸€äº›æŒä¹…æ€§å’ŒåŠ¨æ€ï¼ˆéšè—ï¼‰æ“ä½œã€‚ä½ å¯ä»¥ä»é¡µé¢ä¸­é€‰æ‹©é¡¹ç›®ï¼Œç„¶ååœ¨é¡µè„šä¸­é€šè¿‡æ‰¹é‡æ“ä½œæŒ‰é’®â€œå…¨éƒ¨åˆ é™¤â€ã€‚å®¹æ˜“å§ï¼Ÿ ğŸ‘Œ</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨å‡è®¾ä½ ä¸èƒ½ä½¿ç”¨è§¦æ‘¸æˆ–é¼ æ ‡ï¼Œåªèƒ½ä½¿ç”¨ç‰©ç†é”®ç›˜ã€‚ä½ å¯ä»¥æŒ‰<code>Tab</code>é”®è¿›è¡Œå¯¼èˆªï¼Œä»ä¸€ä¸ª<code>UI</code>å…ƒç´ è·³åˆ°å¦ä¸€ä¸ª<code>UI</code>å…ƒç´ ï¼Œä½†æ˜¯åˆ—è¡¨ä»…åŠ è½½è¶Šæ¥è¶Šå¤šçš„æ•°æ®ï¼Œå› æ­¤ä½ æ— æ³•åˆ°è¾¾é¡µè„šï¼Œè¿™æ„å‘³ç€ä½ æ— æ³•è¿›è¡Œæ“ä½œã€‚å½“ç„¶ï¼Œä¿®å¤èµ·æ¥å¾ˆå®¹æ˜“ï¼Œåªéœ€å°†â€œåŠ è½½æ»šåŠ¨â€é€‰é¡¹æ›¿æ¢ä¸ºâ€œåŠ è½½æ›´å¤šâ€æŒ‰é’®ï¼Œå³å¯é›†ä¸­ç²¾åŠ›è·³è½¬åˆ°é¡µè„šï¼Œè€Œæ— éœ€åŠ è½½æ›´å¤šé¡¹ç›®ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œåˆ™å¯èƒ½ä¼šé˜»æ­¢æŸäº›ç”¨æˆ·æ‰§è¡Œæ“ä½œã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹è¿™ä¸ªä¾‹å­ã€‚é€‰æ‹©è¦åˆ é™¤çš„é¡¹ç›®ï¼Œç„¶åå‡ºç°â€œå…¨éƒ¨åˆ é™¤â€æŒ‰é’®ï¼Œå–æ¶ˆé€‰æ‹©å®ƒä»¬åå®ƒæ¶ˆå¤±ï¼Œå› æ­¤å¯ä»¥è¿æ¥å„ä¸ªç‚¹ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æ²¡æœ‰çœ‹åˆ°æ­¤è§†è§‰åé¦ˆï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¦‚æœåªæœ‰å±å¹•é˜…è¯»å™¨å‘Šè¯‰ä½ â€œå…¨éƒ¨åˆ é™¤â€æŒ‰é’®å¤„äºç„¦ç‚¹ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿä½ æ˜¯å¦çŸ¥é“ä»…é€‚ç”¨äºæ‰€é€‰é¡¹ç›®ï¼Œè¿˜æ˜¯å¸Œæœ›å®ƒæ¸…é™¤æ‰€æœ‰æ•°æ®ï¼Ÿå¦‚ä½ æ‰€è§ï¼Œä½ ä½¿ç”¨çš„å‰¯æœ¬ä¹Ÿå¾ˆé‡è¦ã€‚å½“ä½ çœ‹åˆ°â€œå…¨éƒ¨åˆ é™¤â€å·²è¿æ¥åˆ°æ‰€é€‰é¡¹ç›®æ—¶ï¼Œâ€œä»…åˆ é™¤æ‰€é€‰å†…å®¹â€å¯¹äºé‚£äº›åªèƒ½ä¾é è€³æœµå¬çš„äººä¹Ÿå¾ˆæ¸…æ¥šã€‚è™½ç„¶åŸºæœ¬çš„UIå¯¹å¤§å¤šæ•°ç”¨æˆ·éƒ½é€‚ç”¨ï¼Œä½†å¯è®¿é—®çš„UIå¯¹æ‰€æœ‰äººéƒ½æ›´å¥½ã€‚å› æ­¤ï¼Œåˆ«å¿˜äº†ç…§é¡¾å®ƒã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¼–ç å‰è®¾è®¡UIå¯ä»¥å¸®åŠ©ä½ è§£å†³è¿™äº›æƒ…å†µï¼Œå› æ­¤ä½ ä¸å¿…æµªè´¹æ—¶é—´å®æ–½æœ‰ç¼ºé™·çš„UIçš„å¤šä¸ªç‰ˆæœ¬ã€‚æœ€å—æ¬¢è¿çš„æ¡†æ¶éƒ½å…·æœ‰ç”¨äºè®¾è®¡å·¥å…·ï¼ˆä¾‹å¦‚<code>Sketch</code>æˆ–<code>Figma</code>ï¼‰çš„ç»„ä»¶åº“ï¼Œå› æ­¤ä½ ä¸ä¼šè´¹åŠ²å°†ä»£ç ä¸è®¾è®¡è¿›è¡ŒåŒ¹é…ã€‚å¤§å‹å…¬å¸éå¸¸æ³¨é‡ç»´æŠ¤å’Œè®°å½•è‡ªå·±çš„è‡ªå®šä¹‰æ¡†æ¶å’Œ<code>UI</code>åº“ï¼ˆå…±ç§°ä¸ºè®¾è®¡ç³»ç»Ÿï¼‰ï¼Œä»¥å®ç°æ›´å¿«çš„å·¥ä½œæµå’Œæ›´ä¸€è‡´çš„<code>UI</code>ï¼Œä»è€Œæ»¡è¶³æ‰€æœ‰<code>UX</code>è¦æ±‚ã€‚ä½†æˆ‘ä¼šä¿ç•™æ­¤å†…å®¹ä»¥å¤‡å°†æ¥ä¹‹ç”¨ã€‚ ğŸ˜‰</p></br><h1 id="ç”¨æˆ·ç•Œé¢ä¹‹å¤–çš„ç”¨æˆ·ä½“éªŒ"><a href="#ç”¨æˆ·ç•Œé¢ä¹‹å¤–çš„ç”¨æˆ·ä½“éªŒ" class="headerlink" title="ç”¨æˆ·ç•Œé¢ä¹‹å¤–çš„ç”¨æˆ·ä½“éªŒ"></a><strong>ç”¨æˆ·ç•Œé¢ä¹‹å¤–çš„ç”¨æˆ·ä½“éªŒ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å·²ç»è®¨è®ºäº†å·¥å…·çš„â€œè§¦æ„Ÿâ€ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¹•åã€‚ä»–ä»¬è¯´ï¼Œæœ€å¥½çš„UXæ˜¯çœ‹ä¸è§çš„ï¼Œæˆ‘æ•¢è¯´ï¼Œè‡³å°‘åœ¨æˆ‘ä»¬è¦æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬éƒ½æ›´å–œæ¬¢ç®€å•è€Œä¸æ˜¯ç¾è§‚æˆ–å¨±ä¹ã€‚ä½ çš„ç”¨æˆ·ç•Œé¢æœ‰å¤šé…·ï¼ŒæœåŠ¡æ˜¯å¦ä¸å¥½ï¼Œæˆ–è€…æ²¡æœ‰ç»™ç”¨æˆ·ä»–ä»¬æƒ³è¦çš„ä¸œè¥¿éƒ½æ²¡æœ‰å…³ç³»ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æä¾›çš„å·¥å…·è¿è¡Œè‰¯å¥½ï¼Œå¹¶ä¸”å¯ä»¥å¸®åŠ©ç”¨æˆ·æœ‰æ•ˆåœ°å®Œæˆå·¥ä½œï¼Œåˆ™ä»–ä»¬å¯èƒ½ä¸å¤ªåœ¨ä¹ç•Œé¢çš„å¤–è§‚ï¼ˆè¯·è®°ä½å°† <code>iOS6</code> æ¢æˆ <code>iOS7</code> ğŸ˜ï¼‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œ<code>UI</code>çš„ç®€å•æ€§æ„å‘³ç€åå°çš„å¤æ‚æ€§ã€‚åªéœ€è€ƒè™‘ä¸€ä¸‹æœç´¢å¼•æ“ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç”¨æˆ·ä½“éªŒï¼Œä½ åªéœ€åœ¨æœç´¢å­—æ®µï¼ˆç”šè‡³æ˜¯æµè§ˆå™¨çš„ç½‘å€æ ï¼‰ä¸­è¾“å…¥å†…å®¹ï¼Œç„¶åé­”æœ¯èˆ¬åœ°å‡ºç°åœ¨å±å¹•ä¸Šã€‚åœ¨è¿™é‡Œï¼Œä½ æ— éœ€å…³å¿ƒç¾è§‚ï¼Œæœ‰è¶£çš„åŠ¨ç”»æˆ–å…¶ä»–ä»»ä½•å†…å®¹ï¼Œè€Œåªå…³å¿ƒé€Ÿåº¦å’Œå‡†ç¡®æ€§ï¼šä½ æƒ³æ‰¾åˆ°ä¸œè¥¿ï¼Œç°åœ¨å°±æƒ³è¦ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬éƒ½çŸ¥é“çœ‹åˆ°åŠ è½½åŠ¨ç”»è¶…è¿‡3ç§’é’Ÿæ˜¯å¤šä¹ˆä»¤äººæ²®ä¸§ã€‚å®é™…ä¸Šï¼Œæœ‰ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœåŠ è½½æ—¶é—´è¶…è¿‡3ç§’ï¼Œç”¨æˆ·å°†æ”¾å¼ƒä½ çš„ç½‘ç«™ï¼Œè¿™å¯èƒ½ä¼šä»¤äººéœ‡æƒŠã€‚æ¯‹åº¸ç½®ç–‘ï¼Œè§†è§‰è®¾è®¡å¸ˆå¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚è¿™æ˜¯<code>UX</code>é«˜åº¦ä¾èµ–å¼€å‘äººå‘˜çš„å·¥ä½œçš„ä¼—å¤šæƒ…å†µä¹‹ä¸€ï¼Œè¿™æ˜¯å·¨å¤§çš„è´£ä»»ï¼æˆ‘ä»¬æ‰€æœ‰äººéƒ½å¸Œæœ›è½»æ¾å®Œæˆå·¥ä½œï¼Œä½†æ˜¯æœ‰æ—¶å€™é€‰æ‹©çŸ­è·¯å¾„æ„å‘³ç€æˆ‘ä»¬çš„ç”¨æˆ·å°†ä¸å¾—ä¸èµ°æ›´é•¿çš„è·¯ã€‚æˆ‘çŸ¥é“åœ¨é¡¹ç›®æŸç¼šæˆ‘ä»¬çš„è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤šå› ç´ ï¼ˆæœŸé™ï¼Œé—ç•™ä»£ç ï¼Œä¾èµ–é¡¹ç­‰ï¼‰ï¼Œä½†æ˜¯å¦‚æœä½ æœ‰æœºä¼šæå‡ºé—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œè¯·ä¸è¦çŠ¹è±«ï¼Œå› ä¸ºè¿™æ ·åšæ›´å®¹æ˜“ã€‚ä½ çš„ç”¨æˆ·ç¨åä¼šæ„Ÿè°¢ä½ ã€‚ ğŸ˜Š</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡ä¸€äº›å¯è®¿é—®æ€§æç¤ºæ¥å­¦ä¹ ç”¨æˆ·ä½“éªŒè®¾è®¡çš„åŸºç¡€çŸ¥è¯†ï¼Œä½ å¯ä»¥ç«‹å³ä½¿ç”¨è¿™äº›æç¤ºä¸ºæ¯ä¸ªäººæ„å»ºæ›´å¥½çš„ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;Swift&lt;/code&gt; å¾ˆæœ‰è¶£ï¼Œä½†æ˜¯ä½ æ›¾ç»å°è¯•è¿‡ &lt;code&gt;UX&lt;/code&gt; å—ï¼Ÿ å½“ç„¶æœ‰ ä½ ä½¿ç”¨çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šå¸¦æ¥ç”¨æˆ·ä½“éªŒã€‚ éµå¾ªè¿™æ ·çš„é€»è¾‘ï¼šä½ åˆ›å»ºå¹¶å°†è¦ç”±ä»–äººä½¿ç”¨çš„æ‰€æœ‰å†…å®¹ä¹Ÿå°†å¯¼è‡´ &lt;code&gt;UX&lt;/code&gt; ã€‚ ä½†æ˜¯åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œè®¾è®¡å¸ˆå’Œå¼€å‘äººå‘˜åœ¨å“ªé‡Œé€‚åˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬æ‰¾å‡ºç­”æ¡ˆã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://www.xuebaonline.com/categories/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://www.xuebaonline.com/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>æ­ç§˜ WordPress Hook ç³»ç»Ÿ</title>
    <link href="http://www.xuebaonline.com/%E6%8F%AD%E7%A7%98%20WordPress%20Hook%20%E7%B3%BB%E7%BB%9F/"/>
    <id>http://www.xuebaonline.com/%E6%8F%AD%E7%A7%98%20WordPress%20Hook%20%E7%B3%BB%E7%BB%9F/</id>
    <published>2020-04-26T09:50:08.000Z</published>
    <updated>2020-04-26T10:13:55.975Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ ä¸€ç›´åœ¨ä½¿ç”¨ <code>WordPress</code> å¼€å‘ç½‘ç«™ï¼ˆåŒ…æ‹¬æ’ä»¶å’Œä¸»é¢˜å¼€å‘ï¼‰ï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»å¬è¯´è¿‡ä»¥ä¸‹æœ¯è¯­ï¼š<code>æŒ‚é’©</code>ï¼Œ<code>æ“ä½œ</code>å’Œ<code>è¿‡æ»¤å™¨</code>ã€‚ è¿™äº›æ˜¯ <code>WordPress</code> ä½¿ç”¨çš„ <a href="https://en.wikipedia.org/wiki/Event-driven_architecture" target="_blank" rel="noopener"><code>äº‹ä»¶é©±åŠ¨æ¶æ„æ¨¡å¼(è‹±æ–‡ï¼šEvent-driven architecture)</code></a> çš„ä¸€éƒ¨åˆ†ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ æ˜¯ <code>WordPress</code> å¼€å‘çš„æ–°æ‰‹è¿˜æ˜¯å‘ç°éš¾ä»¥ç†è§£åŸºæœ¬æ¦‚å¿µï¼Ÿ æˆ‘ä¸èƒ½æ¨èè¶³å¤Ÿé«˜çš„ <a href="https://www.sitepoint.com/author/scodrington/" target="_blank" rel="noopener"><code>Simon Codrington</code></a> çš„ <code>WordPress</code> æ’ä»¶å¼€å‘ç®€ä»‹æ•™ç¨‹ã€‚ ä»–åœ¨è§£é‡Š <code>åŠ¨ä½œ</code> å’Œ <code>è¿‡æ»¤å™¨</code> æ–¹é¢åšå¾—å¾ˆå‡ºè‰²ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†æ­å¼€ <code>WordPress</code> é’©å­ç³»ç»Ÿçš„ç¥ç§˜é¢çº±ï¼Œä¸é—ä½™åŠ›ã€‚ äº‹ä¸å®œè¿Ÿï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><a id="more"></a></br><h1 id="æŒ‚é’©ï¼ŒåŠ¨ä½œï¼Œè¿‡æ»¤å™¨ã€‚-è¿™äº›æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æŒ‚é’©ï¼ŒåŠ¨ä½œï¼Œè¿‡æ»¤å™¨ã€‚-è¿™äº›æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æŒ‚é’©ï¼ŒåŠ¨ä½œï¼Œè¿‡æ»¤å™¨ã€‚ è¿™äº›æ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>æŒ‚é’©ï¼ŒåŠ¨ä½œï¼Œè¿‡æ»¤å™¨ã€‚ è¿™äº›æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>â€œæŒ‚é’©â€</code>åŸºæœ¬ä¸Šæ˜¯ç”± <code>WordPress</code> æ ¸å¿ƒï¼Œä¸»é¢˜å’Œæ’ä»¶åœ¨ <code>PHP</code> æ‰§è¡Œæˆ–è§£é‡Šçš„å„ä¸ªé˜¶æ®µè§¦å‘çš„äº‹ä»¶ã€‚ å½“è¿™äº›äº‹ä»¶è¢«è§¦å‘æ—¶ï¼ŒæŒ‚é’©æˆ–é™„åŠ åˆ°å®ƒä»¬çš„æ‰€æœ‰å‡½æ•°å’Œ/æˆ–ç±»æ–¹æ³•å‡ä»¥å…¶æ­£ç¡®é¡ºåºæ‰§è¡Œã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>æŒ‚é’©</code>æœ‰ä¸¤ç§å½¢å¼ï¼Œ<code>åŠ¨ä½œ</code>å’Œ<code>è¿‡æ»¤å™¨</code>ã€‚ å‰è€…ç”¨äºåœ¨æµç¨‹æ‰§è¡Œçš„å„ä¸ªé˜¶æ®µæ·»åŠ å’Œåˆ é™¤åŠŸèƒ½éƒ¨ä»¶ï¼Œè€Œåè€…åˆ™ç”¨äºä¿®æ”¹å„ç§åŠŸèƒ½éƒ¨ä»¶å’Œå®ç°çš„è¡Œä¸ºã€‚ å¦‚æœä½ ä»ç„¶ä¸äº†è§£ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚ å½“æˆ‘ä»¬å¼€å§‹åœ¨ä¸‹é¢çœ‹åˆ°ä¸€äº›ä»£ç ç¤ºä¾‹æ—¶ï¼Œä½ å°†çœ‹åˆ°ã€‚</p></br><h1 id="WordPressä¸­Hookç³»ç»Ÿçš„é‡è¦æ€§"><a href="#WordPressä¸­Hookç³»ç»Ÿçš„é‡è¦æ€§" class="headerlink" title="WordPressä¸­Hookç³»ç»Ÿçš„é‡è¦æ€§"></a><strong>WordPressä¸­Hookç³»ç»Ÿçš„é‡è¦æ€§</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>é’©å­ç³»ç»Ÿ</code> åœ¨ <code>WordPress</code> ä¸­çš„é‡è¦æ€§ä»…ä»…æ˜¯å¯æ‰©å±•æ€§ã€‚ å®ƒä½¿æ·»åŠ å’Œåˆ é™¤åŠŸèƒ½ä»¥åŠè°ƒæ•´/ä¿®æ”¹ <code>WordPress</code> æ ¸å¿ƒï¼Œæ’ä»¶å’Œä¸»é¢˜ä¸­åŠŸèƒ½çš„å®ç°æˆä¸ºå¯èƒ½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä½ ç¼–å†™å¯æ‰©å±•çš„æ’ä»¶å’Œä¸»é¢˜æ—¶ï¼Œå…¶ä»–å¼€å‘äººå‘˜æ— éœ€ç¼–è¾‘æ ¸å¿ƒæºä»£ç å°±å¯ä»¥æ”¹è¿›å’Œæ‰©å±•å®ƒä»¬ã€‚</p></br><h1 id="æ·±å…¥ç ”ç©¶WordPressæŒ‚é’©ç³»ç»Ÿ"><a href="#æ·±å…¥ç ”ç©¶WordPressæŒ‚é’©ç³»ç»Ÿ" class="headerlink" title="æ·±å…¥ç ”ç©¶WordPressæŒ‚é’©ç³»ç»Ÿ"></a><strong>æ·±å…¥ç ”ç©¶WordPressæŒ‚é’©ç³»ç»Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>WordPress</code> æ‰§è¡Œçš„å„ä¸ªé˜¶æ®µï¼Œé€šå¸¸ä¼šä½¿ç”¨ <code>do_actionsï¼ˆï¼‰</code>å’Œ<code>a pply_filtersï¼ˆï¼‰</code> <code>PHP</code> å‡½æ•°æ¥è§¦å‘å¤§é‡äº‹ä»¶ã€‚ è¿™äº›äº‹ä»¶å¯ä»¥é€šè¿‡ <code>add_actionï¼ˆï¼‰</code>å’Œ <code>add_filterï¼ˆï¼‰</code>è¿›è¡Œè®¢é˜…æˆ–æŒ‚æ¥ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·æ³¨æ„ä½¿ç”¨â€œæ™®é€šâ€ä¸€è¯ã€‚ è¿˜æœ‰å…¶ä»–è§¦å‘äº‹ä»¶çš„æ–¹æ³•ã€‚ æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ä¸­å¯¹æ­¤è¿›è¡Œæ¢è®¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»¥ä¸‹æ˜¯æ’ä»¶ä¸­æ“ä½œçš„ç¤ºä¾‹ã€‚ åœ¨æˆ‘çš„ <code>ProfilePress</code> ç”¨æˆ·æ³¨å†Œæ’ä»¶ä¸­æˆåŠŸæ³¨å†Œç”¨æˆ·åï¼Œå°†è§¦å‘æ­¤æ“ä½œã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Fires after a user registration is completed.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @param int $form_id ID of the registration form.</span></span><br><span class="line"><span class="comment"> * @param mixed $user_data array of registered user info.</span></span><br><span class="line"><span class="comment"> * @param int $user_id ID of the registered user.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">do_action( 'pp_after_registration', $form_id, $user_data, $user_id );</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>WordPress</code> æ‰§è¡ŒæœŸé—´ï¼Œå°†å¤„ç†ä¸è¯¥æ“ä½œå…³è”çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿‡æ»¤å™¨æŒ‚é’©çš„ä¸€ä¸ªç¤ºä¾‹æ˜¯ <code>WordPress</code> æ ¸å¿ƒä¸­çš„ <code>the_content</code> ï¼Œå®ƒè¿‡æ»¤æ¯ä¸ªå¸–å­å†…å®¹ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Filter the post content.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@since</span> 0.71</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> string $content Content of the current post.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   $content = apply_filters( <span class="string">'the_content'</span>, $content );</span><br></pre></td></tr></table></figure></br><h1 id="åšä¸ªç¬”è®°"><a href="#åšä¸ªç¬”è®°" class="headerlink" title="åšä¸ªç¬”è®°"></a><strong>åšä¸ªç¬”è®°</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨<code>do_actionï¼ˆï¼‰</code>ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŠ¨ä½œæŒ‚é’©çš„åç§°ï¼Œåç»­å‚æ•°æ˜¯å¯ä¾›æŒ‚é’©åˆ°åŠ¨ä½œçš„å‡½æ•°ä½¿ç”¨çš„å˜é‡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨<code>apply_filtersï¼ˆï¼‰</code>ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿‡æ»¤å™¨æŒ‚é’©çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿®æ”¹æˆ–åº”ç”¨è¿æ¥åˆ°è¿‡æ»¤å™¨çš„å‡½æ•°çš„æ•°æ®æˆ–å€¼ã€‚ åé¢çš„å‚æ•°æ˜¯æŒ‚é’©åˆ°è¿‡æ»¤å™¨çš„å‡½æ•°å¯ç”¨çš„å˜é‡/å€¼ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ç”¨æ‹…å¿ƒï¼Œå½“æˆ‘ä»¬æ£€æŸ¥ä»£ç ç¤ºä¾‹æ—¶ï¼Œæ‰€æœ‰è¿™äº›å°†æ›´æœ‰æ„ä¹‰ã€‚</p><br><h1 id="åŠ¨ä½œæŒ‚é’©ç¤ºä¾‹"><a href="#åŠ¨ä½œæŒ‚é’©ç¤ºä¾‹" class="headerlink" title="åŠ¨ä½œæŒ‚é’©ç¤ºä¾‹"></a><strong>åŠ¨ä½œæŒ‚é’©ç¤ºä¾‹</strong></h1><h2 id="å®ä¾‹1"><a href="#å®ä¾‹1" class="headerlink" title="å®ä¾‹1"></a><strong><em>å®ä¾‹1</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯•ä¸€ä¸‹æˆ‘çš„ <code>ProfilePress</code> æ’ä»¶çš„ <code>pp_after_registration</code> æ“ä½œï¼› å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€é¡¹åŠŸèƒ½ï¼Œä½¿ç”¨æˆ·åœ¨æ³¨å†Œåä¼šç«‹å³æ”¶åˆ°ä¸€æ¡ <code>SMS</code>ï¼ˆé€šè¿‡ç§°ä¸º <code>Dolio</code> çš„æ¶ˆæ¯ä¼ é€’æœåŠ¡ï¼‰ï¼Œæ¬¢è¿ä»–ä»¬è®¿é—®ä½ çš„ç½‘ç«™ã€‚ æˆ‘ä»¬çš„å‡½æ•°æŒ‚é’©å¯ä»¥é‡‡ç”¨ä»¥ä¸‹å½¢å¼ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">add_action( <span class="string">'pp_after_registration'</span>, <span class="string">'send_users_welcome_sms'</span>, <span class="number">20</span>, <span class="number">3</span> );</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">send_users_welcome_sms</span><span class="params">( $form_id, $user_data, $user_id )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">global</span> $service_locator;</span><br><span class="line"></span><br><span class="line">    $username    = $user_data[<span class="string">'username'</span>];</span><br><span class="line">    $firstName   = $user_data[<span class="string">'first_name'</span>];</span><br><span class="line">    $lastName    = $user_data[<span class="string">'last_name'</span>];</span><br><span class="line">    $phoneNumber = $user_data[<span class="string">'phone_number'</span>];</span><br><span class="line"></span><br><span class="line">    $text = <span class="string">&lt;&lt;&lt;SMS_CONTENT</span></span><br><span class="line"><span class="string">Hello <span class="subst">$firstName</span> <span class="subst">$lastName</span>, Welcome to SitePoint. "\r\n"</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">User ID: <span class="subst">$user_id</span> "\r\n"</span></span><br><span class="line"><span class="string">Username: <span class="subst">$username</span> "\r\n"</span></span><br><span class="line"><span class="string">Password: The password you sign up with "\r\n"</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">SMS_CONTENT;</span></span><br><span class="line"></span><br><span class="line">    $dolio = $service_locator-&gt;get( <span class="string">'dolio_sdk'</span> );</span><br><span class="line">    $dolio-&gt;phone_number( $phoneNumber );</span><br><span class="line">    $dolio-&gt;sms_content( $text );</span><br><span class="line">    $dolio-&gt;send();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢ä»£ç ä¸­ <code>add_action</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æŒ‚é’©ä¼˜å…ˆçº§ï¼Œè¯¥æŒ‚é’©ä¼˜å…ˆçº§æŒ‡å®šäº†æŒ‚é’©åˆ° <code>pp_after_registration</code> åŠ¨ä½œçš„å‡½æ•°çš„æ‰§è¡Œé¡ºåºã€‚ å°†å…¶ä¿ç•™ä¸ºç©ºå°†é»˜è®¤ä¸º10ã€‚è€Œç¬¬å››ä¸ªå‚æ•°æŒ‡å®šå‡½æ•°æŒ‚é’©å°†æ¥å—çš„å‚æ•°æ•°é‡ã€‚ å¦‚æœä¸ºç©ºï¼Œåˆ™é»˜è®¤ä¸º1ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾æˆ‘çœç•¥äº†ç¬¬å››ä¸ªå‚æ•°ï¼Œå› æ­¤é»˜è®¤ä¸º1ï¼Œåˆ™<code>$ user_data</code>å’Œ<code>$ user_id</code>å˜é‡å°†ä¸º<code>null</code>ï¼Œå› ä¸ºæˆ‘ä»¬åªå‘Šè¯‰å‡½æ•°ä»…æ¥å—ä¸€ä¸ªå‚æ•°ã€‚</p><h2 id="å®ä¾‹2"><a href="#å®ä¾‹2" class="headerlink" title="å®ä¾‹2"></a><strong><em>å®ä¾‹2</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>WordPress</code> åŒ…å«ä»¥ä¸‹åŠ¨ä½œæŒ‚é’©- <code>wp_head</code> å’Œ <code>wp_footer</code> ï¼Œå®ƒä»¬åˆ†åˆ«åœ¨<code>head</code>æ ‡ç­¾å’Œå‰ç«¯çš„<code>body</code>æ ‡ç­¾ä¹‹å‰è§¦å‘ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›æŒ‚é’©å¯ç”¨äºåœ¨é‚£äº›å…³é”®ä½ç½®æ˜¾ç¤ºè„šæœ¬å’Œæ•°æ®ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬çœ‹çœ‹ä¸€äº›ä»£ç ç¤ºä¾‹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»¥ä¸‹ä»£ç ä½¿ç”¨ <code>wp_head</code> å°† <code>Google</code> çš„ç«™ç‚¹éªŒè¯å…ƒæ ‡è®°æ·»åŠ åˆ° <code>WordPress</code> å‰ç«¯çš„æ ‡å¤´ä¸­ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">add_action( <span class="string">'wp_head'</span>, <span class="string">'google_site_verification'</span> );</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">google_site_verification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;meta name="google-site-verification" content="ytl89rlFsAzH7dWLs_U2mdlivbrr_jgV4Gq7wClHDUJ8" /&gt;'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰€æœ‰æŒ‚é’©å‡½æ•°éƒ½å°†æ˜¯åŒ¿åçš„ï¼Œè€Œä¸æ˜¯å‘½åå‡½æ•°ï¼Œä»¥é¿å…ä¸å¿…è¦çš„å‡½æ•°åç§°é‡å¤ã€‚ ä¾‹å¦‚ï¼Œä¸Šé¢çš„ <code>Google</code> ç½‘ç«™éªŒè¯å…ƒæ ‡è®°çš„ä»£ç å°†å˜ä¸ºï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add_action( <span class="string">'wp_head'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;meta name="google-site-verification" content="ytl89rlFsAzH7dWLs_U2mdlivbrr_jgV4Gq7wClHDUJ8" /&gt;'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢çš„ä»£ç ä½¿ç”¨ <code>wp_footer</code> åœ¨ <code>WordPress</code> å‰ç«¯çš„é¡µè„šåŒºåŸŸä¸­æ·»åŠ  <code>JavaScript</code> ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add_action( <span class="string">'wp_footer'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;script type="text/javascript" src="http://example.com/wp-content/plugins/site-specific-plugin/hello-bar.js"&gt;&lt;/script&gt;'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong><em>åŠ¨ä½œé’©å­ä»£ç ç¤ºä¾‹è¶³å¤Ÿå¤šï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿‡æ»¤å™¨ã€‚</em></strong></p></br><h1 id="æ»¤é’©ç¤ºä¾‹"><a href="#æ»¤é’©ç¤ºä¾‹" class="headerlink" title="æ»¤é’©ç¤ºä¾‹"></a><strong>æ»¤é’©ç¤ºä¾‹</strong></h1><h2 id="ç¤ºä¾‹1"><a href="#ç¤ºä¾‹1" class="headerlink" title="ç¤ºä¾‹1"></a><strong><em>ç¤ºä¾‹1</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå¹¿å‘Šæ’å…¥å™¨æ’ä»¶ï¼Œè¯¥æ’ä»¶å°†ä»¥ç¼–ç¨‹æ–¹å¼åœ¨æ¯ä¸ªå¸–å­å†…å®¹å‰åæ’å…¥å¹¿å‘Šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ <code>the_content</code> è¿‡æ»¤å™¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»¥ä¸‹ä»£ç åœ¨æ¯ä¸ªå¸–å­å†…å®¹å‰åéƒ½åŒ…å«â€œæˆ‘ä»¬å–œæ¬¢ <code>SitePoint</code> â€æ–‡å­—ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">add_filter( <span class="string">'the_content'</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="params">( $content )</span> </span>&#123;</span><br><span class="line">        $text = sprintf( <span class="string">'&lt;div class="notice alert"&gt;%s&lt;/div&gt;'</span>, __( <span class="string">'We love SitePoint'</span>, <span class="string">'sp'</span> ) );</span><br><span class="line">        $content = $text . $content . $text;</span><br><span class="line">        <span class="keyword">return</span> $content;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p><strong>ä»£ç è¯´æ˜</strong>ï¼š<code>$text</code> å˜é‡çš„å†…å®¹ä¸&lt;div class =â€œ notice alertâ€&gt;æˆ‘ä»¬å–œæ¬¢SitePoint &lt;/ div&gt;ä¸€æ ·ï¼Œå°½ç®¡å®ƒå·²ç»å›½é™…åŒ–ï¼Œæ‰€ä»¥å¯ä»¥æœ¬åœ°åŒ–ã€‚ </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·æ³¨æ„ï¼Œå‡½æ•°å‚æ•° <code>$content</code> æ˜¯æä¾›å¸–å­å†…å®¹çš„å˜é‡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œæˆ‘ä»¬åœ¨å¸–å­å†…å®¹å‰åæ·»åŠ è‡ªå®šä¹‰æ–‡æœ¬ï¼Œå°†ç»“æœæ•°æ®ä¿å­˜åˆ° <code>$content</code> ä¸­ï¼Œç„¶åè¿”å›ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ³¨æ„ï¼šæ‰€æœ‰æ»¤é•œæŒ‚é’©å‡½æ•°éƒ½å¿…é¡»åœ¨æ“ä½œæˆ–ä¿®æ”¹åè¿”å›å˜é‡å‚æ•°ã€‚</p><h2 id="ç¤ºä¾‹2"><a href="#ç¤ºä¾‹2" class="headerlink" title="ç¤ºä¾‹2"></a><strong><em>ç¤ºä¾‹2</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å°†çœ‹åˆ°çš„å¦ä¸€ä¸ªè¿‡æ»¤å™¨ç¤ºä¾‹æ˜¯ <code>the_title</code> ã€‚ ä»¥ä¸‹æ˜¯ <code>wp-includes/post-template.php</code> çš„158è¡Œä¸­çš„å®šä¹‰æ–¹å¼ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Filter the post title.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@since</span> 0.71</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> string $title The post title.</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> int    $id    The post ID.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">return</span> apply_filters( <span class="string">'the_title'</span>, $title, $id );</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢çš„ä»£ç é€šè¿‡åœ¨å…¶åé¢é™„åŠ  <code>-WeLoveSitePoint</code> æ¥ä»…ä¿®æ”¹ ID ä¸º 5978çš„å¸–å­çš„æ ‡é¢˜ã€‚ è¿™è¦å½’åŠŸäº <code>$id</code> å‚æ•°ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">add_filter( <span class="string">'the_title'</span>, <span class="function"><span class="keyword">function</span> <span class="params">( $title, $id )</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( $id == <span class="string">'5978'</span> ) &#123;</span><br><span class="line">            $title .= <span class="string">' - WeLoveSitePoint'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $title;</span><br><span class="line"></span><br><span class="line">    &#125;, <span class="number">10</span>, <span class="number">2</span> </span><br><span class="line">);</span><br></pre></td></tr></table></figure></br><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>WordPress</code> ä¹‹æ‰€ä»¥ç»§ç»­æˆä¸ºé¢†å…ˆçš„å†…å®¹ç®¡ç†ç³»ç»Ÿçš„åŸå› æ˜¯å…¶å¯æ‰©å±•æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>WordPress Hook</code> ç³»ç»Ÿä½¿ <code>WordPress</code> å¯ä»¥è½¬æ¢ä¸ºåŠŸèƒ½å¼ºå¤§çš„ <code>Web</code> åº”ç”¨ç¨‹åºï¼Œæ— è®ºæ˜¯ <code>WooCommerce</code> çš„ç”µå­å•†åŠ¡å•†åº—ï¼Œ<code>bbPress</code> çš„è®ºå›è¿˜æ˜¯ <code>BuddyPress</code> çš„ç¤¾äº¤ç½‘ç«™ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœä½ ä¸€ç›´åœ¨ä½¿ç”¨ &lt;code&gt;WordPress&lt;/code&gt; å¼€å‘ç½‘ç«™ï¼ˆåŒ…æ‹¬æ’ä»¶å’Œä¸»é¢˜å¼€å‘ï¼‰ï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»å¬è¯´è¿‡ä»¥ä¸‹æœ¯è¯­ï¼š&lt;code&gt;æŒ‚é’©&lt;/code&gt;ï¼Œ&lt;code&gt;æ“ä½œ&lt;/code&gt;å’Œ&lt;code&gt;è¿‡æ»¤å™¨&lt;/code&gt;ã€‚ è¿™äº›æ˜¯ &lt;code&gt;WordPress&lt;/code&gt; ä½¿ç”¨çš„ &lt;a href=&quot;https://en.wikipedia.org/wiki/Event-driven_architecture&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;äº‹ä»¶é©±åŠ¨æ¶æ„æ¨¡å¼(è‹±æ–‡ï¼šEvent-driven architecture)&lt;/code&gt;&lt;/a&gt; çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½ æ˜¯ &lt;code&gt;WordPress&lt;/code&gt; å¼€å‘çš„æ–°æ‰‹è¿˜æ˜¯å‘ç°éš¾ä»¥ç†è§£åŸºæœ¬æ¦‚å¿µï¼Ÿ æˆ‘ä¸èƒ½æ¨èè¶³å¤Ÿé«˜çš„ &lt;a href=&quot;https://www.sitepoint.com/author/scodrington/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;Simon Codrington&lt;/code&gt;&lt;/a&gt; çš„ &lt;code&gt;WordPress&lt;/code&gt; æ’ä»¶å¼€å‘ç®€ä»‹æ•™ç¨‹ã€‚ ä»–åœ¨è§£é‡Š &lt;code&gt;åŠ¨ä½œ&lt;/code&gt; å’Œ &lt;code&gt;è¿‡æ»¤å™¨&lt;/code&gt; æ–¹é¢åšå¾—å¾ˆå‡ºè‰²ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†æ­å¼€ &lt;code&gt;WordPress&lt;/code&gt; é’©å­ç³»ç»Ÿçš„ç¥ç§˜é¢çº±ï¼Œä¸é—ä½™åŠ›ã€‚ äº‹ä¸å®œè¿Ÿï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="Modules And Hooks" scheme="http://www.xuebaonline.com/tags/Modules-And-Hooks/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¸­çš„æ¨¡å—å’ŒæŒ‚é’©</title>
    <link href="http://www.xuebaonline.com/Swift%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%92%8C%E6%8C%82%E9%92%A9/"/>
    <id>http://www.xuebaonline.com/Swift%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%92%8C%E6%8C%82%E9%92%A9/</id>
    <published>2020-04-26T09:32:28.000Z</published>
    <updated>2020-04-26T11:00:01.650Z</updated>
    
    <content type="html"><![CDATA[<p>äº†è§£å¦‚ä½•ä½¿ç”¨ä»¥ <code>Swift</code> ç¼–å†™çš„æ¾è€¦åˆæ¨¡å—æ’ä»¶ç³»ç»Ÿé€šè¿‡æ–°åŠŸèƒ½æ‰©å±•åº”ç”¨ç¨‹åºã€‚</p><h1 id="æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ"><a href="#æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ" class="headerlink" title="æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ"></a><strong>æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ å¯ä»¥åˆ›å»ºå¯ä»¥åœ¨ä¸çŸ¥å½¼æ­¤çš„æƒ…å†µä¸‹ä¸€èµ·å·¥ä½œçš„å¯¹è±¡ï¼Œé‚£ä¼šå¾ˆé…·å—ï¼Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨æ„å»ºä¸€ä¸ªåŠ¨æ€è¡¨å•ã€‚ æ ¹æ®ä¸€äº›å†…éƒ¨æ¡ä»¶ï¼Œå°†ä½¿ç”¨æ¥è‡ªå¯ç”¨æ¨¡å—çš„æ•°æ®æ¥æ„æˆå­—æ®µã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œä½ æ‹¥æœ‰æ¨¡å— <code>A</code> ï¼Œ<code>B</code> ï¼Œ<code>C</code> ï¼Œå…¶ä¸­ <code>A</code> ä¸ºæ‚¨æä¾›å­—æ®µ <code>1ã€2ã€3</code>ï¼Œ<code>B</code> æ¨¡å—è´Ÿè´£å­—æ®µ4ã€5ï¼Œè€Œ <code>C</code> æ˜¯å­—æ®µ6çš„æä¾›è€…ã€‚ç°åœ¨ï¼Œå¦‚æœæ‚¨å…³é—­ <code>B</code>ï¼Œ æ‚¨åº”è¯¥åªèƒ½çœ‹åˆ°å­—æ®µ1ã€2ã€3å’Œ6ã€‚å¦‚æœå·²æ‰“å¼€æ‰€æœ‰å†…å®¹ï¼Œåˆ™åº”è¯¥çœ‹åˆ°ä»1åˆ°6çš„æ‰€æœ‰å­—æ®µã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å¯ä»¥å°†å®Œå…¨ç›¸åŒçš„æ¨¡å¼åº”ç”¨äºè®¸å¤šäº‹ç‰©ã€‚ è¯•æƒ³ä¸€ä¸‹æœ€å¤§çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿä¹‹ä¸€ã€‚ <code>WordPress</code> ä½¿ç”¨ <a href="https://www.sitepoint.com/wordpress-hook-system/" target="_blank" rel="noopener"><code>é’©å­(è‹±æ–‡ï¼šhooks)</code></a> æ¥æ‰©å±•æ ¸å¿ƒåŠŸèƒ½ã€‚ è¿™äº›éƒ½æ˜¯åŸºäºæˆ‘ä¸Šé¢åˆšåˆšæåˆ°çš„æ¦‚å¿µã€‚ è¿™æ˜¯ <a href="https://en.wikipedia.org/wiki/Event-driven_architecture" target="_blank" rel="noopener"><code>äº‹ä»¶é©±åŠ¨çš„ä½“ç³»ç»“æ„è®¾è®¡æ¨¡å¼(è‹±æ–‡ï¼šEvent-driven architecture)</code></a> çš„ä¸€éƒ¨åˆ†ã€‚ ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ <code>Swift</code> å®ç°ç±»ä¼¼çš„ä¸œè¥¿ï¼Ÿ ğŸ¤”</p><a id="more"></a></br><h1 id="é’©å­ç³»ç»Ÿçš„å®ç°"><a href="#é’©å­ç³»ç»Ÿçš„å®ç°" class="headerlink" title="é’©å­ç³»ç»Ÿçš„å®ç°"></a><strong>é’©å­ç³»ç»Ÿçš„å®ç°</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘ä»¬ä»å¸¦æœ‰è°ƒç”¨ç‚¹çš„åè®®å¼€å§‹ã€‚ æ¨¡å—ç®¡ç†å™¨å°†è°ƒç”¨æ­¤æ–¹æ³•ï¼Œä»¥æŒ‰åç§°è°ƒç”¨æ­£ç¡®çš„é’©å­å‡½æ•°ã€‚ æˆ‘ä»¬å°†ä¼ é€’å‚æ•°å­—å…¸ï¼Œå› æ­¤æˆ‘ä»¬çš„é’©å­å¯ä»¥æœ‰å‚æ•°ã€‚ æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ <code>Any</code> ç±»å‹ä½œä¸ºå€¼ï¼Œå› æ­¤ä½ å¯ä»¥åœ¨ç»™å®šé”®ä¸‹å°†ä»»ä½•å†…å®¹ä½œä¸ºå‚æ•°å‘é€ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Module</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Module</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span> &#123; <span class="literal">nil</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨åŸºäºè¡¨å•ç¤ºä¾‹çš„ç®€åŒ–ç‰ˆæœ¬æ¥å®ç°æˆ‘ä»¬çš„æ¨¡å—ã€‚ ğŸ¤“</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>: <span class="title">Module</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> name &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"example_form"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.exampleFormHook()</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">exampleFormHook</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>] &#123;</span><br><span class="line">        [<span class="string">"Field 1"</span>, <span class="string">"Field 2"</span>, <span class="string">"Field 3"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>: <span class="title">Module</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> name &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"example_form"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.exampleFormHook()</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">exampleFormHook</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>] &#123;</span><br><span class="line">        [<span class="string">"Field 4"</span>, <span class="string">"Field 5"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>: <span class="title">Module</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> name &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"example_form"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.exampleFormHook()</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">exampleFormHook</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>] &#123;</span><br><span class="line">        [<span class="string">"Field 6"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¨¡å—ç®¡ç†å™¨ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å—æ•°ç»„å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚ è¯¥ç®¡ç†å™¨å°†è´Ÿè´£åœ¨æ¯ä¸ªæ¨¡å—ä¸Šè°ƒç”¨æ­£ç¡®çš„è°ƒç”¨æ–¹æ³•ï¼Œå¹¶å°†ä»¥ç±»å‹å®‰å…¨çš„æ–¹å¼å¤„ç†è¿”å›çš„å“åº”ã€‚ æˆ‘ä»¬å°†ç«‹å³å®ç°ä¸¤ä¸ª <code>invoke</code> æ–¹æ³•ç‰ˆæœ¬ã€‚ ä¸€ä¸ªç”¨äºåˆå¹¶ç»“æœï¼Œå¦ä¸€ä¸ªç”¨äºè¿”å›æŒ‚é’©çš„ç¬¬ä¸€ä¸ªç»“æœã€‚</p><p><strong>ä½ å¯ä»¥å°è¯•å®ç°ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ <code>&amp;&amp;</code> è¿ç®—ç¬¦åˆå¹¶ <code>Bool</code> å€¼çš„ç‰ˆæœ¬ã€‚</strong></p><p>è¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨ä¸¤ç§é€šç”¨æ–¹æ³•çš„æ¨¡å—ç®¡ç†å™¨å®ç°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ModuleManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span>  modules: [<span class="type">Module</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invokeAllHooks</span>&lt;T&gt;<span class="params">(<span class="number">_</span> name: String, type: T.<span class="keyword">Type</span>, params: [String: <span class="keyword">Any</span>] = [:])</span></span> -&gt; [<span class="type">T</span>] &#123;</span><br><span class="line">        <span class="keyword">let</span> result = <span class="keyword">self</span>.modules.<span class="built_in">map</span> &#123; module <span class="keyword">in</span></span><br><span class="line">            module.invoke(name: name, params: params)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.compactMap &#123; $<span class="number">0</span> <span class="keyword">as</span>? [<span class="type">T</span>] &#125;.flatMap &#123; $<span class="number">0</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invokeHook</span>&lt;T&gt;<span class="params">(<span class="number">_</span> name: String, type: T.<span class="keyword">Type</span>, params: [String: <span class="keyword">Any</span>] = [:])</span></span> -&gt; <span class="type">T?</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> module <span class="keyword">in</span> <span class="keyword">self</span>.modules &#123;</span><br><span class="line">            <span class="keyword">let</span> result = module.invoke(name: name, params: params)</span><br><span class="line">            <span class="keyword">if</span> result != <span class="literal">nil</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> result <span class="keyword">as</span>? <span class="type">T</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯ä»¥ä½¿ç”¨ <code>invokeAllHooks</code> æ–¹æ³•å°†é€šç”¨ç±»å‹çš„æ•°ç»„åˆå¹¶åœ¨ä¸€èµ·ã€‚ è¿™æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸºç¡€é’©å­æ–¹æ³•æ”¶é›†ä»–æ‰€æœ‰è¡¨å•å­—æ®µçš„æ–¹æ³•ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> manager1 = <span class="type">ModuleManager</span>(modules: [<span class="type">A</span>(), <span class="type">B</span>(), <span class="type">C</span>()])</span><br><span class="line"><span class="keyword">let</span> form1 = manager1.invokeAllHooks(<span class="string">"example_form"</span>, type: <span class="type">String</span>.<span class="keyword">self</span>)</span><br><span class="line"><span class="built_in">print</span>(form1) <span class="comment">// 1, 2, 3, 4, 5, 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> manager2 = <span class="type">ModuleManager</span>(modules: [<span class="type">A</span>(), <span class="type">C</span>()])</span><br><span class="line"><span class="keyword">let</span> form2 = manager2.invokeAllHooks(<span class="string">"example_form"</span>, type: <span class="type">String</span>.<span class="keyword">self</span>)</span><br><span class="line"><span class="built_in">print</span>(form2) <span class="comment">// 1, 2, 3, 6</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨ <code>invokeHook</code> æ–¹æ³•ï¼Œä½ å¯ä»¥å®ç°ç±»ä¼¼çš„è¡Œä¸ºï¼Œä¾‹å¦‚è´£ä»»é“¾è®¾è®¡æ¨¡å¼ã€‚ å“åº”ç¨‹åºé“¾çš„å·¥ä½œæ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œ<code>Apple</code> å‡ ä¹åœ¨æ¯ä¸ªå¹³å°ä¸Šéƒ½ä½¿ç”¨å“åº”ç¨‹åºæ¥å¤„ç† <code>UI</code> äº‹ä»¶ã€‚ è®©æˆ‘é€šè¿‡æ›´æ–°æ¨¡å— <code>B</code> å‘ä½ å±•ç¤ºå®ƒçš„å·¥ä½œæ–¹å¼ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>: <span class="title">Module</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">invoke</span><span class="params">(name: String, params: [String: <span class="keyword">Any</span>])</span></span> -&gt; <span class="type">Any?</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> name &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"example_form"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.exampleFormHook()</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"example_responder"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.exampleResponderHook()</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">exampleFormHook</span><span class="params">()</span></span> -&gt; [<span class="type">String</span>] &#123;</span><br><span class="line">        [<span class="string">"Field 4"</span>, <span class="string">"Field 5"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">exampleResponderHook</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="string">"Hello, this is module B."</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬åœ¨ä¸¤ä¸ªç®¡ç†å™¨ä¸Šä½¿ç”¨ <code>invokeHook</code> æ–¹æ³•è§¦å‘æ–°çš„ <code>example_responder</code> æŒ‚é’©ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ç»“æœå®Œå…¨ä¸åŒã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> value = manager1.invokeHook(<span class="string">"example_responder"</span>, type: <span class="type">String</span>.<span class="keyword">self</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(value) <span class="comment">// Hello, this is module B.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> value = manager2.invokeHook(<span class="string">"example_responder"</span>, type: <span class="type">String</span>.<span class="keyword">self</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(value) <span class="comment">// this won't be called at all...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œç”±äºæˆ‘ä»¬åœ¨å…¶ä¸­ä¸€ä¸ªæ¨¡å—ä¸­ä¸ºæ­¤é’©å­å®ç°äº†ä¸€ä¸ªå®ç°ï¼Œå› æ­¤å°†æ˜¾ç¤ºè¿”å›å€¼ï¼Œå› æ­¤å¯ä»¥è¿›è¡Œæ‰“å°ã€‚ åœ¨ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæ²¡æœ‰æ¨¡å—å¯ä»¥å¤„ç†è¯¥äº‹ä»¶ï¼Œå› æ­¤ä¸ä¼šæ‰§è¡Œæ¡ä»¶å†…çš„å—ã€‚ å‘Šè¯‰ä½ ï¼Œå°±åƒä¸€ä¸ªå“åº”é“¾ã€‚ ğŸ˜œ</p></br><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨æ¨¡å—æˆ–æ’ä»¶æ˜¯å°†ä»£ç çš„æŸäº›éƒ¨åˆ†è§£è€¦çš„æœ‰æ•ˆæ–¹æ³•ã€‚ æˆ‘çœŸçš„å¾ˆå–œæ¬¢é’©å­å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ä¸ºåº”ç”¨ç¨‹åºä¸­çš„å‡ ä¹æ‰€æœ‰å†…å®¹æä¾›æ‰©å±•ç‚¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†å…¶ä¸åŠ¨æ€æ¨¡å—åŠ è½½å™¨æ··åˆä½¿ç”¨ï¼Œä½ å°†åœ¨ <code>Vapor</code> ä¹‹ä¸Šæ‹¥æœ‰ä¸€ä¸ªå®Œå…¨å¯æ‰©å±•çš„ä¸‹ä¸€ä»£åç«¯è§£å†³æ–¹æ¡ˆã€‚ ä½ å¯ä»¥ç‹¬ç«‹äºæ¨¡å—ä½¿ç”¨å·²ç¼–è¯‘çš„æ ¸å¿ƒç³»ç»Ÿï¼Œä»¥åå¯ä»¥ä»…å‡çº§æ•´ä¸ªç»„ä»¶çš„æŸäº›éƒ¨åˆ†è€Œæ— éœ€æ¥è§¦å…¶ä»–éƒ¨åˆ†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;äº†è§£å¦‚ä½•ä½¿ç”¨ä»¥ &lt;code&gt;Swift&lt;/code&gt; ç¼–å†™çš„æ¾è€¦åˆæ¨¡å—æ’ä»¶ç³»ç»Ÿé€šè¿‡æ–°åŠŸèƒ½æ‰©å±•åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;h1 id=&quot;æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ&quot;&gt;&lt;a href=&quot;#æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ&quot;&gt;&lt;/a&gt;&lt;strong&gt;æ¨¡å—ï¼ˆæ’ä»¶ï¼‰å¦‚ä½•å·¥ä½œï¼Ÿ&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœä½ å¯ä»¥åˆ›å»ºå¯ä»¥åœ¨ä¸çŸ¥å½¼æ­¤çš„æƒ…å†µä¸‹ä¸€èµ·å·¥ä½œçš„å¯¹è±¡ï¼Œé‚£ä¼šå¾ˆé…·å—ï¼Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨æ„å»ºä¸€ä¸ªåŠ¨æ€è¡¨å•ã€‚ æ ¹æ®ä¸€äº›å†…éƒ¨æ¡ä»¶ï¼Œå°†ä½¿ç”¨æ¥è‡ªå¯ç”¨æ¨¡å—çš„æ•°æ®æ¥æ„æˆå­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä¾‹å¦‚ï¼Œä½ æ‹¥æœ‰æ¨¡å— &lt;code&gt;A&lt;/code&gt; ï¼Œ&lt;code&gt;B&lt;/code&gt; ï¼Œ&lt;code&gt;C&lt;/code&gt; ï¼Œå…¶ä¸­ &lt;code&gt;A&lt;/code&gt; ä¸ºæ‚¨æä¾›å­—æ®µ &lt;code&gt;1ã€2ã€3&lt;/code&gt;ï¼Œ&lt;code&gt;B&lt;/code&gt; æ¨¡å—è´Ÿè´£å­—æ®µ4ã€5ï¼Œè€Œ &lt;code&gt;C&lt;/code&gt; æ˜¯å­—æ®µ6çš„æä¾›è€…ã€‚ç°åœ¨ï¼Œå¦‚æœæ‚¨å…³é—­ &lt;code&gt;B&lt;/code&gt;ï¼Œ æ‚¨åº”è¯¥åªèƒ½çœ‹åˆ°å­—æ®µ1ã€2ã€3å’Œ6ã€‚å¦‚æœå·²æ‰“å¼€æ‰€æœ‰å†…å®¹ï¼Œåˆ™åº”è¯¥çœ‹åˆ°ä»1åˆ°6çš„æ‰€æœ‰å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘ä»¬å¯ä»¥å°†å®Œå…¨ç›¸åŒçš„æ¨¡å¼åº”ç”¨äºè®¸å¤šäº‹ç‰©ã€‚ è¯•æƒ³ä¸€ä¸‹æœ€å¤§çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿä¹‹ä¸€ã€‚ &lt;code&gt;WordPress&lt;/code&gt; ä½¿ç”¨ &lt;a href=&quot;https://www.sitepoint.com/wordpress-hook-system/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;é’©å­(è‹±æ–‡ï¼šhooks)&lt;/code&gt;&lt;/a&gt; æ¥æ‰©å±•æ ¸å¿ƒåŠŸèƒ½ã€‚ è¿™äº›éƒ½æ˜¯åŸºäºæˆ‘ä¸Šé¢åˆšåˆšæåˆ°çš„æ¦‚å¿µã€‚ è¿™æ˜¯ &lt;a href=&quot;https://en.wikipedia.org/wiki/Event-driven_architecture&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;äº‹ä»¶é©±åŠ¨çš„ä½“ç³»ç»“æ„è®¾è®¡æ¨¡å¼(è‹±æ–‡ï¼šEvent-driven architecture)&lt;/code&gt;&lt;/a&gt; çš„ä¸€éƒ¨åˆ†ã€‚ ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; å®ç°ç±»ä¼¼çš„ä¸œè¥¿ï¼Ÿ ğŸ¤”&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="Modules And Hooks" scheme="http://www.xuebaonline.com/tags/Modules-And-Hooks/"/>
    
  </entry>
  
  <entry>
    <title>Swiftåˆå§‹åŒ–æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-26T08:53:01.000Z</published>
    <updated>2020-04-26T09:32:03.950Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€ç»ˆæŒ‡å—ï¼Œå¦‚ä½•åœ¨æŒ‡å®šçš„ï¼Œæ–¹ä¾¿çš„ï¼Œå¯ä½¿ç”¨çš„åˆå§‹åŒ–å·¥å…·ç­‰å¸®åŠ©ä¸‹åˆå§‹åŒ–ä½ çš„ <code>Swift</code> æ•°æ®ç±»å‹ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ"></a><strong>ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ</strong></h1><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID203" target="_blank" rel="noopener"><code>åˆå§‹åŒ–(è‹±æ–‡: Initialization)</code></a> æ˜¯å‡†å¤‡ä½¿ç”¨çš„ç±»ï¼Œç»“æ„æˆ–æšä¸¾å®ä¾‹çš„è¿‡ç¨‹ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¸ªè¿‡ç¨‹æ˜¯é€šè¿‡åˆå§‹åŒ–ç¨‹åºæ¥å¤„ç†çš„ï¼Œåˆå§‹åŒ–ç¨‹åºåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œé€šå¸¸ä¸ºå®ƒä»¬ä¿ç•™ <code>init</code> å…³é”®å­—-å› æ­¤æ‚¨ä¸å¿…ä½¿ç”¨ <code>func</code> å…³é”®å­—-é€šå¸¸æ‚¨ä¸ä¼šä»åˆå§‹åŒ–ç¨‹åºä¸­è¿”å›ä»»ä½•å€¼ ã€‚</p><a id="more"></a></br><h1 id="åˆå§‹åŒ–å±æ€§"><a href="#åˆå§‹åŒ–å±æ€§" class="headerlink" title="åˆå§‹åŒ–å±æ€§"></a><strong>åˆå§‹åŒ–å±æ€§</strong></h1><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç±»å’Œç»“æ„å¿…é¡»åœ¨åˆ›å»ºè¯¥ç±»æˆ–ç»“æ„çš„å®ä¾‹æ—¶å°†å…¶æ‰€æœ‰å­˜å‚¨çš„å±æ€§è®¾ç½®ä¸ºé€‚å½“çš„åˆå§‹å€¼ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆæƒ³è±¡ä¸€ä¸ªéå¸¸ç®€å•çš„ç»“æ„ï¼Œå®ƒåªæœ‰ä¸¤ä¸ªå±æ€§ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œä¸Šé¢çš„è§„åˆ™è¯´æˆ‘ä»¬å¿…é¡»åˆå§‹åŒ–æ‰€æœ‰å±æ€§ï¼Œå› æ­¤è®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºç¬¬ä¸€ä¸ª <code>init</code> æ–¹æ³•æ¥å®ç°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°±åƒå…¶ä»–æ‰€æœ‰ <code>Swift</code> å‡½æ•°ä¸€æ ·ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ç‚¹äº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·æ³¨æ„ï¼Œå¦‚æœå®ƒä»¬æ˜¯å˜é‡è€Œä¸æ˜¯å¸¸é‡ï¼Œåˆ™ä¸å¿…åˆå§‹åŒ–éšå¼è§£åŒ…çš„å¯é€‰å±æ€§å’Œå¯é€‰å±æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›¸åŒçš„é€»è¾‘é€‚ç”¨äºç±»ï¼Œä½ å¯ä»¥é€šè¿‡å°† <code>struct</code> å…³é”®å­—æ›´æ”¹ä¸º <code>class</code> æ¥å°è¯•ã€‚ ä½†æ˜¯ç»“æ„æ˜¯å€¼ç±»å‹ï¼Œç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œè¿™ç§å·®å¼‚å°†ä¸ºæˆ‘ä»¬æä¾›ä¸¤ç§ç±»å‹çš„ç‹¬ç‰¹åŠŸèƒ½ã€‚</p></br><h1 id="æˆå‘˜åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºç»“æ„ï¼‰"><a href="#æˆå‘˜åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºç»“æ„ï¼‰" class="headerlink" title="æˆå‘˜åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºç»“æ„ï¼‰"></a><strong>æˆå‘˜åˆå§‹åŒ–ï¼ˆä»…é€‚ç”¨äºç»“æ„ï¼‰</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³äº <code>struct</code> çš„å¥½å¤„æ˜¯ï¼Œå¦‚æœä½ ä¸æä¾›è‡ªå·±çš„ <code>init</code> æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘å™¨å°†å…è´¹ç”Ÿæˆä¸€ä¸ªé€æˆå‘˜çš„ <code>init</code> ã€‚ ä½†æ˜¯æœ‰å¾ˆå¤šé—®é¢˜ã€‚ ç”Ÿæˆçš„æ–¹æ³•å°†åŒ…å«é™¤å…·æœ‰é»˜è®¤å€¼çš„å¸¸é‡ä»¥å¤–çš„æ‰€æœ‰å±æ€§ï¼ˆä¹Ÿä¸ºå¯é€‰å±æ€§ï¼‰ï¼Œå¹¶ä¸”å®ƒå°†å…·æœ‰å†…éƒ¨è®¿é—®ç±»å‹ï¼Œå› æ­¤åœ¨å…¶ä»–æ¨¡å—ä¸­å°†ä¸å¯è§ã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä»»ä½•ç»“æ„çš„å­˜å‚¨å±æ€§éƒ½æ˜¯ç§æœ‰çš„ï¼Œåˆ™è¯¥ç»“æ„ç±»å‹çš„é»˜è®¤æˆå‘˜åˆå§‹åŒ–å™¨è¢«è§†ä¸ºç§æœ‰çš„ã€‚ åŒæ ·ï¼Œå¦‚æœç»“æ„çš„ä»»ä½•å­˜å‚¨å±æ€§æ˜¯æ–‡ä»¶ä¸“ç”¨çš„ï¼Œåˆ™åˆå§‹åŒ–ç¨‹åºæ˜¯æ–‡ä»¶ä¸“ç”¨çš„ã€‚ å¦åˆ™ï¼Œåˆå§‹åŒ–ç¨‹åºçš„è®¿é—®çº§åˆ«ä¸º <code>internal</code> ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> key: <span class="type">Int!</span></span><br><span class="line">    <span class="keyword">let</span> label: <span class="type">String?</span> = <span class="string">"zero"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, key: <span class="number">0</span>) <span class="comment">// provided by the memberwise init</span></span><br></pre></td></tr></table></figure></br><h1 id="åˆå§‹åŒ–å¤±è´¥"><a href="#åˆå§‹åŒ–å¤±è´¥" class="headerlink" title="åˆå§‹åŒ–å¤±è´¥"></a><strong>åˆå§‹åŒ–å¤±è´¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰æ—¶æƒ…å†µå¯èƒ½ä¼šå‡ºé”™ï¼Œå¹¶ä¸”ä½ ä¸æƒ³åˆ›å»ºåçš„æˆ–æ— æ•ˆçš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œä½ æƒ³ä»æœ‰æ•ˆç‚¹åˆ—è¡¨ä¸­è¿‡æ»¤æ‰ <code>origo</code> ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>?(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123; <span class="comment">// ? marks that this could fail</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>(x: <span class="number">0</span>, y: <span class="number">0</span>) <span class="comment">// nil</span></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="type">Point</span>(x: <span class="number">1</span>, y: <span class="number">1</span>) <span class="comment">// valid point</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥é€šè¿‡ <code>rawValues</code> åˆå§‹åŒ–ä» <code>RawRepresentable</code> åè®®ä¼ é€’çš„æšä¸¾ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤±è´¥çš„åˆå§‹åŒ–æ¨¡å¼ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> red</span><br><span class="line">    <span class="keyword">case</span> blue</span><br><span class="line">    <span class="keyword">case</span> yellow</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c1 = <span class="type">Color</span>(rawValue: <span class="string">"orange"</span>) <span class="comment">// nil, no such case</span></span><br><span class="line"><span class="keyword">let</span> c2 = <span class="type">Color</span>(rawValue: <span class="string">"red"</span>) <span class="comment">// .red</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>initï¼</code> è€Œä¸æ˜¯<code>init ?</code> ï¼Œè¿™å°†åˆ›å»ºå®ä¾‹çš„éšå¼å±•å¼€çš„å¯é€‰ç±»å‹ã€‚ è¯·æ³¨æ„ï¼Œç±»ä¹Ÿå¯ä»¥å…·æœ‰å¤±è´¥çš„åˆå§‹åŒ–å™¨ã€‚</p></br><h1 id="åˆå§‹åŒ–çº¯Swiftç±»"><a href="#åˆå§‹åŒ–çº¯Swiftç±»" class="headerlink" title="åˆå§‹åŒ–çº¯Swiftç±»"></a><strong>åˆå§‹åŒ–çº¯Swiftç±»</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ çŸ¥é“ç±»æ˜¯ <code>Swift</code> ç¼–ç¨‹è¯­è¨€ä¸­çš„æœ¬æœºç±»å‹ã€‚ ä½ ç”šè‡³ä¸å¿…å¯¼å…¥ <code>Foundation</code> æ¡†æ¶å³å¯åˆ›å»ºå…¨æ–°çš„ç±»ã€‚ è¿™æ˜¯ç”±çº¯ <code>Swift</code> ç±»è¡¨ç¤ºçš„å®Œå…¨ç›¸åŒçš„ <code>Point</code> å¯¹è±¡ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ¬¡æˆ‘ä»¬ä¸å¾—ä¸è‡ªå·±æä¾› <code>init</code> æ–¹æ³•ï¼Œå› ä¸ºç±»æ²¡æœ‰æˆå‘˜åˆå§‹åŒ–å™¨ã€‚ å®ƒä»¬æ˜¯å¼•ç”¨ç±»å‹å’Œç»§æ‰¿é€»è¾‘ï¼Œå› æ­¤ä¸ºå®ƒä»¬ç”Ÿæˆæˆå‘˜åˆå§‹åŒ–æ–¹æ³•ä¼šæ›´åŠ å¤æ‚ã€‚</p></br><h1 id="é»˜è®¤åˆå§‹åŒ–"><a href="#é»˜è®¤åˆå§‹åŒ–" class="headerlink" title="é»˜è®¤åˆå§‹åŒ–"></a><strong>é»˜è®¤åˆå§‹åŒ–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äº <code>Swift</code> ç±»ï¼Œå¦‚æœä¸ºæ‰€æœ‰å­˜å‚¨çš„å±æ€§æä¾›é»˜è®¤å€¼ï¼Œå³ä½¿æ˜¯å¯é€‰å±æ€§ï¼Œä¹Ÿå°†å…è´¹è·å¾—å†…éƒ¨é»˜è®¤åˆå§‹åŒ–ç¨‹åºã€‚ å®é™…ä¸Šï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span> = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>()</span><br></pre></td></tr></table></figure><p>æˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬éµå¾ªå‰é¢çš„ç¤ºä¾‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> key: <span class="type">Int!</span></span><br><span class="line">    <span class="keyword">let</span> label: <span class="type">String?</span> = <span class="string">"zero"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ„Ÿè§‰å¤ªä¸å¯¹äº†ã€‚ ä¸ºä»€ä¹ˆä¸€ä¸ªç‚¹å…·æœ‰é”®å’Œæ ‡ç­¾å±æ€§ï¼Ÿ æ‹¥æœ‰ä¸€ä¸ªå¯èƒ½å…·æœ‰é¢å¤–å±æ€§çš„å­å¯¹è±¡ä¼šå¾ˆå¥½ã€‚ ç°åœ¨è¯¥é€šè¿‡ç±»ç»§æ‰¿æ¥é‡æ„æ­¤ä»£ç äº†ã€‚</p></br><h1 id="æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹-Designated-initializer"><a href="#æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹-Designated-initializer" class="headerlink" title="æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹(Designated initializer)"></a><strong>æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹(Designated initializer)</strong></h1><blockquote><p><strong><em>æç¤ºï¼š</em></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://www.codingexplorer.com/designated-initializers-convenience-initializers-swift/" target="_blank" rel="noopener"><code>æŒ‡å®šçš„åˆå§‹åŒ–å™¨(Designated initializer)</code></a> æ˜¯ç±»çš„ä¸»è¦åˆå§‹åŒ–å™¨ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¢å¥è¯è¯´ï¼Œå®ƒæ²¡æœ‰ç”¨ä¾¿æ·å…³é”®å­—æ ‡è®°ã€‚ ä¸€ä¸ªç±»ä¹Ÿå¯ä»¥å…·æœ‰å¤šä¸ªæŒ‡å®šçš„åˆå§‹åŒ–å™¨ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„ <code>Point</code> ç±»ï¼Œå®ƒå°†æˆä¸º <code>NamedPoint</code> ç±»çš„è¶…ç±»ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123; <span class="comment">// this is the designated initializer</span></span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedPoint</span>: <span class="title">Point</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> label: <span class="type">String?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>, label: <span class="type">String?</span>) &#123; <span class="comment">// designated</span></span><br><span class="line">        <span class="keyword">self</span>.label = label</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(x: x, y: y)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(point: <span class="type">Point</span>, label: <span class="type">String?</span>) &#123; <span class="comment">// also designated</span></span><br><span class="line">        <span class="keyword">self</span>.label = label</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(x: point.x, y: point.y) <span class="comment">// delegating up</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">NamedPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>, label: <span class="string">"first"</span>)</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="type">NamedPoint</span>(point: <span class="type">Point</span>(x: <span class="number">1</span>, y: <span class="number">1</span>), label: <span class="string">"second"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹å¿…é¡»å§‹ç»ˆä»å…¶ç›´æ¥è¶…ç±»è°ƒç”¨æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹ï¼Œå› æ­¤ä½ å¿…é¡»å§”æ‰˜é“¾ã€‚ ä½†æ˜¯é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æŒ‰ç…§åˆå§‹åŒ–çš„ç¬¬ä¸€æ¡è§„åˆ™æ¥åˆå§‹åŒ–æ‰€æœ‰å±æ€§ã€‚ å› æ­¤ï¼Œè¿™æ„å‘³ç€ <code>Swift</code> è¯­è¨€å…·æœ‰ä¸¤ä¸ªé˜¶æ®µçš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚</p><p><strong><em>ä¸¤é˜¶æ®µåˆå§‹åŒ–</em></strong></p><ul><li>æ¯ä¸ªå­˜å‚¨çš„å±æ€§ç”±å¼•å…¥å®ƒçš„ç±»åˆ†é…ä¸€ä¸ªåˆå§‹å€¼ã€‚</li><li>æ¯ä¸ªç±»éƒ½æœ‰æœºä¼šè‡ªå®šä¹‰å…¶å­˜å‚¨çš„å±æ€§ã€‚</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œæ ¹æ®è¿™äº›è§„åˆ™ï¼Œé¦–å…ˆæˆ‘ä»¬å¿…é¡»åˆå§‹åŒ– <code>label</code> å±æ€§ï¼Œç„¶åè¿›è¡Œå§”æ‰˜ï¼Œç„¶åæ‰æœ‰æœºä¼šåšå…¶ä»–äº‹æƒ…ã€‚</p></br><h1 id="ä¾¿æ·åˆå§‹åŒ–"><a href="#ä¾¿æ·åˆå§‹åŒ–" class="headerlink" title="ä¾¿æ·åˆå§‹åŒ–"></a><strong>ä¾¿æ·åˆå§‹åŒ–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ƒä»¬æ˜¯ç”¨äºç®€åŒ–åˆå§‹åŒ–çš„åˆå§‹åŒ–ç¨‹åºã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œä¾‹å¦‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ä¸º <code>x</code> å’Œ <code>y</code> ç­‰äºæ•°å­—çš„ç‚¹è®¾ç½®ä¸€ä¸ªåˆå§‹åŒ–å™¨ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å°†éå¸¸æ–¹ä¾¿ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">convenience</span> <span class="keyword">init</span>(z: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(x: z, y: z) <span class="comment">// we're calling the designated init</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">Point</span>(z: <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾¿æ·åˆå§‹åŒ–ç¨‹åºå¿…é¡»è°ƒç”¨åŒä¸€ç±»ä¸­å¦ä¸€ä¸ª <code>&quot;convenience&quot;</code> åˆå§‹åŒ–ç¨‹åºï¼Œä½†æ˜¯æ‚¨ä¸å¿…å†™å‡ºå…³é”®å­—ï¼Œå®é™…ä¸Šï¼Œè¿™äº› <code>init</code> æ–¹æ³•ç•¥æœ‰ä¸åŒï¼Œä½ å¯ä»¥ä»ä¸€ä¸ªåˆ°å¦ä¸€ä¸ªè¿›è¡Œè°ƒå‡ºï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒçœ‹èµ·æ¥ä¸€æ ·çš„åŸå› ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(z: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(x: z, y: z)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="type">Point</span>(z: <span class="number">1</span>)</span><br></pre></td></tr></table></figure></br><h1 id="å¿…éœ€çš„åˆå§‹å€¼è®¾å®šé¡¹-Required-initializer"><a href="#å¿…éœ€çš„åˆå§‹å€¼è®¾å®šé¡¹-Required-initializer" class="headerlink" title="å¿…éœ€çš„åˆå§‹å€¼è®¾å®šé¡¹(Required initializer)"></a><strong>å¿…éœ€çš„åˆå§‹å€¼è®¾å®šé¡¹(Required initializer)</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ åœ¨ç±»ä¸­æ ‡è®°äº†ä¸€ä¸ªå¿…éœ€çš„åˆå§‹åŒ–å™¨ï¼Œåˆ™æ‰€æœ‰ç›´æ¥ç±»ï¼ˆå¿…é¡»åœ¨æ¯ä¸ªçº§åˆ«ä¸­éƒ½æ ‡è®°ä¸ºå¿…éœ€ï¼‰ä¹Ÿå¿…é¡»å®ç°è¯¥ç±»çš„å­ç±»ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedPoint</span>: <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> label: <span class="type">String?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.label = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(x: x, y: y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">NamedPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br></pre></td></tr></table></figure></br><h1 id="è¦†ç›–åˆå§‹åŒ–å™¨"><a href="#è¦†ç›–åˆå§‹åŒ–å™¨" class="headerlink" title="è¦†ç›–åˆå§‹åŒ–å™¨"></a><strong>è¦†ç›–åˆå§‹åŒ–å™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>Swift</code> ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šä¸ºå­ç±»ç»§æ‰¿åˆå§‹åŒ–å™¨ã€‚ å¦‚æœè¦ä¸ºçˆ¶ç±»å·²ç»å…·æœ‰çš„å­ç±»æä¾›ç›¸åŒçš„åˆå§‹åŒ–ç¨‹åºï¼Œåˆ™å¿…é¡»ä½¿ç”¨ <code>override</code> å…³é”®å­—ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> y: <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.x = x</span><br><span class="line">        <span class="keyword">self</span>.y = y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NamedPoint</span>: <span class="title">Point</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> label: <span class="type">String?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(x: <span class="type">Int</span>, y: <span class="type">Int</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.label = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(x: x, y: y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="type">NamedPoint</span>(x: <span class="number">1</span>, y: <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><strong><em>åˆå§‹åŒ–ç»§æ‰¿æœ‰ä¸¤ä¸ªè§„åˆ™ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªâ€¦</em></strong></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœä½ çš„å­ç±»æ²¡æœ‰å®šä¹‰ä»»ä½•æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹ï¼Œå®ƒå°†è‡ªåŠ¨ç»§æ‰¿å…¶æ‰€æœ‰è¶…ç±»æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹ã€‚</span><br><span class="line"></span><br><span class="line">***...è¿˜æœ‰ç¬¬äºŒä¸ªï¼š***</span><br><span class="line">&#96;&#96;&#96;æç¤º:&#96;&#96;&#96;\</span><br><span class="line">&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœä½ çš„å­ç±»æä¾›äº†å…¶æ‰€æœ‰è¶…ç±»æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹çš„å®ç°ï¼ˆé€šè¿‡æŒ‰è§„åˆ™1ç»§æ‰¿å®ƒä»¬ï¼Œæˆ–é€šè¿‡æä¾›è‡ªå®šä¹‰å®ç°ä½œä¸ºå…¶å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œåˆ™å®ƒä¼šè‡ªåŠ¨ç»§æ‰¿æ‰€æœ‰è¶…ç±»ä¾¿åˆ©çš„åˆå§‹å€¼è®¾å®šé¡¹ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;&#x2F;br&gt;</span><br><span class="line"></span><br><span class="line"># **å–æ¶ˆåˆå§‹åŒ–**</span><br><span class="line"></span><br><span class="line">&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨å–æ¶ˆåˆ†é…ç±»å®ä¾‹ä¹‹å‰ï¼Œå°†ç«‹å³è°ƒç”¨ååˆå§‹åŒ–ç¨‹åºã€‚</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å› æ­¤ï¼Œå¦‚æœä½ æƒ³åœ¨ç±»ç»ˆæ­¢æ—¶è¿›è¡Œä¸€äº›æ‰‹åŠ¨æ¸…ç†ï¼Œè¿™å°±æ˜¯ä½ è¦å¯»æ‰¾çš„æ–¹æ³•ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ ä¸å¿…æ‹…å¿ƒå†…å­˜ç®¡ç†ï¼Œå› ä¸º &#96;&#96;&#96;ARC&#96;&#96;&#96; ä¼šä¸ºä½ å®Œæˆã€‚</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96; Swift</span><br><span class="line">class Point &#123;</span><br><span class="line">   let x: Int</span><br><span class="line">   let y: Int</span><br><span class="line"></span><br><span class="line">   init(x: Int, y: Int) &#123;</span><br><span class="line">       self.x &#x3D; x</span><br><span class="line">       self.y &#x3D; y</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   deinit &#123;</span><br><span class="line">       print(&quot;Point is clenaed up.&quot;)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var p1: Point? &#x3D; Point(x: 1, y: 1)</span><br><span class="line">p1 &#x3D; nil &#x2F;&#x2F;deinit is being called </span><br></pre></td></tr></table></figure></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æœ€ç»ˆæŒ‡å—ï¼Œå¦‚ä½•åœ¨æŒ‡å®šçš„ï¼Œæ–¹ä¾¿çš„ï¼Œå¯ä½¿ç”¨çš„åˆå§‹åŒ–å·¥å…·ç­‰å¸®åŠ©ä¸‹åˆå§‹åŒ–ä½ çš„ &lt;code&gt;Swift&lt;/code&gt; æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ&quot;&gt;&lt;/a&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯åˆå§‹åŒ–ï¼Ÿ&lt;/strong&gt;&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;a href=&quot;https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID203&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;åˆå§‹åŒ–(è‹±æ–‡: Initialization)&lt;/code&gt;&lt;/a&gt; æ˜¯å‡†å¤‡ä½¿ç”¨çš„ç±»ï¼Œç»“æ„æˆ–æšä¸¾å®ä¾‹çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è¿™ä¸ªè¿‡ç¨‹æ˜¯é€šè¿‡åˆå§‹åŒ–ç¨‹åºæ¥å¤„ç†çš„ï¼Œåˆå§‹åŒ–ç¨‹åºåªæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œé€šå¸¸ä¸ºå®ƒä»¬ä¿ç•™ &lt;code&gt;init&lt;/code&gt; å…³é”®å­—-å› æ­¤æ‚¨ä¸å¿…ä½¿ç”¨ &lt;code&gt;func&lt;/code&gt; å…³é”®å­—-é€šå¸¸æ‚¨ä¸ä¼šä»åˆå§‹åŒ–ç¨‹åºä¸­è¿”å›ä»»ä½•å€¼ ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="åˆå§‹åŒ–æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå¸¦é—­åŒ…çš„æ‡’æƒ°åˆå§‹åŒ–</title>
    <link href="http://www.xuebaonline.com/Swift%E5%B8%A6%E9%97%AD%E5%8C%85%E7%9A%84%E6%87%92%E6%83%B0%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <id>http://www.xuebaonline.com/Swift%E5%B8%A6%E9%97%AD%E5%8C%85%E7%9A%84%E6%87%92%E6%83%B0%E5%88%9D%E5%A7%8B%E5%8C%96/</id>
    <published>2020-04-26T07:55:06.000Z</published>
    <updated>2020-04-26T08:46:52.783Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äº†è§£å¦‚ä½•åˆ›å»ºå…·æœ‰æ¨¡å—åŒ–å’Œå¯è¯»æ€§çš„å¯¹è±¡ã€‚</p><h1 id="ä½¿ç”¨åˆè¡·"><a href="#ä½¿ç”¨åˆè¡·" class="headerlink" title="ä½¿ç”¨åˆè¡·"></a><strong>ä½¿ç”¨åˆè¡·</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>iOS</code> ä¹‹æ—…çš„å¼€å§‹ï¼Œæˆ‘éµå¾ªäº† <code>YouTube</code> ä¸Šçš„æ•™ç¨‹ã€‚ æˆ‘çœ‹åˆ°ä¸€äº›ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„æ–¹æ³•æ¥åˆ›å»º <code>UI</code> å¯¹è±¡ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> makeBox: <span class="type">UIView</span> = &#123;</span><br><span class="line"> <span class="keyword">let</span> view = <span class="type">UIView</span>()</span><br><span class="line"> <span class="keyword">return</span> view</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½œä¸ºå­¦ä¹ è€…ï¼Œæˆ‘å¤åˆ¶äº†ç»ƒä¹ å¹¶ä½¿ç”¨äº†å®ƒã€‚ ä½†æ˜¯ï¼Œæœ‰ä¸€å¤©ï¼Œæœ‰äººé—®æˆ‘ï¼šâ€œä¸ºä»€ä¹ˆè¦æ·»åŠ  <code>{}</code> ï¼Œä¸ºä»€ä¹ˆ <code>ï¼ˆï¼‰</code> æœ«å°¾å­˜åœ¨ï¼Ÿ å®ƒæ˜¯è®¡ç®—å±æ€§å—ï¼Ÿâ€ æˆ‘æ— æ³•å›ç­”ã€‚</p><a id="more"></a></br><h1 id="å­¦ä¹ çš„ç›®æ ‡"><a href="#å­¦ä¹ çš„ç›®æ ‡" class="headerlink" title="å­¦ä¹ çš„ç›®æ ‡"></a><strong>å­¦ä¹ çš„ç›®æ ‡</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰ä¸‰ä¸ªç›®æ ‡ã€‚ é¦–å…ˆï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨ä¸Šè¿°éå¸¸è§„æ–¹å¼åˆå§‹åŒ–å¯¹è±¡ã€‚ å…¶æ¬¡ï¼Œäº†è§£ä½•æ—¶åœ¨ <code>Swift</code> ä¸­ä½¿ç”¨æƒ°æ€§ <code>var</code> ã€‚ æœ€åï¼Œå¦‚ä½•æœ€ç»ˆæ­£ç¡®ä½¿ç”¨å®ƒã€‚</p><h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a><strong><em>å…ˆå†³æ¡ä»¶</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†å……åˆ†ç†è§£æ–‡ç« ä¸­çš„å†…å®¹ï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨ç†Ÿæ‚‰ä»¥ä¸‹ä¸»é¢˜ã€‚</p><ul><li><a href="https://blog.bobthedeveloper.io/no-fear-closure-in-swift-3-with-bob-72a10577c564?gi=bfa929c89fa9" target="_blank" rel="noopener"><code>Closures</code></a></li><li><a href="https://blog.bobthedeveloper.io/swift-retention-cycle-in-closures-and-delegate-836c469ef128" target="_blank" rel="noopener"><code>Capture List and retention cycle [weak self]</code></a></li><li>Descent Object Oriented Programming</li></ul></br><h1 id="åˆ›å»ºUIç»„ä»¶"><a href="#åˆ›å»ºUIç»„ä»¶" class="headerlink" title="åˆ›å»ºUIç»„ä»¶"></a><strong>åˆ›å»ºUIç»„ä»¶</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æˆ‘è§£é‡Šä¸Šè¿°éå¸¸è§„æ–¹æ³•ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ä½ çš„è¿‡å»ã€‚ ä¸ºäº†åœ¨ <code>Swift</code> ä¸­åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œä½ å¯èƒ½å·²ç»åšäº†ç±»ä¼¼çš„äº‹æƒ…ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Determine Size</span></span><br><span class="line"><span class="keyword">let</span> buttonSize = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">100</span>, height: <span class="number">100</span>)</span><br><span class="line"><span class="comment">// Create Instance</span></span><br><span class="line"><span class="keyword">let</span> bobButton = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line">bobButton.backgroundColor = .black</span><br><span class="line">bobButton.titleLabel?.text = <span class="string">"Bob"</span></span><br><span class="line">bobButton.titleLabel?.textColor = .white</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾ä½ å¿…é¡»åˆ›å»ºå…¶ä»–ä¸‰ä¸ªæŒ‰é’®ï¼Œä½ å¯èƒ½å¿…é¡»å¤åˆ¶ä¸Šé¢çš„ä»£ç ï¼Œç„¶åå°†åç§°ä» <code>bobButton</code> æ›´æ”¹ä¸º <code>bobbyButton</code> ã€‚è¿™éå¸¸ç¹çã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// New Button</span></span><br><span class="line"><span class="keyword">let</span> bobbyButton = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line">bobbyButton.backgroundColor = .black</span><br><span class="line">bobbyButton.titleLabel?.text = <span class="string">"Bob"</span></span><br><span class="line">bobbyButton.titleLabel?.textColor = .white</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†ä½¿äº‹æƒ…å˜å¾—å®¹æ˜“ä¸€äº›ï¼Œä½ å¯ä»¥ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/xcode-edit-all.gif" alt="å¸¦é—­åŒ…çš„æ‡’æƒ°åˆå§‹åŒ–" title="è¿™ä¹Ÿé€‚ç”¨äºé”®ç›˜å¿«æ·é”®ï¼šctrl-cmd-e"></p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥ä½¿ç”¨å¿«æ·é”®ï¼šctrl-cmd-eï¼Œå®Œæˆä¸Šè¿°æ“ä½œã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ ä¸æƒ³é‡å¤è¿™æ ·åˆ›å»ºï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createButton</span><span class="params">(enterTitle: String)</span></span> -&gt; <span class="type">UIButton</span> &#123;</span><br><span class="line"> <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line"> button.backgroundColor = .black</span><br><span class="line"> button.titleLabel?.text = enterTitle</span><br><span class="line"> <span class="keyword">return</span> button</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createButton(enterTitle: <span class="string">"Yoyo"</span>) <span class="comment">//  ğŸ‘</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œåœ¨ <code>iOS</code> å¼€å‘ä¸­ï¼Œå¾ˆå°‘æœ‰è‡ªå®šä¹‰æŒ‰é’®çœ‹èµ·æ¥ç›¸ä¼¼çš„æƒ…å†µã€‚ å› æ­¤ï¼Œä¸€ä¸ªå‡½æ•°å¯èƒ½éœ€è¦æ›´å¤šçš„å‚æ•°ï¼ŒåŒ…æ‹¬èƒŒæ™¯é¢œè‰²ï¼Œæ ‡é¢˜ï¼Œè¾¹æ¡†åŠå¾„ï¼Œé˜´å½±ç­‰ã€‚ ä½ çš„åŠŸèƒ½å¯èƒ½æœ€ç»ˆçœ‹èµ·æ¥åƒï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createButton</span><span class="params">(title: String, borderWidth: Double, backgrounColor, ...)</span></span> -&gt; <span class="type">Button</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å³ä½¿ä½ å‘å‡½æ•°æ·»åŠ é»˜è®¤å‚æ•°ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿä¸æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚ å®ƒé™ä½äº†å¯è¯»æ€§ã€‚ å› æ­¤ï¼Œæœ€å¥½è¿˜æ˜¯ä¿ç•™ä¸Šé¢ä¹å‘³çš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä½¿å®ƒå‡å°‘ä¹å‘³å’Œæ›´æœ‰æ¡ç†ï¼Ÿ å½“ç„¶ã€‚ æˆ‘ä»¬å·²ç»è°ƒæŸ¥äº†ä½ çš„è¿‡å»â€”ç°åœ¨è¯¥åŠ ç´§æ­¥ä¼ï¼Œå±•æœ›ä½ çš„æœªæ¥ã€‚</p></br><h1 id="å¼•å…¥éå¸¸è§„æ–¹å¼"><a href="#å¼•å…¥éå¸¸è§„æ–¹å¼" class="headerlink" title="å¼•å…¥éå¸¸è§„æ–¹å¼"></a><strong>å¼•å…¥éå¸¸è§„æ–¹å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä»¥éå¸¸è§„çš„æ–¹å¼åˆ›å»ºUIç»„ä»¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆå›ç­”æœ€åˆé—®é¢˜: <code>{}</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå®ƒæ˜¯è®¡ç®—å±æ€§å—ï¼Ÿ</p><p><strong><em>ä¸ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå°é—­å—ã€‚</em></strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨é—­åŒ…åˆ›å»ºå¯¹è±¡ã€‚ æˆ‘ä»¬å°†è®¾è®¡ä¸€ä¸ªåä¸º <code>Human</code> çš„ç»“æ„ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"> <span class="keyword">init</span>() &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"Born 1996"</span>)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œè¿™å°±æ˜¯åˆ›å»ºå¸¦é—­åŒ…çš„å¯¹è±¡çš„æ–¹å¼ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> createBob = &#123; () -&gt; <span class="type">Human</span> <span class="keyword">in</span></span><br><span class="line"> <span class="keyword">let</span> human = <span class="type">Human</span>()</span><br><span class="line"> <span class="keyword">return</span> human</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> babyBob = createBob() <span class="comment">// "Born 1996"</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>ä»…è¯´æ˜ä¸€ä¸‹ï¼ŒcreateBob</code> æ˜¯ä¸€ä¸ªç±»å‹ä¸º <code>ï¼ˆï¼‰-&gt; Human</code> çš„é—­åŒ…ã€‚ æ‚¨å·²ç»é€šè¿‡è°ƒç”¨ <code>createBobï¼ˆï¼‰</code> åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>babyBob</code> çš„å®ä¾‹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œä½ å¿…é¡»åˆ›å»ºä¸¤ä¸ªå¸¸é‡ï¼š <code>createBob</code> å’Œ <code>babyBob</code> ã€‚ å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªè¯­å¥ä¸­åšæ‰€æœ‰äº‹æƒ…æ€ä¹ˆåŠï¼Ÿ </p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bobby = &#123; () -&gt; <span class="type">Human</span> <span class="keyword">in</span></span><br><span class="line"> <span class="keyword">let</span> human = <span class="type">Human</span>()</span><br><span class="line"> <span class="keyword">return</span> human</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œé—­åŒ…å—é€šè¿‡åœ¨æœ«å°¾æ·»åŠ  <code>ï¼ˆï¼‰</code> æ¥æ‰§è¡Œè‡ªèº«ï¼Œè€Œ <code>bobby</code> ç°åœ¨é™„åŠ äº†ä¸€ä¸ª <code>Human</code> å¯¹è±¡ã€‚ å¾ˆå¥½çš„ä¸œè¥¿ã€‚</p><p><strong><em>ä½ å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨é—­åŒ…å—åˆå§‹åŒ–å¯¹è±¡ã€‚</em></strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª <code>UI</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åº”è¯¥ä¸ä¸Šé¢çš„ç¤ºä¾‹ç›¸ä¼¼ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bobView = &#123; () -&gt; <span class="type">UIView</span> <span class="keyword">in</span></span><br><span class="line"> <span class="keyword">let</span> view = <span class="type">UIView</span>()</span><br><span class="line"> view.backgroundColor = .black</span><br><span class="line"> <span class="keyword">return</span> view</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤ªå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç¼©çŸ­å®ƒçš„æ—¶é—´ã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸éœ€è¦æŒ‡å®šå°é—­å—çš„ç±»å‹ã€‚ ç›¸åï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŒ‡å®šå®ä¾‹çš„ç±»å‹ï¼Œä¾‹å¦‚ <code>bobView</code> ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bobbyView: <span class="type">UIView</span> = &#123;</span><br><span class="line"> <span class="keyword">let</span> view = <span class="type">UIView</span>()</span><br><span class="line"> view.backgroundColor = .black</span><br><span class="line"> <span class="keyword">return</span> view</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Swift</code> èƒ½å¤ŸåŸºäºå…³é”®å­— <code>return</code> æ¨æ–­å‡ºé—­åŒ…å—æ˜¯ <code>ï¼ˆï¼‰-&gt; UIView</code> ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œçœ‹çœ‹ã€‚ ä¸Šé¢çš„ç¤ºä¾‹åº”è¯¥çœ‹èµ·æ¥ä¸æˆ‘æ‹…å¿ƒçš„â€œéå¸¸è§„æ–¹å¼â€ç›¸åŒã€‚</p></br><h1 id="é—­åŒ…åˆå§‹åŒ–çš„å¥½å¤„"><a href="#é—­åŒ…åˆå§‹åŒ–çš„å¥½å¤„" class="headerlink" title="é—­åŒ…åˆå§‹åŒ–çš„å¥½å¤„"></a><strong>é—­åŒ…åˆå§‹åŒ–çš„å¥½å¤„</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æˆ‘ä»¬è®¨è®ºäº†åˆ›å»ºå¯¹è±¡çš„ä¹å‘³ä»¥åŠä½¿ç”¨å‡½æ•°å¼•èµ·çš„é—®é¢˜ã€‚ åœ¨ä½ çš„è„‘æµ·ä¸­ï¼Œä½ è‚¯å®šåœ¨æƒ³ï¼šâ€œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥æ”¹ç”¨é—­åŒ…ï¼Ÿâ€</p><h2 id="å®¹æ˜“å¤åˆ¶"><a href="#å®¹æ˜“å¤åˆ¶" class="headerlink" title="å®¹æ˜“å¤åˆ¶"></a><strong><em>å®¹æ˜“å¤åˆ¶</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä¸å–œæ¬¢ä½¿ç”¨ <code>Storyboard</code> ï¼Œæˆ‘å–œæ¬¢å¤åˆ¶å’Œç²˜è´´ <code>UI</code> å¯¹è±¡ã€‚ å®é™…ä¸Šï¼Œæˆ‘çš„è®¡ç®—æœºä¸­æœ‰ä¸€ä¸ªâ€œåº“â€ã€‚ è®©æˆ‘ä»¬å‡è®¾åº“ä¸­æœ‰ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„æŒ‰é’®ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line"> <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line"> button.backgroundColor = .black</span><br><span class="line"> button.titleLabel?.text = <span class="string">"Button"</span></span><br><span class="line"> button.titleLabel?.textColor = .white</span><br><span class="line"> button.layer.cornerRadius = <span class="number">1</span></span><br><span class="line"> button.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line"><span class="keyword">return</span> button</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è¦åšçš„å°±æ˜¯å¤åˆ¶æ•´è¡Œï¼Œç„¶åå°† <code>myButton</code> çš„åç§°æ›´æ”¹ä¸º <code>newButton</code> ä»¥ä¾›ä½¿ç”¨ã€‚ å¦‚æœä¸ä½¿ç”¨é—­åŒ…æ–¹æ³•ï¼Œåˆ™å¯èƒ½ä¸å¾—ä¸å°† <code>button</code> çš„åç§°æ›´æ”¹ä¸º <code>newButton</code> 7â€“8æ¬¡ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„ <code>Xcode</code> å¿«æ·æ–¹å¼ï¼Œä½†ä¸ºä»€ä¹ˆä¸ä½¿å…¶æ›´ç®€å•ã€‚</p><h2 id="ä»£ç æ›´æ•´æ´"><a href="#ä»£ç æ›´æ•´æ´" class="headerlink" title="ä»£ç æ›´æ•´æ´"></a><strong><em>ä»£ç æ›´æ•´æ´</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºå°†å¯¹è±¡ç»„åˆåœ¨ä¸€èµ·ï¼Œçœ‹ä»£ç æ›´åŠ ç›´è§‚ã€‚ æ¯”è¾ƒä¸€ä¸‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Init with Closure</span></span><br><span class="line"><span class="keyword">let</span> leftCornerButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line"> <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line"> button.backgroundColor = .black</span><br><span class="line"> button.titleLabel?.text = <span class="string">"Button"</span></span><br><span class="line"> button.titleLabel?.textColor = .white</span><br><span class="line"> button.layer.cornerRadius = <span class="number">1</span></span><br><span class="line"> button.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line"><span class="keyword">return</span> button</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">let</span> rightCornerButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line"> <span class="keyword">let</span> button = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line"> button.backgroundColor = .black</span><br><span class="line"> button.titleLabel?.text = <span class="string">"Button"</span></span><br><span class="line"> button.titleLabel?.textColor = .white</span><br><span class="line"> button.layer.cornerRadius = <span class="number">1</span></span><br><span class="line"> button.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line"><span class="keyword">return</span> button</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p><em><code>æ¯”è¾ƒ</code></em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Init With Fingers</span></span><br><span class="line"><span class="keyword">let</span> leftCornerButton = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line">leftCornerButton.backgroundColor = .black</span><br><span class="line">leftCornerButton.titleLabel?.text = <span class="string">"Button"</span></span><br><span class="line">leftCornerButton.titleLabel?.textColor = .white</span><br><span class="line">leftCornerButton.layer.cornerRadius = <span class="number">1</span></span><br><span class="line">leftCornerButton.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> rightCornerButton = <span class="type">UIButton</span>(frame: buttonSize)</span><br><span class="line">rightCornerButton.backgroundColor = .black</span><br><span class="line">rightCornerButton.titleLabel?.text = <span class="string">"Button"</span></span><br><span class="line">rightCornerButton.titleLabel?.textColor = .white</span><br><span class="line">rightCornerButton.layer.cornerRadius = <span class="number">1</span></span><br><span class="line">rightCornerButton.layer.masksToBounds = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡ä½¿ç”¨é—­åŒ…åˆ›å»ºå¯¹è±¡è¦å¤šåŠ å‡ è¡Œï¼Œä½†æˆ‘æ„Ÿåˆ°æœ‰ç‚¹ä¸çŸ¥æ‰€æªï¼Œå› ä¸ºæˆ‘åªéœ€è¦å‘æŒ‰é’®æ·»åŠ å±æ€§ï¼Œè€Œä¸å¿…å‘ <code>rightCornerButton</code> æˆ– <code>leftCornerButton</code> æ·»åŠ å±æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…ä¸Šï¼Œå¦‚æœæŒ‰é’®çš„åç§°æ›´å…·æè¿°æ€§ï¼Œé‚£ä¹ˆåˆ›å»ºå¸¦æœ‰é—­åŒ…å—çš„å¯¹è±¡é€šå¸¸éœ€è¦è¾ƒå°‘çš„è¡Œã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å·²ç»å®ç°äº†ç¬¬ä¸€ä¸ªç›®æ ‡ã€‚ æ­å–œä½ </p><h2 id="å»¶è¿Ÿåˆå§‹åŒ–åº”ç”¨"><a href="#å»¶è¿Ÿåˆå§‹åŒ–åº”ç”¨" class="headerlink" title="å»¶è¿Ÿåˆå§‹åŒ–åº”ç”¨"></a><strong><em>å»¶è¿Ÿåˆå§‹åŒ–åº”ç”¨</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å·²ç»èµ°äº†å¾ˆé•¿ä¸€æ®µè·¯ã€‚ ç°åœ¨è¯¥å®ç°æœ¬æ•™ç¨‹çš„ç¬¬äºŒä¸ªç›®æ ‡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½åœ¨ä¸‹é¢çœ‹åˆ°äº†ç±»ä¼¼çš„å†…å®¹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntenseMathProblem</span> </span>&#123;</span><br><span class="line"> <span class="built_in">lazy</span> <span class="keyword">var</span> complexNumber: <span class="type">Int</span> = &#123;</span><br><span class="line">  <span class="comment">// imagine it requires a lot of CPU</span></span><br><span class="line">  <span class="number">1</span> * <span class="number">1</span></span><br><span class="line"> &#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ°æ€§å…è®¸æ‚¨æ‰§è¡Œçš„æ“ä½œæ˜¯ï¼Œä»…å½“ä½ å°è¯•è®¿é—® <code>complexNumber</code> å±æ€§æ—¶ï¼Œæ‰ä¼šè®¡ç®— <code>complexNumber</code> å±æ€§ã€‚ ä¾‹å¦‚:</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> problem = <span class="type">IntenseMathProblem</span></span><br><span class="line">problem()  <span class="comment">// No value for complexNumber</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“å‰ï¼Œ <code>complexNumber</code> æ²¡æœ‰å€¼ã€‚ ä½†æ˜¯ï¼Œä¸€æ—¦ä½ è®¿é—®è¯¥åª’ä½“èµ„æºï¼Œ</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">problem().complexNumber <span class="comment">// Now returns 1</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ°æ€§å˜é‡ç»å¸¸ç”¨äºå¯¹æ•°æ®åº“è¿›è¡Œæ’åºå¹¶ä»ä»»ä½•åç«¯æœåŠ¡ä¸­è·å–æ•°æ®ï¼Œå› ä¸ºä½ ç»å¯¹ä¸æƒ³åœ¨åˆ›å»ºå¯¹è±¡æ—¶å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œè®¡ç®—å’Œæ’åºã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…ä¸Šï¼Œä½ çš„æ‰‹æœºä¼šå´©æºƒï¼Œå› ä¸ºè¯¥ç‰©ä½“è¿‡å¤§ä¸”RAMæ— æ³•å¤„ç†ã€‚</p></br><h1 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a><strong>åº”ç”¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢åªæ˜¯ <code>lazy var</code> çš„ä¸€ä¸ªåº”ç”¨ã€‚</p><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a><strong><em>æ’åº</em></strong></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SortManager</span> </span>&#123;</span><br><span class="line"> <span class="built_in">lazy</span> <span class="keyword">var</span> sortNumberFromDatabase: [<span class="type">Int</span>] = &#123;</span><br><span class="line">  <span class="comment">// Sorting logic</span></span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"> &#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å›¾åƒå‹ç¼©"><a href="#å›¾åƒå‹ç¼©" class="headerlink" title="å›¾åƒå‹ç¼©"></a><strong><em>å›¾åƒå‹ç¼©</em></strong></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompressionManager</span> </span>&#123;</span><br><span class="line"> <span class="built_in">lazy</span> <span class="keyword">var</span> compressedImage: <span class="type">UIImage</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> image = <span class="type">UIImage</span>()</span><br><span class="line">  <span class="comment">// Compress the image</span></span><br><span class="line">  <span class="comment">// Logic</span></span><br><span class="line">  <span class="keyword">return</span> image</span><br><span class="line"> &#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><h1 id="æ‡’åŠ è½½è§„åˆ™"><a href="#æ‡’åŠ è½½è§„åˆ™" class="headerlink" title="æ‡’åŠ è½½è§„åˆ™"></a><strong>æ‡’åŠ è½½è§„åˆ™</strong></h1><ul><li>ä½ ä¸èƒ½å°†lazyä¸letä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ²¡æœ‰åˆå§‹å€¼ï¼Œå¹¶ä¸”åœ¨ä»¥åè®¿é—®å®ƒæ—¶æ‰å¯ä»¥è¾¾åˆ°ã€‚</li><li>ä½ ä¸èƒ½å°†å…¶ä¸è®¡ç®—å±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå½“ä½ ä¿®æ”¹ä¸æƒ°æ€§å±æ€§æœ‰å…³ç³»çš„ä»»ä½•å˜é‡æ—¶ï¼Œæ€»æ˜¯ä¼šé‡æ–°è®¡ç®—è®¡ç®—å±æ€§ï¼ˆéœ€è¦CPUï¼‰ã€‚</li><li>æƒ°æ€§ä»…å¯¹ç»“æ„æˆ–ç±»çš„æˆå‘˜æœ‰æ•ˆ</li></ul></br><h1 id="æ‡’åŠ è½½èƒ½æ•è·"><a href="#æ‡’åŠ è½½èƒ½æ•è·" class="headerlink" title="æ‡’åŠ è½½èƒ½æ•è·"></a><strong>æ‡’åŠ è½½èƒ½æ•è·</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œå¦‚æœä½ å·²é˜…è¯»ä¸Šä¸€ç¯‡æœ‰å…³<a href="https://blog.bobthedeveloper.io/swift-retention-cycle-in-closures-and-delegate-836c469ef128" target="_blank" rel="noopener"><code>â€œå°é—­å’Œå§”æ‰˜ä¸­çš„å¾ªç¯å¼•ç”¨â€</code></a>çš„æ–‡ç« ï¼Œæ‚¨å¯èƒ½ä¼šæ„Ÿåˆ°å¥‡æ€ªã€‚ è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ã€‚ åˆ›å»ºä¸€ä¸ªåä¸º <code>BobGreet</code> çš„ç±»ã€‚ å®ƒå…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šåç§°ä¸º <code>String</code> çš„åç§°å’Œé—®å€™è¯­ä¹Ÿä¸º <code>String</code> çš„é—®å€™è¯­ï¼Œä½†ä½¿ç”¨é—­åŒ…å—è¿›è¡Œäº†åˆå§‹åŒ–ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BobGreet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"Bob the Developer"</span></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> greeting: <span class="type">String</span> = &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello, \(self.name)"</span></span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">deinit</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"I'm gone, bruh ğŸ™†â€"</span>)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°é—­å—å¯èƒ½å¯¹ <code>BobGuest</code> å¼ºå¼•ç”¨ï¼Œä½†è®©æˆ‘ä»¬å°è¯•å–æ¶ˆåˆ†é…ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bobGreet: <span class="type">BobGreet?</span> = <span class="type">BobGreet</span>()</span><br><span class="line">bobGreet?.greeting</span><br><span class="line">bobGreet = <span class="literal">nil</span> <span class="comment">// I'm gone, bruh ğŸ™†â€</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ— éœ€æ‹…å¿ƒ <code>[unown self]</code> é—­åŒ…å—æ²¡æœ‰å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚ å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå®ƒåªæ˜¯åœ¨å°é—­å—å†…å¤åˆ¶è‡ªèº«ã€‚ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äº†è§£å¦‚ä½•åˆ›å»ºå…·æœ‰æ¨¡å—åŒ–å’Œå¯è¯»æ€§çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä½¿ç”¨åˆè¡·&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨åˆè¡·&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨åˆè¡·&quot;&gt;&lt;/a&gt;&lt;strong&gt;ä½¿ç”¨åˆè¡·&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ &lt;code&gt;iOS&lt;/code&gt; ä¹‹æ—…çš„å¼€å§‹ï¼Œæˆ‘éµå¾ªäº† &lt;code&gt;YouTube&lt;/code&gt; ä¸Šçš„æ•™ç¨‹ã€‚ æˆ‘çœ‹åˆ°ä¸€äº›ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„æ–¹æ³•æ¥åˆ›å»º &lt;code&gt;UI&lt;/code&gt; å¯¹è±¡ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; makeBox: &lt;span class=&quot;type&quot;&gt;UIView&lt;/span&gt; = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; view = &lt;span class=&quot;type&quot;&gt;UIView&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; view&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½œä¸ºå­¦ä¹ è€…ï¼Œæˆ‘å¤åˆ¶äº†ç»ƒä¹ å¹¶ä½¿ç”¨äº†å®ƒã€‚ ä½†æ˜¯ï¼Œæœ‰ä¸€å¤©ï¼Œæœ‰äººé—®æˆ‘ï¼šâ€œä¸ºä»€ä¹ˆè¦æ·»åŠ  &lt;code&gt;{}&lt;/code&gt; ï¼Œä¸ºä»€ä¹ˆ &lt;code&gt;ï¼ˆï¼‰&lt;/code&gt; æœ«å°¾å­˜åœ¨ï¼Ÿ å®ƒæ˜¯è®¡ç®—å±æ€§å—ï¼Ÿâ€ æˆ‘æ— æ³•å›ç­”ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="æ‡’åŠ è½½æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E6%87%92%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swift Lazyå±æ€§åˆå§‹åŒ–</title>
    <link href="http://www.xuebaonline.com/Swift%20Lazy%E5%B1%9E%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <id>http://www.xuebaonline.com/Swift%20Lazy%E5%B1%9E%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96/</id>
    <published>2020-04-26T07:37:12.000Z</published>
    <updated>2020-04-26T07:52:47.513Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨Swiftä¸­ä»€ä¹ˆæ˜¯æƒ°æ€§å­˜å‚¨å±æ€§ï¼Ÿ ä½ åº”è¯¥å¦‚ä½•ä»¥åŠä½•æ—¶ä½¿ç”¨å®ƒï¼Ÿ å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼Œéœ€è¦è®°ä½çš„ä¸€äº›å…³é”®ç‚¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆå›é¡¾ä¸€ä¸‹åœ¨ <code>Swift</code> ä¸­å£°æ˜å’Œåˆå§‹åŒ–å­˜å‚¨å±æ€§çš„æœ€å¸¸ç”¨æ–¹æ³•ï¼š</p><h1 id="ç›´æ¥åˆ†é…"><a href="#ç›´æ¥åˆ†é…" class="headerlink" title="ç›´æ¥åˆ†é…"></a><strong>ç›´æ¥åˆ†é…</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡ç›´æ¥åˆ†é…åˆå§‹å€¼æ¥å¯¹å¸¸é‡å’Œå˜é‡å­˜å‚¨çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–çš„æœ€ç®€å•å½¢å¼ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// constant</span></span><br><span class="line"><span class="keyword">let</span> fontSize: <span class="type">CGFloat</span> = <span class="number">24.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// variable</span></span><br><span class="line"><span class="keyword">var</span> spacing: <span class="type">CGFloat</span> = <span class="number">16.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Optional</span></span><br><span class="line"><span class="keyword">var</span> title: <span class="type">String?</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯é€‰å‚æ•°åˆå§‹åŒ–ä¸º <code>nil</code> ã€‚ æˆ‘å–œæ¬¢å°†æ’å®šçš„é­”æœ¯æ•°å­—ï¼ˆå¦‚ <code>fontSize</code> ï¼‰æ”¶é›†åˆ°ä¸€ä¸ªç»“æ„ä¸­ï¼Œä½¿å®ƒä»¬æˆä¸ºé™æ€çš„ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">struct</span> <span class="title">ViewMetrics</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> fontSize: <span class="type">CGFloat</span> = <span class="number">24.0</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">titleLabel.font = <span class="type">ViewMetrics</span>.fontSize</span><br></pre></td></tr></table></figure></br><h1 id="ä½¿ç”¨åˆå§‹åŒ–å™¨"><a href="#ä½¿ç”¨åˆå§‹åŒ–å™¨" class="headerlink" title="ä½¿ç”¨åˆå§‹åŒ–å™¨"></a><strong>ä½¿ç”¨åˆå§‹åŒ–å™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æ²¡æœ‰å°†åˆå§‹å€¼åˆ†é…ç»™å­˜å‚¨å±æ€§ä½œä¸ºå…¶å®šä¹‰çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™å¿…é¡»åœ¨åˆå§‹åŒ–ç¨‹åºä¸­è¿›è¡Œè®¾ç½®ã€‚ å¼•ç”¨ã€Š Swiftç¼–ç¨‹è¯­è¨€ã€‹æŒ‡å—ï¼š</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç±»å’Œç»“æ„å¿…é¡»åœ¨åˆ›å»ºè¯¥ç±»æˆ–ç»“æ„çš„å®ä¾‹æ—¶å°†å…¶æ‰€æœ‰å­˜å‚¨çš„å±æ€§è®¾ç½®ä¸ºé€‚å½“çš„åˆå§‹å€¼ã€‚ å­˜å‚¨çš„å±æ€§ä¸èƒ½å¤„äºä¸ç¡®å®šçŠ¶æ€ã€‚</p></blockquote><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> title: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(title: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.title = title</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“å±æ€§å§‹ç»ˆé‡‡ç”¨ç›¸åŒçš„åˆå§‹å€¼æ—¶ï¼Œæœ€å¥½åœ¨å£°æ˜å±æ€§æ—¶è¿›è¡Œè®¾ç½®ï¼Œè€Œä¸è¦åœ¨åˆå§‹åŒ–ç¨‹åºä¸­è¿›è¡Œè®¾ç½®ã€‚</p></br><h1 id="ä½¿ç”¨é—­åŒ…"><a href="#ä½¿ç”¨é—­åŒ…" class="headerlink" title="ä½¿ç”¨é—­åŒ…"></a><strong>ä½¿ç”¨é—­åŒ…</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“åˆå§‹å€¼éœ€è¦æ›´å¤šè®¾ç½®æ—¶ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ æˆ‘å‘ç°é—­åŒ…æ ·å¼æ¯”è®¸å¤šåˆå§‹åŒ–ç¨‹åºä»£ç æ›´å¯å–ï¼Œå› ä¸ºå®ƒä½¿è®¾ç½®æ¥è¿‘å±æ€§å£°æ˜ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> button: <span class="type">UIButton</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> button = <span class="type">UIButton</span>(type: .system)</span><br><span class="line">  button.titleLabel?.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="type">ViewMetrics</span>.fontSize)</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">return</span> button</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆå§‹åŒ–åŒ…å«å±æ€§çš„ç±»å‹æ—¶ï¼Œå°†è°ƒç”¨ä¸€æ¬¡é—­åŒ…ã€‚ é—­åŒ…çš„è¿”å›å€¼åˆ†é…ç»™è¯¥å±æ€§ã€‚ ä¸è¦å¿˜è®°å°¾éšï¼ˆï¼‰æ¥æ‰§è¡Œå…³é—­ã€‚</p></br><h1 id="æ‡’åŠ è½½æ–¹å¼"><a href="#æ‡’åŠ è½½æ–¹å¼" class="headerlink" title="æ‡’åŠ è½½æ–¹å¼"></a><strong>æ‡’åŠ è½½æ–¹å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“åˆå§‹å€¼åˆ›å»ºèµ·æ¥å¼€é”€ç›¸å¯¹è¾ƒå¤§æ—¶æ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨æƒ°æ€§åˆå§‹åŒ–ã€‚ ä»…åœ¨ç¡®å®šéœ€è¦æ—¶æ‰åˆ›å»ºå€¼ã€‚ å¦‚æœä½ æ˜¯ä» <code>Objective-C</code> è½¬åˆ° <code>Swift</code> çš„ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šç†Ÿæ‚‰ä½¿ç”¨ <code>getter</code> ä»…åœ¨é¦–æ¬¡ä½¿ç”¨å±æ€§æ—¶æ‰å¯¹å…¶è¿›è¡Œå»¶è¿Ÿåˆå§‹åŒ–çš„æŠ€æœ¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="type">NSNumberFormatter</span> *)decimalFormatter &#123;</span><br><span class="line">  <span class="keyword">if</span> (_decimalFormatter == <span class="literal">nil</span>) &#123;</span><br><span class="line">    _decimalFormatter = [[<span class="type">NSNumberFormatter</span> alloc] <span class="keyword">init</span>];</span><br><span class="line">    [_decimalFormatter setNumberStyle:<span class="type">NSNumberFormatterDecimalStyle</span>];        </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> _decimalFormatter;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£ä¹ˆ <code>Swift</code> ä¸­çš„æƒ°æ€§å±æ€§å‘¢ï¼Ÿ <code>Swift</code> å±æ€§æ²¡æœ‰åå¤‡å®ä¾‹å˜é‡ï¼ˆå¦‚ <code>_decimalFormatter</code> ï¼‰ã€‚ è¦åœ¨ <code>Swift</code> ä¸­å»¶è¿Ÿåˆå§‹åŒ–å±æ€§ï¼Œè¯·æ·»åŠ  <code>lazy</code> å…³é”®å­—ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> decimalFormatter: <span class="type">NumberFormatter</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> formatter = <span class="type">NumberFormatter</span>()</span><br><span class="line">  formatter.numberStyle = .decimal</span><br><span class="line">  <span class="keyword">return</span> formatter</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·æ³¨æ„ï¼Œæƒ°æ€§å±æ€§å§‹ç»ˆä¸º <code>var</code> ã€‚ å½“è®¿é—®å±æ€§æ—¶ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–å®Œæˆåè°ƒç”¨è¯¥é—­åŒ…ã€‚</p></br><h1 id="è®¿é—®å±æ€§"><a href="#è®¿é—®å±æ€§" class="headerlink" title="è®¿é—®å±æ€§"></a><strong>è®¿é—®å±æ€§</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ°æ€§å±æ€§åˆå§‹åŒ–çš„å¦ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯ï¼Œå½“åˆå§‹å€¼å–å†³äºåˆå§‹åŒ–å®ä¾‹çš„å±æ€§æˆ–æ–¹æ³•æ—¶ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨é—­åŒ…è®¾ç½®å¯¹è±¡ï¼Œæ­¤å †æ ˆè§†å›¾å¯ä»¥ä½œä¸º <code>let constant</code> å±æ€§ä½¿ç”¨ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> stackView: <span class="type">UIStackView</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> stackView = <span class="type">UIStackView</span>()</span><br><span class="line">  stackView.spacing = <span class="type">ViewMetrics</span>.spacing</span><br><span class="line">  <span class="keyword">return</span> stackView</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·è®°ä½ï¼Œåœ¨åˆå§‹åŒ–æœŸé—´è°ƒç”¨äº†é—­åŒ…ï¼Œå› æ­¤ä½ å°šä¸èƒ½ä½¿ç”¨ <code>self</code> æ¥è®¿é—®å®ä¾‹çš„ä»»ä½•å±æ€§æˆ–æ–¹æ³•ã€‚ å¦‚æœä½ éœ€è¦è®¿é—® <code>self</code> ï¼Œåˆ™å¿…é¡»å°† <code>let</code> æ›¿æ¢ä¸º <code>lazy var</code> ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> spacing: <span class="type">CGFloat</span> = <span class="number">16.0</span>  &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    stackView.spacing = spacing</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> stackView: <span class="type">UIStackView</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> stackView = <span class="type">UIStackView</span>()</span><br><span class="line">  stackView.spacing = spacing</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">return</span> stackView</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œåœ¨å¯¹è±¡åˆå§‹åŒ–ä¹‹åæ‰§è¡Œå…³é—­æ“ä½œï¼Œå› æ­¤ä½ å¯ä»¥é€šè¿‡ <code>self</code> å®Œå…¨è®¿é—®å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚ è¿™æ˜¯å£°æ˜è¯¸å¦‚ç”¨æˆ·ç•Œé¢ç»„ä»¶ä¹‹ç±»çš„ä¾¿æ·æ–¹å¼ã€‚ å°†ä»»ä½•å¸¸è§é…ç½®ç§»è‡³å•ç‹¬çš„æ–¹æ³•æˆ–ç±»æ‰©å±•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buttonFontSize: <span class="type">CGFloat</span> = <span class="number">18.0</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> redButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">UILabel</span>.colorButton(title: <span class="string">"Red"</span>, color: .red, fontSize: buttonFontSize)</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> blueButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">UILabel</span>.colorButton(title: <span class="string">"Blue"</span>, color: .blue, fontSize: buttonFontSize)</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></br><h1 id="è¦ç‚¹"><a href="#è¦ç‚¹" class="headerlink" title="è¦ç‚¹"></a><strong>è¦ç‚¹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éœ€è¦è®°ä½çš„ä¸€äº›å…³é”®ç‚¹å¹¶ä¸æ˜æ˜¾ï¼Œå¹¶ä¸”ç»å¸¸å¼•èµ·æ··ä¹±ï¼ˆè‡³å°‘å¯¹æˆ‘è€Œè¨€ï¼‰ï¼š</p><ul><li>å¼•ç”¨é—­åŒ…å†…çš„å…¶ä»–å®ä¾‹å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œæ— éœ€ç¼–å†™selfã€‚</li><li>é—­åŒ…ä¸ä¼šé€ƒé€¸ï¼Œå› æ­¤ä½ æ— éœ€ä½¿ç”¨ <code>weak self</code> é¿å…å½¢æˆå¾ªç¯å¼•ç”¨ã€‚</li><li>åˆå§‹åŒ–ä¹‹å‰ï¼Œå¦‚æœå±æ€§å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®ï¼Œè¯·å°å¿ƒã€‚ æ— æ³•ä¿è¯åªæœ‰åœ¨è®¾ç½®åˆå§‹å€¼ä¹‹å‰æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¯¥å±æ€§æ—¶æ‰å°†å…¶åˆå§‹åŒ–ä¸€æ¬¡ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨Swiftä¸­ä»€ä¹ˆæ˜¯æƒ°æ€§å­˜å‚¨å±æ€§ï¼Ÿ ä½ åº”è¯¥å¦‚ä½•ä»¥åŠä½•æ—¶ä½¿ç”¨å®ƒï¼Ÿ å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼Œéœ€è¦è®°ä½çš„ä¸€äº›å…³é”®ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é¦–å…ˆå›é¡¾ä¸€ä¸‹åœ¨ &lt;code&gt;Swift&lt;/code&gt; ä¸­å£°æ˜å’Œåˆå§‹åŒ–å­˜å‚¨å±æ€§çš„æœ€å¸¸ç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h1 id=&quot;ç›´æ¥åˆ†é…&quot;&gt;&lt;a href=&quot;#ç›´æ¥åˆ†é…&quot; class=&quot;headerlink&quot; title=&quot;ç›´æ¥åˆ†é…&quot;&gt;&lt;/a&gt;&lt;strong&gt;ç›´æ¥åˆ†é…&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡ç›´æ¥åˆ†é…åˆå§‹å€¼æ¥å¯¹å¸¸é‡å’Œå˜é‡å­˜å‚¨çš„å±æ€§è¿›è¡Œåˆå§‹åŒ–çš„æœ€ç®€å•å½¢å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// constant&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; fontSize: &lt;span class=&quot;type&quot;&gt;CGFloat&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;24.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// variable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; spacing: &lt;span class=&quot;type&quot;&gt;CGFloat&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;16.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Optional&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; title: &lt;span class=&quot;type&quot;&gt;String?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="æ‡’åŠ è½½æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E6%87%92%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¸­çš„æ‡’åŠ è½½æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E4%B8%AD%E7%9A%84%E6%87%92%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E4%B8%AD%E7%9A%84%E6%87%92%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-26T03:01:52.000Z</published>
    <updated>2020-04-26T08:48:54.614Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äº†è§£å¦‚ä½•åœ¨ <code>Swift</code> ä¸­ä½¿ç”¨æƒ°æ€§å±æ€§æ¥æé«˜æ€§èƒ½ï¼Œé¿å…ä½¿ç”¨å¯é€‰å‚æ•°æˆ–åªæ˜¯ä¸ºäº†ä½¿åˆå§‹åŒ–è¿‡ç¨‹æ›´åŠ ç®€æ´ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¨‹å¼è®¾è®¡ä¸­, æƒ°æ€§åˆå§‹æ˜¯ä¸€ç§æ‹–å»¶æˆ˜æœ¯ã€‚åœ¨ç¬¬ä¸€æ¬¡éœ€æ±‚å‡ºç°ä»¥å‰ï¼Œå…ˆå»¶è¿Ÿåˆ›å»ºç‰©ä»¶ã€è®¡ç®—å€¼æˆ–å…¶å®ƒæ˜‚è´µç¨‹åºã€‚è¿™é€šå¸¸æ˜¯ä»¥ä¸€ä¸ªæ——å·æ¥å®ç°ï¼Œç”¨æ——å·æ¥æ ‡ç¤ºæ˜¯å¦å®Œæˆå…¶ç¨‹å¼ã€‚æ¯æ¬¡è¯·æ±‚å¯¹è±¡æ—¶ï¼Œä¼šå…ˆæµ‹è¯•æ­¤æ——å·ã€‚å¦‚æœå·²å®Œæˆï¼Œç›´æ¥ä¼ å›ï¼Œå¦åˆ™å½“åœºæ‰§è¡Œã€‚<br>å¯¹äºæ­¤æƒ³æ³•æ›´ä¸€èˆ¬çš„è®ºè¿°ï¼Œå¯è§æƒ°æ€§æ±‚å€¼ã€‚å¯¹æŒ‡ä»¤å¼è¯­è¨€ï¼Œè¿™ä¸ªæ¨¡å¼å¯èƒ½æ½œè—ç€å±é™©ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨å…±äº«çŠ¶æ€çš„ç¨‹å¼ä¹ æƒ¯ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»¥è®¾è®¡æ¨¡å¼çš„è§‚ç‚¹æ¥è¯´ï¼Œæƒ°æ€§åˆå§‹é€šå¸¸ä¼šå’Œå·¥å‚æ–¹æ³•æ¨¡å¼åˆä½œï¼Œè¿™ç»“åˆäº†ä¸‰ç§æ„æƒ³ï¼š</p><ul><li>ä½¿ç”¨ä¸€ä¸ªå·¥å‚å»å¾—åˆ°ä¸€ä¸ªç±»åˆ«çš„å®ä¾‹ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ã€‚</li><li>å°†å®ä¾‹å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¦æ±‚ä¸€ä¸ªå®ä¾‹å´æœ‰ç›¸åŒå‚æ•°æ—¶ï¼Œå¯ä»¥å¾—åˆ°åŒä¸€ä¸ªå®ä¾‹ï¼ˆå¯å’Œå•ä¾‹æ¨¡å¼æ¥åšæ¯”è¾ƒï¼‰ã€‚</li><li>åœ¨ç¬¬ä¸€æ¬¡æ—¶ï¼Œä½¿ç”¨æƒ°æ€§åˆå§‹æ¥å®ä¾‹åŒ–ç‰©ä»¶ï¼ˆæƒ°æ€§åˆå§‹æ¨¡å¼ï¼‰ã€‚</li></ul><a id="more"></a></br><h1 id="æ‡’æƒ°çš„ç»ˆææŒ‡å—"><a href="#æ‡’æƒ°çš„ç»ˆææŒ‡å—" class="headerlink" title="æ‡’æƒ°çš„ç»ˆææŒ‡å—"></a><strong>æ‡’æƒ°çš„ç»ˆææŒ‡å—</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä»…åœ¨æŸä¸ªæ—¶é—´ç‚¹éœ€è¦æŸä¸ªå±æ€§ï¼Œåˆ™å¯ä»¥åœ¨å…¶å‰é¢åŠ ä¸Š <code>lazy</code> å…³é”®å­—ï¼Œä»¥ä¾¿åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­å°†å…¶ <code>â€œexcludedâ€</code> ï¼Œå¹¶ä¸”å°†æŒ‰éœ€åˆ†é…å…¶é»˜è®¤å€¼ã€‚ è¿™å¯¹äºåˆ›å»ºæˆæœ¬é«˜æ˜‚æˆ–éœ€è¦æ›´å¤šæ—¶é—´åˆ›å»ºçš„ç±»å‹å¾ˆæœ‰ç”¨ã€‚ è¿™æ˜¯ä¸€ä¸ªæ‡’æƒ°å…¬ä¸»çš„å°æ•…äº‹ã€‚ ğŸ‘¸ğŸ’¤</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SleepingBeauty</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"zzz...sleeping..."</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"sleeping beauty is ready!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Castle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> princess = <span class="type">SleepingBeauty</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"castle is ready!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a new castle..."</span>)</span><br><span class="line"><span class="keyword">let</span> castle = <span class="type">Castle</span>()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤ä»£ç æ®µçš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼Œä½†æ˜¯ä½ å¯ä»¥çœ‹åˆ°å…¬ä¸»ç¡äº†å¾ˆé•¿æ—¶é—´ï¼Œå¥¹ä¹Ÿâ€œå µä½äº†â€åŸå ¡ã€‚ ğŸ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a new castle...</span><br><span class="line">zzz...sleeping...</span><br><span class="line">sleeping beauty is ready!</span><br><span class="line">castle is ready!</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ  <code>lazy</code> å…³é”®å­—æ¥åŠ å¿«å¤„ç†é€Ÿåº¦ï¼Œå› æ­¤ä½ çš„è‹±é›„å°†æœ‰æ—¶é—´æ€æ­»é¾™ï¼Œæˆ‘ä»¬çš„å…¬ä¸»å¯ä»¥ç¡åœ¨å¥¹çš„åºŠä¸Šç›´åˆ°éœ€è¦å¥¹ä¸ºæ­¢ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SleepingBeauty</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"zzz...sleeping..."</span>)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"sleeping beauty is ready!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Castle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> princess = <span class="type">SleepingBeauty</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"castle is ready!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a new castle..."</span>)</span><br><span class="line"><span class="keyword">let</span> castle = <span class="type">Castle</span>()</span><br><span class="line">castle.princess</span><br></pre></td></tr></table></figure><p>å¥½å¤šäº†ï¼ ç°åœ¨åŸå ¡ç«‹å³ä¸ºæˆ˜æ–—åšå¥½äº†å‡†å¤‡ï¼Œå› æ­¤ç‹å­å¯ä»¥å”¤é†’ä»–æ‰€çˆ±çš„äººï¼Œå¹¶ä¸”â€¦â€¦ä»–ä»¬ä»æ­¤è¿‡ç€å¹¸ç¦çš„ç”Ÿæ´»ã€‚ æ•…äº‹ç»“å±€ã€‚ğŸ‘¸ â¤ï¸ ğŸ¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a new castle...</span><br><span class="line">castle is ready!</span><br><span class="line">zzz...sleeping...</span><br><span class="line">sleeping beauty is ready!</span><br></pre></td></tr></table></figure><p>å¸Œæœ›ä½ å–œæ¬¢ç«¥è¯æ•…äº‹ï¼Œä½†è®©æˆ‘ä»¬åšä¸€äº›çœŸæ­£çš„ç¼–ç å§ï¼ ğŸ¤“</p></br><h1 id="é¿å…æ‡’åŠ è½½å¯é€‰å±æ€§"><a href="#é¿å…æ‡’åŠ è½½å¯é€‰å±æ€§" class="headerlink" title="é¿å…æ‡’åŠ è½½å¯é€‰å±æ€§"></a><strong>é¿å…æ‡’åŠ è½½å¯é€‰å±æ€§</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½ åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­æ‰€çœ‹åˆ°çš„ï¼Œå¯ä»¥ä½¿ç”¨æƒ°æ€§å±æ€§æ¥æé«˜ <code>Swift</code> ä»£ç çš„æ€§èƒ½ã€‚ æ‚¨ä¹Ÿå¯ä»¥æ¶ˆé™¤å¯¹è±¡ä¸­çš„å¯é€‰é¡¹ã€‚ å¦‚æœä½ è¦å¤„ç† <code>UIView</code> æ´¾ç”Ÿç±»ï¼Œè¿™å°†å¾ˆæœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„è§†å›¾å±‚æ¬¡ç»“æ„éœ€è¦ <code>UILabel</code> ï¼Œåˆ™é€šå¸¸å¿…é¡»å°†è¯¥å±æ€§å£°æ˜ä¸ºå¯é€‰å±æ€§æˆ–éšå¼å±•å¼€çš„å¯é€‰å­˜å‚¨å±æ€§ã€‚ è®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨æƒ°æ€§å’Œæ¶ˆé™¤é‚ªæ¶çš„å¯é€‰è¦æ±‚çš„æ–¹å¼æ¥é‡æ–°åˆ¶ä½œæ­¤ç¤ºä¾‹ã€‚ ğŸ˜ˆ</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label: <span class="type">UILabel</span> = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.loadView()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(<span class="keyword">self</span>.label)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.label.textColor = .black</span><br><span class="line">        <span class="keyword">self</span>.label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">16</span>, weight: .bold)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ…å†µè¿˜ä¸é”™ï¼Œä½†æ˜¯æˆ‘ä»ç„¶æ›´å–œæ¬¢å°†æˆ‘çš„è§†å›¾å£°æ˜ä¸ºéšå¼å±•å¼€çš„å¯é€‰å¯¹è±¡ã€‚ ğŸ’€</p></br><h1 id="ä½¿ç”¨æ‡’åŠ è½½é—­åŒ…"><a href="#ä½¿ç”¨æ‡’åŠ è½½é—­åŒ…" class="headerlink" title="ä½¿ç”¨æ‡’åŠ è½½é—­åŒ…"></a>ä½¿ç”¨æ‡’åŠ è½½é—­åŒ…</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯ä»¥ä½¿ç”¨ <a href="http://www.xuebaonline.com/Swift%E5%B8%A6%E9%97%AD%E5%8C%85%E7%9A%84%E6%87%92%E6%83%B0%E5%88%9D%E5%A7%8B%E5%8C%96/"><code>æ‡’åŠ è½½é—­åŒ…(lazy closure)</code></a> å°†ä¸€äº›ä»£ç åŒ…è£…åœ¨å…¶ä¸­ã€‚ ä¸å­˜å‚¨çš„å±æ€§ç›¸æ¯”ï¼Œæ‡’æƒ°çš„ä¸»è¦ä¼˜ç‚¹æ˜¯ï¼Œåªæœ‰å¯¹è¯¥å˜é‡æ‰§è¡Œè¯»å–æ“ä½œæ—¶ï¼Œæ‰æ‰§è¡Œå—ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¸¸è§„å­˜å‚¨å±æ€§å¡«å…… <a href="http://www.xuebaonline.com/Swift%20Lazy%E5%B1%9E%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96/"><code>æƒ°æ€§å±æ€§(lazy property)</code></a> çš„å€¼ã€‚ è®©æˆ‘ä»¬åœ¨å®è·µä¸­çœ‹ä¸€ä¸‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label: <span class="type">UILabel</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">        label.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        label.textColor = .black</span><br><span class="line">        label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">16</span>, weight: .bold)</span><br><span class="line">        <span class="keyword">return</span> label</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æƒ³æ•´ç†ä¸€ä¸‹initæ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„åšæ³•ã€‚ ä½ å¯ä»¥å°†æ‰€æœ‰å¯¹è±¡è‡ªå®šä¹‰é€»è¾‘æ”¾åœ¨é—­åŒ…å†…ã€‚ é—­åŒ…åœ¨è¯»å–æ—¶è‡ªåŠ¨æ‰§è¡Œï¼ˆè‡ªæˆ‘æ‰§è¡Œçš„é—­åŒ…ï¼‰ï¼Œå› æ­¤å½“ä½ è°ƒç”¨self.labelæ—¶ï¼Œä½ çš„ä»£ç å—å°†è¢«æ‰§è¡Œå¹¶è´´ç´§ï¼šè§†å›¾å°†å‡†å¤‡å°±ç»ªã€‚</p><blockquote><p><strong><em>æç¤ºï¼š</em></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ ä¸èƒ½åœ¨å­˜å‚¨çš„å±æ€§ä¸­ä½¿ç”¨ <code>self</code> ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ <code>lazy closure</code> æ¥ä½¿ç”¨ <code>self</code> ã€‚ æ³¨æ„ï¼šå¦‚æœä½ ä¸æƒ³é€ æˆå¼•ç”¨å¾ªç¯å’Œå†…å­˜æ³„æ¼ï¼Œåˆ™åº”å§‹ç»ˆä½¿ç”¨ <code>[unown self]</code> ã€‚ â™»ï¸</p></blockquote></br><h1 id="ä½¿ç”¨å·¥å‚æ¨¡å¼è¿›è¡Œ-Lazy-initialization"><a href="#ä½¿ç”¨å·¥å‚æ¨¡å¼è¿›è¡Œ-Lazy-initialization" class="headerlink" title="ä½¿ç”¨å·¥å‚æ¨¡å¼è¿›è¡Œ Lazy initialization"></a><strong><em>ä½¿ç”¨å·¥å‚æ¨¡å¼è¿›è¡Œ Lazy initialization</em></strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å·²ç»æœ‰å‡ ç¯‡å…³äº <code>Swift</code> ä¸­ <a href="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><code>å·¥å‚è®¾è®¡æ¨¡å¼</code></a> çš„æ–‡ç« ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘åªæƒ³å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨å·¥å‚æ–¹æ³•å’Œç»“åˆäº† <code>lazy property</code> çš„é™æ€å·¥å‚ã€‚</p></br><h2 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a><strong><em>å·¥å‚æ–¹æ³•</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ ä¸å–œæ¬¢è‡ªåŠ¨æ‰§è¡Œçš„é—­åŒ…ï¼Œåˆ™å¯ä»¥å°†ä»£ç ç§»å‡ºå·¥å‚æ–¹æ³•ï¼Œå¹¶å°†å…¶ä¸æƒ°æ€§å˜é‡ä¸€èµ·ä½¿ç”¨ã€‚ åƒè¿™æ ·ç®€å•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label: <span class="type">UILabel</span> = <span class="keyword">self</span>.createCustomLabel()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">createCustomLabel</span><span class="params">()</span></span> -&gt; <span class="type">UILabel</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"called"</span>)</span><br><span class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">        label.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        label.textColor = .black</span><br><span class="line">        label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">16</span>, weight: .bold)</span><br><span class="line">        <span class="keyword">return</span> label</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œå·¥å‚æ–¹æ³•çš„å·¥ä½œæ–¹å¼ç±»ä¼¼äºä½ çš„æƒ°æ€§å±æ€§çš„ç§æœ‰åˆå§‹åŒ–ç¨‹åºã€‚ è®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼Œä»¥ä¾¿å¯ä»¥ç¨å¾®æé«˜å¯é‡ç”¨æ€§â€¦</p><h2 id="é™æ€å·¥å‚æ–¹å¼"><a href="#é™æ€å·¥å‚æ–¹å¼" class="headerlink" title="é™æ€å·¥å‚æ–¹å¼"></a><strong><em>é™æ€å·¥å‚æ–¹å¼</em></strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æƒ³åœ¨åº”ç”¨ç¨‹åºçš„å¤šä¸ªéƒ¨åˆ†ä¸­é‡å¤ä½¿ç”¨è¿™äº›åˆå§‹åŒ–ä»£ç ï¼Œåˆ™å°†å®ƒä»¬åˆå§‹åŒ–ä¸º <a href="http://www.xuebaonline.com/tags/%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/"><code>é™æ€å·¥å‚(static factory)</code></a> å¯èƒ½æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ ä¾‹å¦‚ï¼Œè¿™éå¸¸é€‚åˆåˆå§‹åŒ–è‡ªå®šä¹‰è§†å›¾ã€‚ å¦å¤–ï¼Œåˆ›å»ºè‡ªå®šä¹‰è§†å›¾å®é™…ä¸Šå¹¶ä¸æ˜¯è§†å›¾æ§åˆ¶å™¨ä»»åŠ¡ï¼Œå› æ­¤æœ¬ç¤ºä¾‹ä¸­çš„èŒè´£æ›´åŠ åˆ†ç¦»ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> label: <span class="type">UILabel</span> = <span class="type">UILabel</span>.createCustomLabel()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UILabel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">createCustomLabel</span><span class="params">()</span></span> -&gt; <span class="type">UILabel</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">        label.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        label.textColor = .black</span><br><span class="line">        label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">16</span>, weight: .bold)</span><br><span class="line">        <span class="keyword">return</span> label</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…è´¹è·å¾—ä½ å¯ä»¥äº«å—é™æ€å·¥å‚å±æ€§/æ–¹æ³•çš„ä¼˜ç‚¹ï¼Œä¾‹å¦‚ç¼“å­˜æˆ–è¿”å›ç‰¹å®šçš„å­ç±»å‹ã€‚ æŒºæ•´æ´çš„ï¼ ğŸ‘</p></br><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ°æ€§å˜é‡æ˜¯ä¼˜åŒ–ä»£ç çš„ä¸€ç§éå¸¸æ–¹ä¾¿çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä»¬åªèƒ½åœ¨ç»“æ„å’Œç±»ä¸Šä½¿ç”¨ã€‚ nä½ ä¸èƒ½å°†å®ƒä»¬ç”¨ä½œè®¡ç®—å±æ€§ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åœ¨ä½ æ¯æ¬¡å°è¯•è®¿é—®å®ƒä»¬æ—¶éƒ½ä¸ä¼šè¿”å›é—­åŒ…å—ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦ä¸€ä¸ªé‡è¦çš„äº‹æƒ…æ˜¯ï¼Œæƒ°æ€§å±æ€§ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤ä½ å¿…é¡»è°¨æ…ä½¿ç”¨å®ƒä»¬ã€‚ å¦å¤–ï¼Œä½ å¹¶ä¸æ€»æ˜¯å¸Œæœ›æ¶ˆé™¤éšå¼è§£åŒ…çš„å¯é€‰å€¼ï¼Œæœ‰æ—¶å€™å´©æºƒåªæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼ ğŸ›</p><blockquote><p><strong><em>æç¤ºï¼š</em></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ«å·æ‡’ï¼</p></blockquote><p>â€¦ä½†æ˜¯è¯·éšæ—¶ä½¿ç”¨æƒ°æ€§å±æ€§ï¼ ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äº†è§£å¦‚ä½•åœ¨ &lt;code&gt;Swift&lt;/code&gt; ä¸­ä½¿ç”¨æƒ°æ€§å±æ€§æ¥æé«˜æ€§èƒ½ï¼Œé¿å…ä½¿ç”¨å¯é€‰å‚æ•°æˆ–åªæ˜¯ä¸ºäº†ä½¿åˆå§‹åŒ–è¿‡ç¨‹æ›´åŠ ç®€æ´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ç¨‹å¼è®¾è®¡ä¸­, æƒ°æ€§åˆå§‹æ˜¯ä¸€ç§æ‹–å»¶æˆ˜æœ¯ã€‚åœ¨ç¬¬ä¸€æ¬¡éœ€æ±‚å‡ºç°ä»¥å‰ï¼Œå…ˆå»¶è¿Ÿåˆ›å»ºç‰©ä»¶ã€è®¡ç®—å€¼æˆ–å…¶å®ƒæ˜‚è´µç¨‹åºã€‚è¿™é€šå¸¸æ˜¯ä»¥ä¸€ä¸ªæ——å·æ¥å®ç°ï¼Œç”¨æ——å·æ¥æ ‡ç¤ºæ˜¯å¦å®Œæˆå…¶ç¨‹å¼ã€‚æ¯æ¬¡è¯·æ±‚å¯¹è±¡æ—¶ï¼Œä¼šå…ˆæµ‹è¯•æ­¤æ——å·ã€‚å¦‚æœå·²å®Œæˆï¼Œç›´æ¥ä¼ å›ï¼Œå¦åˆ™å½“åœºæ‰§è¡Œã€‚&lt;br&gt;å¯¹äºæ­¤æƒ³æ³•æ›´ä¸€èˆ¬çš„è®ºè¿°ï¼Œå¯è§æƒ°æ€§æ±‚å€¼ã€‚å¯¹æŒ‡ä»¤å¼è¯­è¨€ï¼Œè¿™ä¸ªæ¨¡å¼å¯èƒ½æ½œè—ç€å±é™©ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨å…±äº«çŠ¶æ€çš„ç¨‹å¼ä¹ æƒ¯ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä»¥è®¾è®¡æ¨¡å¼çš„è§‚ç‚¹æ¥è¯´ï¼Œæƒ°æ€§åˆå§‹é€šå¸¸ä¼šå’Œå·¥å‚æ–¹æ³•æ¨¡å¼åˆä½œï¼Œè¿™ç»“åˆäº†ä¸‰ç§æ„æƒ³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ä¸€ä¸ªå·¥å‚å»å¾—åˆ°ä¸€ä¸ªç±»åˆ«çš„å®ä¾‹ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å°†å®ä¾‹å­˜åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œæ‰€ä»¥ä¸‹æ¬¡è¦æ±‚ä¸€ä¸ªå®ä¾‹å´æœ‰ç›¸åŒå‚æ•°æ—¶ï¼Œå¯ä»¥å¾—åˆ°åŒä¸€ä¸ªå®ä¾‹ï¼ˆå¯å’Œå•ä¾‹æ¨¡å¼æ¥åšæ¯”è¾ƒï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç¬¬ä¸€æ¬¡æ—¶ï¼Œä½¿ç”¨æƒ°æ€§åˆå§‹æ¥å®ä¾‹åŒ–ç‰©ä»¶ï¼ˆæƒ°æ€§åˆå§‹æ¨¡å¼ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="æ‡’åŠ è½½æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E6%87%92%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå¯¹è±¡æ± è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%AF%B9%E8%B1%A1%E6%B1%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%AF%B9%E8%B1%A1%E6%B1%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-26T02:56:07.000Z</published>
    <updated>2020-04-26T03:01:11.220Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æœ¬å¿«é€Ÿæ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¹¶å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨ <code>Swift</code> ç¼–ç¨‹è¯­è¨€å®ç°å¯¹è±¡æ± è®¾è®¡æ¨¡å¼ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://zh.wikipedia.org/wiki/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="å¯¹è±¡æ± "><code>å¯¹è±¡æ± ï¼ˆè‹±è¯­ï¼šobject pool patternï¼‰</code></a>æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚ä¸€ä¸ªå¯¹è±¡æ± åŒ…å«ä¸€ç»„å·²ç»åˆå§‹åŒ–è¿‡ä¸”å¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ï¼Œè€Œå¯ä»¥åœ¨æœ‰éœ€æ±‚æ—¶åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚æ± çš„ç”¨æˆ·å¯ä»¥ä»æ± å­ä¸­å–å¾—å¯¹è±¡ï¼Œå¯¹å…¶è¿›è¡Œæ“ä½œå¤„ç†ï¼Œå¹¶åœ¨ä¸éœ€è¦æ—¶å½’è¿˜ç»™æ± å­è€Œéç›´æ¥é”€æ¯å®ƒã€‚è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å·¥å‚å¯¹è±¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‹¥åˆå§‹åŒ–ã€å®ä¾‹åŒ–çš„ä»£ä»·é«˜ï¼Œä¸”æœ‰éœ€æ±‚éœ€è¦ç»å¸¸å®ä¾‹åŒ–ï¼Œä½†æ¯æ¬¡å®ä¾‹åŒ–çš„æ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¯¹è±¡æ± å¯ä»¥è·å¾—æ˜¾è‘—çš„æ•ˆèƒ½æå‡ã€‚ä»æ± å­ä¸­å–å¾—å¯¹è±¡çš„æ—¶é—´æ˜¯å¯é¢„æµ‹çš„ï¼Œä½†æ–°å»ºä¸€ä¸ªå®ä¾‹æ‰€éœ€çš„æ—¶é—´æ˜¯ä¸ç¡®å®šã€‚</p><a id="more"></a></br><h1 id="Swift-ä¸­çš„é€šç”¨å¯¹è±¡æ± "><a href="#Swift-ä¸­çš„é€šç”¨å¯¹è±¡æ± " class="headerlink" title="Swift ä¸­çš„é€šç”¨å¯¹è±¡æ± "></a><strong>Swift ä¸­çš„é€šç”¨å¯¹è±¡æ± </strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹è±¡æ± æ¨¡å¼æ˜¯ä¸€ç§åˆ›æ–°çš„è®¾è®¡æ¨¡å¼ã€‚å…¶èƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯ï¼Œé¦–å…ˆåˆ›å»ºä¸€ç»„å¯¹è±¡ï¼ˆä¸€ä¸ªæ± ï¼‰ï¼Œç„¶åä»è¯¥æ± ä¸­è·å–å’Œé‡Šæ”¾å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸æ–­åˆ›å»ºå’Œé‡Šæ”¾å®ƒä»¬ã€‚ ğŸ‘</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºä»€ä¹ˆï¼Ÿæ€§èƒ½æ”¹è¿›ã€‚ä¾‹å¦‚ï¼Œ <code>Dispatch</code> æ¡†æ¶ä½¿ç”¨å¯¹è±¡æ± æ¨¡å¼ä¸ºå¼€å‘äººå‘˜æä¾›é¢„å…ˆåˆ›å»ºçš„é˜Ÿåˆ—ï¼Œå› ä¸ºåˆ›å»ºé˜Ÿåˆ—ï¼ˆå¸¦æœ‰å…³è”çº¿ç¨‹ï¼‰æ˜¯ç›¸å¯¹æ˜‚è´µçš„æ“ä½œã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹è±¡æ± æ¨¡å¼çš„å¦ä¸€ä¸ªç”¨ä¾‹æ˜¯ <code>worker</code> ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¿…é¡»ä»Webä¸Šä¸‹è½½æ•°ç™¾ä¸ªå›¾åƒï¼Œä½†æ˜¯æ‚¨åªæƒ³åŒæ—¶ä¸‹è½½5ä¸ªå›¾åƒï¼Œåˆ™å¯ä»¥ä½¿ç”¨5ä¸ªå·¥ä½œå¯¹è±¡æ± æ¥å®Œæˆã€‚åˆ†é…å°‘é‡çš„å·¥ä½œç¨‹åºï¼ˆå®é™…ä¸Šå°†å®Œæˆä¸‹è½½ä»»åŠ¡ï¼‰å¯èƒ½è¦æ¯”ä¸ºæ¯ä¸ªå›¾åƒä¸‹è½½è¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œç¨‹åºä¾¿å®œå¾—å¤šã€‚ ğŸ–¼</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£ä¹ˆè¿™ç§æ¨¡å¼çš„ç¼ºç‚¹å‘¢ï¼Ÿæœ‰ä¸€äº›ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ± ä¸­æœ‰å·¥ä½œç¨‹åºï¼Œåˆ™å®ƒä»¬å¯èƒ½åŒ…å«çŠ¶æ€æˆ–æ•æ„Ÿçš„ç”¨æˆ·æ•°æ®ã€‚ä½ ä¹Ÿå¿…é¡»éå¸¸å°å¿ƒã€‚é‡è®¾æ‰€æœ‰å†…å®¹ã€‚åŒæ ·ï¼Œå¦‚æœä½ åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¿è¡Œï¼Œåˆ™è¿˜å¿…é¡»ä½¿æ± æˆä¸ºçº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é€šç”¨çº¿ç¨‹å®‰å…¨å¯¹è±¡æ± ç±»ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pool</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> lockQueue = <span class="type">DispatchQueue</span>(label: <span class="string">"pool.lock.queue"</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> semaphore: <span class="type">DispatchSemaphore</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> items = [<span class="type">T</span>]()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> items: [<span class="type">T</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.semaphore = <span class="type">DispatchSemaphore</span>(value: items.<span class="built_in">count</span>)</span><br><span class="line">        <span class="keyword">self</span>.items.reserveCapacity(items.<span class="built_in">count</span>)</span><br><span class="line">        <span class="keyword">self</span>.items.append(contentsOf: items)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">acquire</span><span class="params">()</span></span> -&gt; <span class="type">T?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.semaphore.wait(timeout: .distantFuture) == .success, !<span class="keyword">self</span>.items.isEmpty &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.lockQueue.sync &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">self</span>.items.remove(at: <span class="number">0</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">release</span><span class="params">(<span class="number">_</span> item: T)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.lockQueue.sync &#123;</span><br><span class="line">            <span class="keyword">self</span>.items.append(item)</span><br><span class="line">            <span class="keyword">self</span>.semaphore.signal()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> pool = <span class="type">Pool</span>&lt;<span class="type">String</span>&gt;([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = pool.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"\(a ?? "</span>n/a<span class="string">") acquired"</span>)</span><br><span class="line"><span class="keyword">let</span> b = pool.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"\(b ?? "</span>n/a<span class="string">") acquired"</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = pool.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"\(c ?? "</span>n/a<span class="string">") acquired"</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">DispatchQueue</span>.global(qos: .<span class="keyword">default</span>).asyncAfter(deadline: .now() + .seconds(<span class="number">2</span>)) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> item = b &#123;</span><br><span class="line">        pool.release(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"No more resource in the pool, blocking thread until..."</span>)</span><br><span class="line"><span class="keyword">let</span> x = pool.acquire()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"\(x ?? "</span>n/a<span class="string">") acquired again"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¤ºä¾‹ä¸­ï¼Œå®ç°ä»…å‡ è¡Œã€‚ ä½ å…·æœ‰é€šç”¨æ± é¡¹çš„çº¿ç¨‹å®‰å…¨æ•°ç»„ï¼Œä¸€ä¸ªè°ƒåº¦ä¿¡å·é‡ï¼ˆå¦‚æœæ± ä¸­æ²¡æœ‰å¯ç”¨å¯¹è±¡å°†é˜»å¡è¯¥ä¿¡å·é‡ï¼‰ä»¥åŠä¸¤ä¸ªæ–¹æ³•ä»¥å®é™…ä½¿ç”¨å¯¹è±¡æ± ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¤ºä¾‹ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ± ä¸­æ²¡æœ‰å‰©ä½™çš„å¯¹è±¡ï¼Œåˆ™å½“å‰é˜Ÿåˆ—å°†è¢«é˜»å¡ï¼Œç›´åˆ°èµ„æºè¢«é‡Šæ”¾å¹¶å¯ä»¥ä½¿ç”¨ä¸ºæ­¢ã€‚ æ‰€ä»¥è¦å½“å¿ƒï¼Œä¸è¦æ„å¤–é˜»å¡ä¸»çº¿ç¨‹ï¼ ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨æœ¬å¿«é€Ÿæ•™ç¨‹ä¸­ï¼Œæˆ‘å°†è§£é‡Šå¹¶å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; ç¼–ç¨‹è¯­è¨€å®ç°å¯¹è±¡æ± è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;å¯¹è±¡æ± &quot;&gt;&lt;code&gt;å¯¹è±¡æ± ï¼ˆè‹±è¯­ï¼šobject pool patternï¼‰&lt;/code&gt;&lt;/a&gt;æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚ä¸€ä¸ªå¯¹è±¡æ± åŒ…å«ä¸€ç»„å·²ç»åˆå§‹åŒ–è¿‡ä¸”å¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ï¼Œè€Œå¯ä»¥åœ¨æœ‰éœ€æ±‚æ—¶åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ã€‚æ± çš„ç”¨æˆ·å¯ä»¥ä»æ± å­ä¸­å–å¾—å¯¹è±¡ï¼Œå¯¹å…¶è¿›è¡Œæ“ä½œå¤„ç†ï¼Œå¹¶åœ¨ä¸éœ€è¦æ—¶å½’è¿˜ç»™æ± å­è€Œéç›´æ¥é”€æ¯å®ƒã€‚è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å·¥å‚å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è‹¥åˆå§‹åŒ–ã€å®ä¾‹åŒ–çš„ä»£ä»·é«˜ï¼Œä¸”æœ‰éœ€æ±‚éœ€è¦ç»å¸¸å®ä¾‹åŒ–ï¼Œä½†æ¯æ¬¡å®ä¾‹åŒ–çš„æ•°é‡è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¯¹è±¡æ± å¯ä»¥è·å¾—æ˜¾è‘—çš„æ•ˆèƒ½æå‡ã€‚ä»æ± å­ä¸­å–å¾—å¯¹è±¡çš„æ—¶é—´æ˜¯å¯é¢„æµ‹çš„ï¼Œä½†æ–°å»ºä¸€ä¸ªå®ä¾‹æ‰€éœ€çš„æ—¶é—´æ˜¯ä¸ç¡®å®šã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å¯¹è±¡æ± è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå¤–è§‚è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%A4%96%E8%A7%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%A4%96%E8%A7%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-26T02:30:49.000Z</published>
    <updated>2020-04-26T02:51:38.845Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤–è§‚è®¾è®¡æ¨¡å¼æ˜¯å¤æ‚å­ç³»ç»Ÿä¸Šçš„ç®€åŒ–ç•Œé¢ã€‚ å±•ç¤ºä¸€ä¸ªä½¿ç”¨ <code>Swift</code> çš„å¿«é€Ÿå®ä¾‹ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E8%A7%80%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="å¤–è§‚æ¨¡å¼"><code>å¤–è§‚æ¨¡å¼ï¼ˆFacade patternï¼‰</code></a> ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­å¸¸ç”¨çš„ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¥å£ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚</p><a id="more"></a><p><img src="http://q8wtfza4q.bkt.clouddn.com/fp-stp1.png" alt="å¤–è§‚è®¾è®¡æ¨¡å¼"></p><ul><li><p>ç»“æ„</p><ul><li><p>Facade</p><p>  è¿™ä¸ªå¤–è§‚ç±»ä¸ºå­ç³»ç»Ÿä¸­Packages 1ã€2ã€3æä¾›ä¸€ä¸ªå…±åŒçš„å¯¹å¤–æ¥å£</p></li><li><p>Clients</p><p>  å®¢æˆ·å¯¹è±¡é€šè¿‡ä¸€ä¸ªå¤–è§‚æ¥å£è¯»å†™å­ç³»ç»Ÿä¸­å„æ¥å£çš„æ•°æ®èµ„æºã€‚</p></li><li><p>Packages</p><p>  å®¢æˆ·å¯ä»¥é€šè¿‡å¤–è§‚æ¥å£è¯»å–çš„å†…éƒ¨åº“ã€‚</p></li></ul></li></ul></br><h1 id="ä»€ä¹ˆæ˜¯å¤–è§‚è®¾è®¡æ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯å¤–è§‚è®¾è®¡æ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯å¤–è§‚è®¾è®¡æ¨¡å¼"></a><strong>ä»€ä¹ˆæ˜¯å¤–è§‚è®¾è®¡æ¨¡å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤–è§‚è®¾è®¡æ¨¡å¼åå­—çš„ç”±æ¥æ˜¯æºäºå»ºç­‘ç»“æ„çš„æœ¯è¯­ã€‚</p><blockquote><p>one exterior side of a building, usually the front</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæ­¤å®šä¹‰å¯ä»¥è½¬æ¢ä¸ºå¤–éƒ¨æ‰€æœ‰å†…å®¹ï¼Œéšè—æ‰€æœ‰å†…éƒ¨éƒ¨åˆ†ã€‚ å› æ­¤ï¼Œå¤–è§‚çš„ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸€äº›æ›´å¤æ‚çš„ä¸‘é™‹å¤–è§‚ä¸Šæä¾›æ¼‚äº®çš„APIã€‚ ğŸ˜…</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸ï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªå•ç‹¬çš„å­ç³»ç»Ÿéœ€è¦ä¸€èµ·å·¥ä½œä»¥å®ŒæˆæŸç§ä»»åŠ¡ï¼Œåˆ™å¤–è§‚è®¾è®¡æ¨¡å¼ä¼šå¾ˆæ–¹ä¾¿ã€‚ å®ƒå¯ä»¥éšè—åº•å±‚çš„å¤æ‚æ€§ï¼Œå†åŠ ä¸Šå¦‚æœéšè—æ–¹æ³•å†…éƒ¨å‘ç”Ÿä»»ä½•æ›´æ”¹ï¼Œåˆ™å¤–è§‚çš„ç•Œé¢ä»ç„¶å¯ä»¥ä¿æŒä¸å˜ã€‚ ğŸ‘</p></br><h1 id="å¤–è§‚è®¾è®¡æ¨¡å¼å®ä¾‹"><a href="#å¤–è§‚è®¾è®¡æ¨¡å¼å®ä¾‹" class="headerlink" title="å¤–è§‚è®¾è®¡æ¨¡å¼å®ä¾‹"></a><strong>å¤–è§‚è®¾è®¡æ¨¡å¼å®ä¾‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸ªå¸¦æœ‰åˆ‡æ¢æŒ‰é’®çš„åº”ç”¨ç¨‹åºï¼Œè¯¥æŒ‰é’®å¯ä»¥æ‰“å¼€æˆ–å…³é—­ç‰¹å®šè®¾ç½®ã€‚ å¦‚æœç”¨æˆ·ç‚¹å‡»å®ƒï¼Œæˆ‘ä»¬å°†æ›´æ”¹é»˜è®¤å­˜å‚¨ä¸­çš„åŸºç¡€è®¾ç½®å€¼ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ’­æ”¾å£°éŸ³ä½œä¸ºç»™å®šè¾“å…¥çš„é¢å¤–åé¦ˆã€‚ è¿™æ˜¯ä¸‰ä¸ªä¸åŒçš„ä¸œè¥¿ç»„åˆåœ¨ä¸€èµ·ã€‚ ğŸ¶</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">toggleSettings</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// change underlying settings value</span></span><br><span class="line">    <span class="keyword">let</span> settingsKey = <span class="string">"my-settings"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> originalValue = <span class="type">UserDefaults</span>.standard.bool(forKey: settingsKey)</span><br><span class="line">    <span class="keyword">let</span> newValue = !originalValue</span><br><span class="line"></span><br><span class="line">    <span class="type">UserDefaults</span>.standard.<span class="keyword">set</span>(newValue, forKey: settingsKey)</span><br><span class="line">    <span class="type">UserDefaults</span>.standard.synchronize()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// positive feedback sound</span></span><br><span class="line">    <span class="type">AudioServicesPlaySystemSound</span>(<span class="number">1054</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// update UI</span></span><br><span class="line">    <span class="keyword">self</span>.switchButton.setOn(newValue, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­å–œï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†æœ€ç®€å•çš„å¤–è§‚ï¼ å¦‚æœä½ å¯¹è¿™æ®µä»£ç ç†Ÿæ‚‰ï¼Œåˆ™æ„å‘³ç€æ‚¨è¿‡å»å·²ç»ä½¿ç”¨äº† <code>Facade</code> ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶ï¼Œäº‹æƒ…å¯èƒ½ä¼šæ›´åŠ å¤æ‚ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ª <code>Web</code> æœåŠ¡ï¼Œå¹¶ä¸”éœ€è¦ä¸Šä¼ ä¸€äº›æ•°æ®å’Œé™„ä»¶æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ è¿˜å¯ä»¥ç¼–å†™ä¸€ä¸ª <code>Facade</code> æ¥éšè—å­ç³»ç»Ÿçš„åº•å±‚å¤æ‚æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤–è§‚è®¾è®¡æ¨¡å¼ç¡®å®å¾ˆå®¹æ˜“åˆ›å»ºï¼Œæœ‰æ—¶ä½ ç”šè‡³ä¸ä¼šæ³¨æ„åˆ°æ­£åœ¨ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œä½†æ˜¯å®ƒä»¬å¯¹äºéšè—ï¼Œè§£è€¦æˆ–ç®€åŒ–äº‹ç‰©éå¸¸æœ‰ç”¨ã€‚ ğŸ˜‰</p></br><h1 id="æ›´å¤šé˜…è¯»"><a href="#æ›´å¤šé˜…è¯»" class="headerlink" title="æ›´å¤šé˜…è¯»"></a>æ›´å¤šé˜…è¯»</h1><br><ul><li><p><a href="https://www.appcoda.com/design-pattern-structural/" target="_blank" rel="noopener"><code>Design Patterns in Swift #3: Facade and Adapter</code></a></p></li><li><p><a href="https://rubygarage.org/blog/swift-design-patterns" target="_blank" rel="noopener"><code>Top 5 Design Patterns in Swift for iOS App Development</code></a></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¤–è§‚è®¾è®¡æ¨¡å¼æ˜¯å¤æ‚å­ç³»ç»Ÿä¸Šçš„ç®€åŒ–ç•Œé¢ã€‚ å±•ç¤ºä¸€ä¸ªä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; çš„å¿«é€Ÿå®ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%A4%96%E8%A7%80%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;å¤–è§‚æ¨¡å¼&quot;&gt;&lt;code&gt;å¤–è§‚æ¨¡å¼ï¼ˆFacade patternï¼‰&lt;/code&gt;&lt;/a&gt; ï¼Œæ˜¯è½¯ä»¶å·¥ç¨‹ä¸­å¸¸ç”¨çš„ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¥å£ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å¤–è§‚è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%A4%96%E8%A7%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Swiftä¸­å¤„ç†éå¯é€‰é€‰é¡¹</title>
    <link href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%A4%84%E7%90%86%E9%9D%9E%E5%8F%AF%E9%80%89%E9%80%89%E9%A1%B9/"/>
    <id>http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%A4%84%E7%90%86%E9%9D%9E%E5%8F%AF%E9%80%89%E9%80%89%E9%A1%B9/</id>
    <published>2020-04-26T01:49:49.000Z</published>
    <updated>2020-04-26T02:19:11.394Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯é€‰å‚æ•°å¯ä»¥è¯´æ˜¯ <code>Swift</code> æœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å°†å…¶ä¸ <code>Objective-C</code> ä¹‹ç±»çš„è¯­è¨€åŒºåˆ†å¼€æ¥çš„å…³é”®ã€‚ é€šè¿‡è¢«è¿«å¤„ç†å¯èƒ½ä¸º <code>nil</code> çš„æƒ…å†µï¼Œæˆ‘ä»¬å€¾å‘äºç¼–å†™æ›´å…·å¯é¢„æµ‹æ€§å’Œè¾ƒå°‘é”™è¯¯çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œæœ‰æ—¶å¯é€‰å‚æ•°å¯èƒ½ä¼šä½¿ä½ å¤„äºä¸€ä¸ªå¾ˆéš¾å¤„ç†çš„å±€é¢ï¼Œåœ¨ç¨‹åºå‘˜çœ‹æ¥ï¼Œä½ çŸ¥é“ï¼ˆæˆ–è‡³å°‘åœ¨å‡è®¾ä¹‹ä¸‹ï¼‰æŸä¸ªå˜é‡åœ¨ä½¿ç”¨æ—¶å§‹ç»ˆä¸º <code>non-nil</code> ï¼Œå³ä½¿å®ƒæ˜¯ å¯é€‰ç±»å‹ã€‚ å°±åƒåœ¨è§†å›¾æ§åˆ¶å™¨ä¸­å¤„ç†è§†å›¾æ—¶ä¸€æ ·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tableView: <span class="type">UITableView?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        tableView = <span class="type">UITableView</span>(frame: view.bounds)</span><br><span class="line">        view.addSubview(tableView!)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">viewModelDidUpdate</span><span class="params">(<span class="number">_</span> viewModel: ViewModel)</span></span> &#123;</span><br><span class="line">        tableView?.reloadData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <code>Swift</code> ç¨‹åºå‘˜ä¼šåœ¨ä¸åˆ¶è¡¨ç¬¦å’Œç©ºæ ¼å‡ ä¹ç›¸åŒçš„ç¨‹åº¦ä¸Šå­˜åœ¨åˆ†æ­§ã€‚ æœ‰äººè¯´ï¼š</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œç”±äºå®ƒæ˜¯å¯é€‰çš„ï¼Œå› æ­¤ä½ åº”è¯¥å§‹ç»ˆæ­£ç¡®åœ°è§£å¼€å®ƒï¼Œä½¿ç”¨ <code>let</code> æˆ– <code>guard let</code> ã€‚â€</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è€Œå…¶ä»–äººä¼šæœå®Œå…¨ä¸åŒçš„æ–¹å‘è¯´ï¼š</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œç”±äºä½ çŸ¥é“å˜é‡å°†ä¸ä¼šä¸º <code>nil</code> ï¼Œè¯·å¼ºåˆ¶å°†å…¶è§£åŒ…ï¼ˆä½¿ç”¨ï¼ï¼‰ã€‚ å´©æºƒæ¯”å¤„äºä¸ç¡®å®šçŠ¶æ€è¦å¥½ã€‚â€</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè°ˆè®ºçš„æ˜¯æ˜¯å¦è¿›è¡Œ <a href="https://zh.wikipedia.org/wiki/%E9%98%B2%E5%BE%A1%E6%80%A7%E7%BC%96%E7%A8%8B" target="_blank" rel="noopener" title="é˜²å¾¡æ€§ç¼–ç¨‹"><code>é˜²å¾¡æ€§ç¼–ç¨‹(è‹±æ–‡ï¼šdefensive programming)</code></a>ã€‚ æˆ‘ä»¬æ˜¯å¦è¯•å›¾ä»ä¸ç¡®å®šçš„çŠ¶æ€ä¸­æ¢å¤ï¼Œè¿˜æ˜¯ä»…ä»…æ”¾å¼ƒå¹¶å´©æºƒï¼Ÿ</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘å¿…é¡»å¯¹è¿™ä¸ªé—®é¢˜ç»™å‡ºä¸€ä¸ªäºŒå…ƒçš„ç­”æ¡ˆï¼Œé‚£ä¹ˆæˆ‘è‚¯å®šä¼šé€‰æ‹©åè€…ã€‚ æœªå®šä¹‰çŠ¶æ€ä¼šå¯¼è‡´å¾ˆéš¾å‘ç°é”™è¯¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„ä»£ç æ‰§è¡Œï¼Œè€Œé‡‡ç”¨é˜²å¾¡æ€§ç¼–ç¨‹åªä¼šå¯¼è‡´éš¾ä»¥æ¨ç†çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œæˆ‘å®æ„¿ä¸å¿…ç»™å‡ºäºŒè¿›åˆ¶ç­”æ¡ˆï¼Œè€Œæ˜¯ç ”ç©¶ä¸€äº›å¯ç”¨äºä»¥æ›´ç»†å¾®çš„æ–¹å¼è§£å†³æ­¤é—®é¢˜çš„æŠ€æœ¯ã€‚ </p></br><h1 id="çœŸçš„å¯é€‰å—ï¼Ÿ"><a href="#çœŸçš„å¯é€‰å—ï¼Ÿ" class="headerlink" title="çœŸçš„å¯é€‰å—ï¼Ÿ"></a><strong>çœŸçš„å¯é€‰å—ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å˜é‡å’Œå±æ€§æ˜¯å¯é€‰çš„ï¼Œä½†å®é™…ä¸Šæ˜¯ç¨‹åºé€»è¾‘æ‰€å¿…éœ€çš„ï¼Œå®é™…ä¸Šæ˜¯ä½“ç³»ç»“æ„ç¼ºé™·çš„å¾å…†ã€‚ å¦‚æœéœ€è¦æŸäº›ä¸œè¥¿ï¼Œåˆ°æ²¡æœ‰å®ƒä¼šä½¿ä½ å¤„äºä¸ç¡®å®šçŠ¶æ€-å®ƒä¸æ˜¯å¯é€‰çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ä¸æŸäº›ç³»ç»Ÿ <code>API</code> è¿›è¡Œäº¤äº’æ—¶ï¼‰ï¼Œç¡®å®å¾ˆéš¾é¿å…ä½¿ç”¨å¯é€‰é¡¹â€“åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸäº›æŠ€æœ¯æ¥æ‘†è„±å¯é€‰é¡¹ã€‚</p></br><h1 id="æ‡’åŠ è½½-lazy-æ¯”éå¯é€‰çš„-non-optionally-optional-è¦å¥½"><a href="#æ‡’åŠ è½½-lazy-æ¯”éå¯é€‰çš„-non-optionally-optional-è¦å¥½" class="headerlink" title="æ‡’åŠ è½½(lazy)æ¯”éå¯é€‰çš„(non-optionally optional)è¦å¥½"></a><strong>æ‡’åŠ è½½(lazy)æ¯”éå¯é€‰çš„(non-optionally optional)è¦å¥½</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ç§é¿å…ä½¿ç”¨å±æ€§çš„å¯é€‰é€‰é¡¹çš„æ–¹æ³•ï¼Œå³é€šè¿‡ä½¿ç”¨æƒ°æ€§å±æ€§æ¥é¿å…åœ¨åˆ›å»ºçˆ¶å¯¹è±¡ä¹‹åéœ€è¦åˆ›å»ºå€¼çš„å±æ€§ï¼ˆä¾‹å¦‚ï¼Œè§†å›¾æ§åˆ¶å™¨ä¸­çš„è§†å›¾-åº”è¯¥åœ¨ <code>loadView()</code> æˆ– <code>viewDidLoad()</code> ä¸­åˆ›å»ºï¼‰ã€‚ æƒ°æ€§å±æ€§å¯ä»¥æ˜¯éå¯é€‰çš„ï¼Œä½†ä»ä¸éœ€è¦åœ¨å…¶çˆ¶çº§çš„åˆå§‹å€¼è®¾å®šé¡¹ä¸­åˆ›å»ºã€‚ å®ƒå°†åœ¨é¦–æ¬¡è®¿é—®æ—¶åˆ›å»ºã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬ä»ä¹‹å‰æ›´æ–° <code>TableViewController</code> ï¼Œä»¥å¯¹å…¶è¡¨è§†å›¾ä½¿ç”¨å¯¹å±æ€§è¿›è¡Œæ‡’åŠ è½½ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TableViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> tableView = <span class="type">UITableView</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        tableView.frame = view.bounds</span><br><span class="line">        view.addSubview(tableView)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">viewModelDidUpdate</span><span class="params">(<span class="number">_</span> viewModel: ViewModel)</span></span> &#123;</span><br><span class="line">        tableView.reloadData()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å¯é€‰é¡¹ï¼Œæ²¡æœ‰ä¸ç¡®å®šçš„çŠ¶æ€ï¼ ğŸ‰</p></br><h1 id="é€‚å½“çš„ä¾èµ–é¡¹ç®¡ç†è¦æ¯”éå¯é€‰çš„å¯é€‰é¡¹å¥½"><a href="#é€‚å½“çš„ä¾èµ–é¡¹ç®¡ç†è¦æ¯”éå¯é€‰çš„å¯é€‰é¡¹å¥½" class="headerlink" title="é€‚å½“çš„ä¾èµ–é¡¹ç®¡ç†è¦æ¯”éå¯é€‰çš„å¯é€‰é¡¹å¥½"></a><strong>é€‚å½“çš„ä¾èµ–é¡¹ç®¡ç†è¦æ¯”éå¯é€‰çš„å¯é€‰é¡¹å¥½</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯é€‰é¡¹çš„å¦ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯æ‰“ç ´ <a href="https://en.wikipedia.org/wiki/Circular_dependency" target="_blank" rel="noopener" title="å¾ªç¯ä¾èµ–å…³ç³»"><code>å¾ªç¯ä¾èµ–å…³ç³»(circular dependencies)</code></a> ã€‚ æœ‰æ—¶æ‚¨å¯èƒ½ä¼šé‡åˆ° <code>A</code> ä¾èµ–äº <code>B</code> ï¼Œä½† <code>B</code> ä¹Ÿä¾èµ–äº <code>A</code> çš„æƒ…å†µã€‚ç±»ä¼¼äºæ­¤è®¾ç½®ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> commentManager: <span class="type">CommentManager?</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">userDidPostComment</span><span class="params">(<span class="number">_</span> comment: Comment)</span></span> &#123;</span><br><span class="line">        user.totalNumberOfComments += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">logOutCurrentUser</span><span class="params">()</span></span> &#123;</span><br><span class="line">        user.logOut()</span><br><span class="line">        commentManager?.clearCache()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommentManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> userManager: <span class="type">UserManager?</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">composer</span><span class="params">(<span class="number">_</span> composer: CommentComposer</span></span></span><br><span class="line"><span class="function"><span class="params">                  didPostComment comment: Comment)</span></span> &#123;</span><br><span class="line">        userManager?.userDidPostComment(comment)</span><br><span class="line">        handle(comment)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">clearCache</span><span class="params">()</span></span> &#123;</span><br><span class="line">        cache.clear()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬åœ¨ <code>UserManager</code> å’Œ <code>CommentManager</code> ä¹‹é—´å…·æœ‰å¾ªç¯ä¾èµ–å…³ç³»ï¼Œå…¶ä¸­å®ƒä»¬éƒ½ä¸å‡å®šå½¼æ­¤æ‹¥æœ‰æ‰€æœ‰æƒï¼Œä½†æ˜¯å®ƒä»¬åœ¨é€»è¾‘ä¸Šä»ç„¶ç›¸äº’ä¾èµ–ã€‚ é‚£åªæ˜¯ç­‰å¾…å‘ç”Ÿçš„é”™è¯¯ï¼ ğŸ˜…</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬æ”¹ä¸ºè®© <code>CommentComposer</code> å……å½“ä¸­é—´äººï¼Œå¹¶è´Ÿè´£é€šçŸ¥ <code>UserManager</code> å’Œ <code>CommentManager</code> å·²åšå‡ºè¯„è®ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommentComposer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> commentManager: <span class="type">CommentManager</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> userManager: <span class="type">UserManager</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> textView = <span class="type">UITextView</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(commentManager: <span class="type">CommentManager</span>,</span><br><span class="line">         userManager: <span class="type">UserManager</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.commentManager = commentManager</span><br><span class="line">        <span class="keyword">self</span>.userManager = userManager</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">postComment</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> comment = <span class="type">Comment</span>(text: textView.text)</span><br><span class="line">        commentManager.handle(comment)</span><br><span class="line">        userManager.userDidPostComment(comment)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ ·ï¼Œ<code>UserManager</code> å¯ä»¥æ‹¥æœ‰å¯¹ <code>CommentManager</code> çš„å¼ºå¼•ç”¨ï¼Œè€Œæ²¡æœ‰å¾ªç¯å¼•ç”¨ï¼ˆæˆ–ä¾èµ–)ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> commentManager: <span class="type">CommentManager</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(commentManager: <span class="type">CommentManager</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.commentManager = commentManager</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">userDidPostComment</span><span class="params">(<span class="number">_</span> comment: Comment)</span></span> &#123;</span><br><span class="line">        user.totalNumberOfComments += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å†æ¬¡åˆ é™¤äº†æ‰€æœ‰å¯é€‰å†…å®¹ï¼Œå¹¶æä¾›äº†å¯é¢„æµ‹çš„ä»£ç ï¼ ğŸ‰</p></br><h1 id="å´©æºƒ"><a href="#å´©æºƒ" class="headerlink" title="å´©æºƒ"></a><strong>å´©æºƒ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›ç¤ºä¾‹ï¼Œåœ¨è¿™äº›ç¤ºä¾‹ä¸­æˆ‘ä»¬å¯ä»¥è°ƒæ•´ä»£ç ä»¥é€šè¿‡åˆ é™¤å¯é€‰é€‰é¡¹æ¥æ¶ˆé™¤ä¸ç¡®å®šæ€§ã€‚ ä½†æ˜¯ï¼Œæœ‰æ—¶å€™è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚ å‡è®¾ä½ æ­£åœ¨åŠ è½½åŒ…å«åº”ç”¨ç¨‹åºé…ç½®çš„æœ¬åœ° <code>JSON</code> æ–‡ä»¶ã€‚ è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€é¡¹å¯èƒ½ä¼šå¤±è´¥çš„æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬å°†éœ€è¦æ·»åŠ ä¸€äº›é”™è¯¯å¤„ç†ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœé…ç½®æ— æ³•åŠ è½½ï¼Œåˆ™ç»§ç»­æ‰§è¡Œç¨‹åºä¼šä½¿åº”ç”¨ç¨‹åºå¤„äºæœªå®šä¹‰çŠ¶æ€ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹å¯èƒ½ä¼šå¼•å‘å´©æºƒã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—å´©æºƒæŠ¥å‘Šï¼Œå¹¶å¸Œæœ›æˆ‘ä»¬çš„ <code>tests &amp; QA</code> æ£€æŸ¥æµç¨‹èƒ½å¤Ÿæ—©äºè§£å†³æ­¤é—®é¢˜å¹¶å°†å…¶ä¼ é€’ç»™ç”¨æˆ·ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•å´©æºƒï¼Ÿ æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ç®€å•åœ°ä½¿ç”¨ <code>! operator</code> ï¼Œå¼ºåˆ¶è§£å¼€å¯é€‰é€‰é¡¹ï¼Œå¦‚æœå®ƒåŒ…å« <code>nil</code> åˆ™å¯¼è‡´å´©æºƒï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> configuration = loadConfiguration()!</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡è¿™ç§æ–¹æ³•å¾ˆç®€å•ï¼Œä½†ç¼ºç‚¹æ˜¯å¾ˆå¤§ã€‚ å¦‚æœæ­¤ä»£ç å¼€å§‹å´©æºƒï¼Œæˆ‘ä»¬å°†å¾—åˆ°çš„é”™è¯¯æ¶ˆæ¯æ˜¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal error: unexpectedly found <span class="literal">nil</span> <span class="keyword">while</span> unwrapping an <span class="type">Optional</span> value</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é”™è¯¯æ¶ˆæ¯ä¸ä¼šå‘Šè¯‰æˆ‘ä»¬é”™è¯¯çš„åŸå› å’Œå‘ç”Ÿä½ç½®ï¼Œä¹Ÿæ²¡æœ‰æä¾›è§£å†³æ–¹æ³•çš„çº¿ç´¢ã€‚ ç›¸åï¼Œè®©æˆ‘ä»¬ç»“åˆä½¿ç”¨ <code>guard</code> è¯­å¥å’Œ <code>preconditionFailure()</code> å‡½æ•°ï¼Œä»¥è‡ªå®šä¹‰æ¶ˆæ¯é€€å‡ºã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> configuration = loadConfiguration() <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">preconditionFailure</span>(<span class="string">"Configuration couldn't be loaded. "</span> +</span><br><span class="line">                        <span class="string">"Verify that Config.JSON is valid."</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•å´©æºƒæ—¶ï¼Œæˆ‘ä»¬å°†è·å¾—æ›´å¤šæœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal error: <span class="type">Configuration</span> couldnâ€™t be loaded. <span class="type">Verify</span> that <span class="type">Config1</span>.<span class="type">JSON</span> <span class="keyword">is</span> valid.: file ~/<span class="type">DemoApp</span>/<span class="type">Sources</span>/<span class="type">AppDelegate</span>.swift, line <span class="number">17</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–æ˜ç¡®çš„æªæ–½æ¥è§£å†³è¯¥é—®é¢˜ï¼Œå¹¶ä¸”æˆ‘ä»¬ç¡®åˆ‡çŸ¥é“å®ƒåœ¨ä»£ç åº“ä¸­çš„ä½ç½®ï¼ ğŸš€</p></br><h1 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a><strong>æ›´å¤š</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿›è¡Œä¸Šé¢çš„ <code>guard-let-preconditionFailure</code> æ“ä½œå¯èƒ½ä¼šæœ‰äº›ä¹å‘³ï¼Œå¹¶ä¸”ç¡®å®ä¼šä½¿ä»£ç éš¾äºéµå¾ªã€‚ æˆ‘ä»¬çœŸçš„ä¸æƒ³åœ¨ä»£ç ä¸­ç•™å‡ºå¦‚æ­¤å¤§çš„ç©ºé—´ï¼Œè¿™æ ·çš„ç‰¹æ®Šæƒ…å†µ-æˆ‘ä»¬è¦ä¸“æ³¨äºæˆ‘ä»¬çš„é€»è¾‘ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ <code>Require</code> ã€‚ å®ƒåœ¨ <code>Optional</code> ä¸Šæ·»åŠ äº†ä¸€ä¸ªç®€å•çš„ <code>require()</code> æ–¹æ³•ï¼Œå¯ä»¥å®Œæˆä¸Šè¿°æ“ä½œï¼Œä½†æ˜¯ä½¿è°ƒç”¨ç«™ç‚¹æ›´åŠ æ•´æ´ã€‚ ä½¿ç”¨ <code>Require</code> æ—¶ï¼Œä¸Šè¿°é…ç½®åŠ è½½ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> configuration = loadConfiguration().require(hint: <span class="string">"Verify that Config.JSON is valid"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå¤±è´¥ï¼Œå®ƒå°†ç»™æˆ‘ä»¬ä»¥ä¸‹é”™è¯¯æ¶ˆæ¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal error: <span class="type">Required</span> value was <span class="literal">nil</span>. <span class="type">Debugging</span> hint: <span class="type">Verify</span> that <span class="type">Config1</span>.<span class="type">JSON</span> <span class="keyword">is</span> valid: file ~/<span class="type">DemoApp</span>/<span class="type">Sources</span>/<span class="type">AppDelegate</span>.swift, line <span class="number">17</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Require</code> çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œå®ƒè¿˜å°†å¼•å‘ <code>NSException</code> ä»¥åŠè°ƒç”¨ <code>preconditionFailure</code> ï¼Œè¿™å°†ä½¿å´©æºƒæŠ¥å‘Šå·¥å…·ï¼ˆå¦‚ <code>Crashlytics</code> ï¼‰èƒ½å¤Ÿæå–å´©æºƒçš„æ‰€æœ‰å…ƒæ•°æ®ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æƒ³åœ¨ä»£ç ä¸­ä½¿ç”¨  <a href="https://github.com/JohnSundell/Require" target="_blank" rel="noopener" title="Require"><code>Require</code></a> ï¼Œå®ƒæ˜¯ <a href="https://github.com/JohnSundell/Require" target="_blank" rel="noopener" title="Require"><code>GitHub</code></a> ä¸Šçš„å¼€æºä»£ç ã€‚</p></br><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™äº›æ˜¯æˆ‘åœ¨ <code>Swift</code> ä¸­å¤„ç†éå¯é€‰å¯é€‰å†…å®¹çš„æŠ€å·§ï¼š</p><ul><li>æ‡’åŠ è½½(lazy)æ¯”éå¯é€‰çš„(non-optionally optional)è¦å¥½</li><li>é€‚å½“çš„ä¾èµ–é¡¹ç®¡ç†è¦æ¯”éå¯é€‰çš„å¯é€‰é¡¹å¥½</li><li>å½“æ‚¨éœ€è¦ä½¿ç”¨éå¯é€‰çš„å¯é€‰é€‰é¡¹æ—¶ï¼Œæ­£å¸¸å´©æºƒ</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¯é€‰å‚æ•°å¯ä»¥è¯´æ˜¯ &lt;code&gt;Swift&lt;/code&gt; æœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å°†å…¶ä¸ &lt;code&gt;Objective-C&lt;/code&gt; ä¹‹ç±»çš„è¯­è¨€åŒºåˆ†å¼€æ¥çš„å…³é”®ã€‚ é€šè¿‡è¢«è¿«å¤„ç†å¯èƒ½ä¸º &lt;code&gt;nil&lt;/code&gt; çš„æƒ…å†µï¼Œæˆ‘ä»¬å€¾å‘äºç¼–å†™æ›´å…·å¯é¢„æµ‹æ€§å’Œè¾ƒå°‘é”™è¯¯çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½†æ˜¯ï¼Œæœ‰æ—¶å¯é€‰å‚æ•°å¯èƒ½ä¼šä½¿ä½ å¤„äºä¸€ä¸ªå¾ˆéš¾å¤„ç†çš„å±€é¢ï¼Œåœ¨ç¨‹åºå‘˜çœ‹æ¥ï¼Œä½ çŸ¥é“ï¼ˆæˆ–è‡³å°‘åœ¨å‡è®¾ä¹‹ä¸‹ï¼‰æŸä¸ªå˜é‡åœ¨ä½¿ç”¨æ—¶å§‹ç»ˆä¸º &lt;code&gt;non-nil&lt;/code&gt; ï¼Œå³ä½¿å®ƒæ˜¯ å¯é€‰ç±»å‹ã€‚ å°±åƒåœ¨è§†å›¾æ§åˆ¶å™¨ä¸­å¤„ç†è§†å›¾æ—¶ä¸€æ ·ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;TableViewController&lt;/span&gt;: &lt;span class=&quot;title&quot;&gt;UIViewController&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; tableView: &lt;span class=&quot;type&quot;&gt;UITableView?&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.viewDidLoad()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tableView = &lt;span class=&quot;type&quot;&gt;UITableView&lt;/span&gt;(frame: view.bounds)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        view.addSubview(tableView!)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewModelDidUpdate&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt; viewModel: ViewModel)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        tableView?.reloadData()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è¿­ä»£å™¨è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="optionals" scheme="http://www.xuebaonline.com/tags/optionals/"/>
    
      <category term="non-optional" scheme="http://www.xuebaonline.com/tags/non-optional/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Swiftä¸­åˆ›å»ºè‡ªå®šä¹‰é›†åˆ</title>
    <link href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88/"/>
    <id>http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88/</id>
    <published>2020-04-26T01:29:52.000Z</published>
    <updated>2020-04-26T02:20:25.950Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>Swift</code> ä¸­åˆ›å»ºå¯¹è±¡æˆ–å€¼çš„é›†åˆæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„æ•°æ®ç»“æ„-ä¾‹å¦‚ <code>Array</code> ï¼Œ<code>Dictionary</code> å’Œ <code>Set</code> ã€‚ å°½ç®¡è¿™ä¸‰ä¸ªæ¡ˆä¾‹æ¶µç›–äº†å¤§å¤šæ•°ç”¨ä¾‹ï¼Œä½†æœ‰æ—¶åˆ›å»ºè‡ªå®šä¹‰åŒ…è£…å™¨é›†åˆå¯ä»¥ä½¿ä½ ä½¿ä»£ç æ›´å¯é¢„æµ‹ï¼Œå¹¶ä¸”æ›´ä¸æ˜“å‡ºé”™ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤æ¬¡ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä½œä¸ºåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜çš„æˆ‘ä»¬å¦‚ä½•åœ¨ <code>Swift</code> ä¸­å®šä¹‰æ­¤ç±»è‡ªå®šä¹‰é›†åˆï¼Œä»¥åŠç»“åˆæšä¸¾çš„å¼ºå¤§åŠŸèƒ½ï¼Œå¦‚ä½•è®©æˆ‘ä»¬ä¸ºè‡ªå·±åˆ›å»ºä¸€äº›éå¸¸æ¼‚äº®çš„ <code>API</code> ã€‚</p><a id="more"></a></br><h1 id="åˆ é™¤å¯é€‰"><a href="#åˆ é™¤å¯é€‰" class="headerlink" title="åˆ é™¤å¯é€‰"></a><strong>åˆ é™¤å¯é€‰</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°±åƒæˆ‘ä»¬åœ¨ <a href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%A4%84%E7%90%86%E9%9D%9E%E5%8F%AF%E9%80%89%E9%80%89%E9%A1%B9/" title="åœ¨Swiftä¸­å¤„ç†éå¯é€‰çš„å¯é€‰å†…å®¹"><code>â€œåœ¨Swiftä¸­å¤„ç†éå¯é€‰çš„å¯é€‰å†…å®¹â€</code></a> ä¸­ä»‹ç»çš„é‚£æ ·ï¼Œå‡å°‘äº†åœ¨å®é™…éœ€è¦çš„å€¼çœŸæ­£éœ€è¦æ—¶ä½¿ç”¨å¯é€‰çš„éœ€æ±‚ï¼Œè¿™ç¡®å®å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…é”™è¯¯å¹¶ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸ï¼Œé›†åˆçš„é—®é¢˜åœ¨äºï¼Œä½ é€šå¸¸æ— æ³•ä¿è¯å®ƒä»¬æ˜¯å¦åŒ…å«ä¸€å®šçš„å€¼ï¼Œå› æ­¤ï¼Œä½ å¾€å¾€ä¼šé‡åˆ°å¾ˆå¤šå¯é€‰å†…å®¹å’Œé€»è¾‘ï¼Œè¿™äº›å¯é€‰å†…å®¹å’Œé€»è¾‘è¦æ±‚ä»¥ä¸€ç§æˆ–å¦ä¸€ç§æ–¹å¼å°†å®ƒä»¬æ‹†å¼€ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾æˆ‘ä»¬æ­£åœ¨ä¸ºä¸€å®¶æ‚è´§åº—æ„å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªç”¨æˆ·ç•Œé¢ï¼Œè¯¥ç•Œé¢å¯è®©ç”¨æˆ·æŒ‰ç±»åˆ«æ˜¾ç¤ºæ‰€æœ‰äº§å“ã€‚ è¦ä¸ºæ­¤ç±»UIåˆ›å»ºæ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Dictionary</code> ï¼Œå…¶ä½¿ç”¨ <code>Category</code> ä½œä¸ºå…¶é”®ç±»å‹ï¼Œå¹¶ä½¿ç”¨ <code>[Product]</code> ä½œä¸ºå…¶å€¼ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> products: [<span class="type">Category</span> : [<span class="type">Product</span>]] = [</span><br><span class="line">    .dairy: [</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Milk"</span>, category: .dairy),</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Butter"</span>, category: .dairy)</span><br><span class="line">    ],</span><br><span class="line">    .vegetables: [</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Cucumber"</span>, category: .vegetables),</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Lettuce"</span>, category: .vegetables)</span><br><span class="line">    ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡ä¸Šè¿°æ–¹æ³•æœ‰æ•ˆï¼Œä½†è¦æ±‚æˆ‘ä»¬ç¼–å†™è¿™æ ·çš„ä»£ç ï¼Œä»¥ä¾¿ä¾‹å¦‚ä»…æ˜¾ç¤ºæ‰€æœ‰ <code>Product</code> ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> dairyProducts = products[.dairy] &#123;</span><br><span class="line">    <span class="keyword">guard</span> !dairyProducts.isEmpty <span class="keyword">else</span> &#123;</span><br><span class="line">        renderEmptyView()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render(dairyProducts)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    renderEmptyView()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¾ˆå¥½ï¼Œä½†æ˜¯å¯èƒ½ä¼šæ›´å¥½ã€‚ ä½†æ˜¯ï¼Œæ’å…¥æ–°äº§å“å˜å¾—æ›´åŠ éº»çƒ¦ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShoppingCart</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> products = [<span class="type">Category</span> : [<span class="type">Product</span>]]()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(<span class="number">_</span> product: Product)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">var</span> productsInCategory = products[product.category] &#123;</span><br><span class="line">            productsInCategory.append(product)</span><br><span class="line">            products[product.category] = productsInCategory</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            products[product.category] = [product]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥½æ¶ˆæ¯æ˜¯ï¼Œé€šè¿‡åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„è‡ªå®šä¹‰é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ä¸Šè¿°ä¸¤ä¸ªç¤ºä¾‹å˜å¾—æ›´å¥½æ›´æ¸…æ™°ã€‚ è€Œä¸”ï¼Œæ›´å¥½çš„æ¶ˆæ¯æ˜¯-å€ŸåŠ© <code>Swift</code> çš„é¢å‘åè®®çš„è®¾è®¡-åˆ›å»ºè¿™æ ·çš„é›†åˆå®é™…ä¸Šéå¸¸å®¹æ˜“ï¼</p></br><h1 id="åˆ›å»ºé›†åˆ"><a href="#åˆ›å»ºé›†åˆ" class="headerlink" title="åˆ›å»ºé›†åˆ"></a><strong>åˆ›å»ºé›†åˆ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Swift</code> æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰é›†åˆéƒ½éµå¾ª <code>Collection</code> åè®®ï¼Œè€Œ <code>Collection</code> åè®®åˆç»§æ‰¿è‡ª <code>Sequence</code> åè®®ã€‚ é€šè¿‡ä½¿è‡ªå®šä¹‰é›†åˆç¬¦åˆè¿™ä¸¤ä¸ªåè®®ï¼Œå®ƒå¯ä»¥å®Œå…¨å…è´¹åœ°åˆ©ç”¨æ‰€æœ‰æ ‡å‡†é›†åˆæ“ä½œï¼ˆä¾‹å¦‚ï¼Œè¿­ä»£å’Œè¿‡æ»¤ï¼‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬ä»å®šä¹‰è‡ªå®šä¹‰ <code>ProductCollection</code> çš„åŸºç¡€å¼€å§‹ï¼Œè¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´å¥½çš„æ–¹å¼å¤„ç†äº§å“å’Œç±»åˆ«ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProductCollection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">DictionaryType</span> = [<span class="type">Category</span> : [<span class="type">Product</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Underlying, private storage, that is the same type of dictionary</span></span><br><span class="line">    <span class="comment">// that we previously was using at the call site</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> products = <span class="type">DictionaryType</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Enable our collection to be initialized with a dictionary</span></span><br><span class="line">    <span class="keyword">init</span>(products: <span class="type">DictionaryType</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.products = products</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡å®ç°åè®®è¦æ±‚ä½¿å…¶ç¬¦åˆ <code>Collection</code> ã€‚ æˆ‘ä»¬è¦åšçš„å¤§å¤šæ•°äº‹æƒ…å°±æ˜¯ç®€å•åœ°å°†è°ƒç”¨è½¬å‘åˆ°åŸºç¡€ <code>products</code> å­—å…¸ï¼Œç„¶åè®©å®ƒè¿›è¡Œâ€œç¹é‡çš„å·¥ä½œâ€ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductCollection</span>: <span class="title">Collection</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Required nested types, that tell Swift what our collection contains</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Index</span> = <span class="type">DictionaryType</span>.<span class="type">Index</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Element</span> = <span class="type">DictionaryType</span>.<span class="type">Element</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// The upper and lower bounds of the collection, used in iterations</span></span><br><span class="line">    <span class="keyword">var</span> startIndex: <span class="type">Index</span> &#123; <span class="keyword">return</span> products.startIndex &#125;</span><br><span class="line">    <span class="keyword">var</span> endIndex: <span class="type">Index</span> &#123; <span class="keyword">return</span> products.endIndex &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Required subscript, based on a dictionary index</span></span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">Index</span>) -&gt; <span class="type">Iterator</span>.<span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> products[index] &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Method that returns the next index when iterating</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">index</span><span class="params">(after i: Index)</span></span> -&gt; <span class="type">Index</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> products.index(after: i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„ä»£ç ä½¿ç”¨çš„æ˜¯ <code>Swift 4</code> ï¼Œè¿™å½’åŠŸäºå¯¹é€šç”¨çº¦æŸçš„æ”¹è¿›ï¼ˆä½¿æˆ‘ä»¬å¯ä»¥æ›´ä»”ç»†åœ°ç ”ç©¶è¿™äº›æ”¹è¿›ä»¥åŠå¦‚ä½•åœ¨ä»¥åçš„æ–‡ç« ä¸­ä½¿ç”¨ç±»å‹çº¦æŸï¼‰ï¼Œä»è€Œä½¿è‡ªå®šä¹‰é›†åˆçš„å®šä¹‰å˜å¾—æ›´åŠ ç®€å•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè‡ªå®šä¹‰é›†åˆï¼Œå¯ä»¥å°†å…¶ç”¨ä½œå†…ç½®é›†åˆä¹‹ä¸€ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥éå†å®ƒï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (category, productsInCategory) <span class="keyword">in</span> products &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ–è€…åœ¨å…¶ä¸Šä½¿ç”¨è¯¸å¦‚ <code>map</code> çš„æ“ä½œï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> categories = productCollection.<span class="built_in">map</span> &#123; $<span class="number">0</span>.key &#125;</span><br></pre></td></tr></table></figure></br><h1 id="è‡ªå®šä¹‰é›†åˆ-API"><a href="#è‡ªå®šä¹‰é›†åˆ-API" class="headerlink" title="è‡ªå®šä¹‰é›†åˆ API"></a><strong>è‡ªå®šä¹‰é›†åˆ API</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºæˆ‘ä»¬çš„ç³»åˆ—å¥ å®šäº†åŸºç¡€ï¼Œè®©æˆ‘ä»¬å¼€å§‹å‘å…¶ä¸­æ·»åŠ ä¸€äº› <code>API</code> ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿æˆ‘ä»¬çš„äº§å“å¤„ç†ä»£ç æ›´å¥½ã€‚ æˆ‘ä»¬å°†ä»ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸‹æ ‡é‡è½½å¼€å§‹ï¼Œè¯¥é‡è½½ä½¿æˆ‘ä»¬æ— éœ€å¤„ç†å¯é€‰é¡¹å°±å¯ä»¥è·å–æˆ–è®¾ç½®ä¸€ç³»åˆ—äº§å“ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductCollection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">subscript</span>(category: <span class="type">Category</span>) -&gt; [<span class="type">Product</span>] &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> products[category] ?? [] &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123; products[category] = newValue &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¿˜æ·»åŠ ä¸€ä¸ªä¾¿æ·çš„ <code>API</code> ï¼Œä»¥è½»æ¾åœ°å°†æ–° <code>product</code> æ’å…¥æˆ‘ä»¬çš„æ”¶è—å¤¹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductCollection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">insert</span><span class="params">(<span class="number">_</span> product: Product)</span></span> &#123;</span><br><span class="line">        <span class="keyword">var</span> productsInCategory = <span class="keyword">self</span>[product.category]</span><br><span class="line">        productsInCategory.append(product)</span><br><span class="line">        <span class="keyword">self</span>[product.category] = productsInCategory</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›åŸå§‹çš„ <code>product</code> å¤„ç†ä»£ç ï¼Œå¹¶å°†å…¶æ›´æ–°ä¸ºæ›´å¥½çš„ä»£ç ã€‚ </p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dairyProducts = products[.dairy]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> dairyProducts.isEmpty &#123;</span><br><span class="line">    renderEmptyView()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    render(dairyProducts)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹ä¸€æ­¥ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShoppingCart</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> products = <span class="type">ProductCollection</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(product: Product)</span></span> &#123;</span><br><span class="line">        products.insert(product)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><h1 id="é€šè¿‡-Key-å€¼è·å–"><a href="#é€šè¿‡-Key-å€¼è·å–" class="headerlink" title="é€šè¿‡ Key å€¼è·å–"></a><strong>é€šè¿‡ Key å€¼è·å–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥½äº†ï¼Œåˆ°äº†å…³é”®æ—¶å€™ï¼ ç”±äºæˆ‘ä»¬çš„è‡ªå®šä¹‰é›†åˆåŸºæœ¬ä¸Šåªæ˜¯å­—å…¸çš„åŒ…è£…ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ·»åŠ å¯¹ä½¿ç”¨å­—å…¸æ–‡å­—è¿›è¡Œåˆå§‹åŒ–çš„æ”¯æŒã€‚ è¿™æ ·åšå°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> products: <span class="type">ProductCollection</span> = [</span><br><span class="line">    .dairy: [</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Milk"</span>, category: .dairy),</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Butter"</span>, category: .dairy)</span><br><span class="line">    ],</span><br><span class="line">    .vegetables: [</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Cucumber"</span>, category: .vegetables),</span><br><span class="line">        <span class="type">Product</span>(name: <span class="string">"Lettuce"</span>, category: .vegetables)</span><br><span class="line">    ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤ªé…·äº†ï¼ è¿™ä¸ä»…å¯¹å‡å°‘ç”Ÿäº§ä»£ç ä¸­çš„å†—é•¿æœ‰ç”¨ï¼Œè€Œä¸”è¿˜å°†ä½¿åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­è®¾ç½®äº§å“é›†åˆæ¨¡æ‹Ÿæ›´åŠ ç®€å•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¦åšçš„å°±æ˜¯éµå®ˆ    <code>ExpressibleByDictionaryLiteral</code> ï¼Œå®ƒè¦æ±‚æˆ‘ä»¬å®ç°ä¸€ä¸ªå¸¦æœ‰æ–‡å­—çš„åˆå§‹åŒ–ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductCollection</span>: <span class="title">ExpressibleByDictionaryLiteral</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Key</span> = <span class="type">Category</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Value</span> = [<span class="type">Product</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(dictionaryLiteral elements: (<span class="type">Category</span>, [<span class="type">Product</span>])...) &#123;</span><br><span class="line">        <span class="keyword">for</span> (category, productsInCategory) <span class="keyword">in</span> elements &#123;</span><br><span class="line">            products[category] = productsInCategory</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a><strong>ç»“è®º</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨è‡ªå®šä¹‰é›†åˆå¯èƒ½æ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ä»¥ä¸€ç§æ›´åŠ å¯é¢„æµ‹ä¸”æ˜“äºä½¿ç”¨çš„æ–¹å¼æ¥å¤„ç†ä¸€ç»„å€¼ã€‚ å½“æ‚¨å¤„ç†å¤šä¸ªå€¼æ—¶ï¼Œå®ƒä¸ä¸€å®šæ€»æ˜¯æ‚¨çš„é¦–é€‰è§£å†³æ–¹æ¡ˆï¼Œä½†åœ¨æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œå®ƒç¡®å®å¯ä»¥å¸®åŠ©ä½ ç¼–å†™æ›´ç®€æ´çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è°ƒè¯•æ—¶ï¼Œäº†è§£è¯¸å¦‚é›†åˆä¹‹ç±»çš„äº‹ç‰©çš„å·¥ä½œæ–¹å¼ä¹Ÿéå¸¸æœ‰å¸®åŠ©ï¼Œæˆ–è€…ä½¿ä½ äº†è§£å¦‚ä½•ä¼˜åŒ–ä¸é›†åˆç›¸å…³çš„ä»£ç ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ &lt;code&gt;Swift&lt;/code&gt; ä¸­åˆ›å»ºå¯¹è±¡æˆ–å€¼çš„é›†åˆæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„æ•°æ®ç»“æ„-ä¾‹å¦‚ &lt;code&gt;Array&lt;/code&gt; ï¼Œ&lt;code&gt;Dictionary&lt;/code&gt; å’Œ &lt;code&gt;Set&lt;/code&gt; ã€‚ å°½ç®¡è¿™ä¸‰ä¸ªæ¡ˆä¾‹æ¶µç›–äº†å¤§å¤šæ•°ç”¨ä¾‹ï¼Œä½†æœ‰æ—¶åˆ›å»ºè‡ªå®šä¹‰åŒ…è£…å™¨é›†åˆå¯ä»¥ä½¿ä½ ä½¿ä»£ç æ›´å¯é¢„æµ‹ï¼Œå¹¶ä¸”æ›´ä¸æ˜“å‡ºé”™ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æ­¤æ¬¡ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä½œä¸ºåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜çš„æˆ‘ä»¬å¦‚ä½•åœ¨ &lt;code&gt;Swift&lt;/code&gt; ä¸­å®šä¹‰æ­¤ç±»è‡ªå®šä¹‰é›†åˆï¼Œä»¥åŠç»“åˆæšä¸¾çš„å¼ºå¤§åŠŸèƒ½ï¼Œå¦‚ä½•è®©æˆ‘ä»¬ä¸ºè‡ªå·±åˆ›å»ºä¸€äº›éå¸¸æ¼‚äº®çš„ &lt;code&gt;API&lt;/code&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è¿­ä»£å™¨è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Collection" scheme="http://www.xuebaonline.com/tags/Collection/"/>
    
      <category term="Collections" scheme="http://www.xuebaonline.com/tags/Collections/"/>
    
  </entry>
  
  <entry>
    <title>Swiftè¿­ä»£å™¨è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-26T01:13:26.000Z</published>
    <updated>2020-04-26T02:22:15.675Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡ä½¿ç”¨ä¸€äº› <a href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88/" title="è‡ªå®šä¹‰åºåˆ—"><code>è‡ªå®šä¹‰åºåˆ—</code></a>ï¼ˆç¬¦åˆ <code>Swift</code> æ ‡å‡†åº“ä¸­çš„ <code>IteratorProtocol</code> ï¼‰ï¼Œå­¦ä¹ è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é‡Œï¼Œ<a href="https://zh.wikipedia.org/wiki/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="è¿­ä»£å™¨æ¨¡å¼">è¿­ä»£å™¨æ¨¡å¼</a> æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€ç§æœ€ç®€å•ä¹Ÿæœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼ã€‚å®ƒå¯ä»¥è®©ç”¨æˆ·é€è¿‡ç‰¹å®šçš„æ¥å£è®¿é—®å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è€Œä¸ç”¨äº†è§£åº•å±‚çš„å®ç°ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ¬¡ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç»è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ã€‚ è¯¥æ¨¡å¼åœ¨ <a href="https://developer.apple.com/documentation/swift/swift_standard_library" target="_blank" rel="noopener" title="Swiftæ ‡å‡†åº“"><code>Swiftæ ‡å‡†åº“</code></a> ä¸­å¤§é‡ä½¿ç”¨ï¼Œå¦‚æœä½ éœ€è¦åˆ›å»ºè¿­ä»£å™¨ï¼Œæœ‰ä¸€äº›åè®®å¯ä»¥ä¸ºä½ æä¾›æ”¯æŒï¼Œä½†æ˜¯è€å®è¯´ï¼šæˆ‘ä»æ¥æ²¡æœ‰ç›´æ¥å®ç°è¿‡è¿™ç§æ¨¡å¼ã€‚ ğŸ˜…</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äº‹å®æ˜¯ï¼Œåœ¨99ï¼…çš„ç”¨ä¾‹ä¸­ï¼Œä½ å°†æ°¸è¿œä¸å¿…å¤„ç†è¿™ç§æ¨¡å¼ï¼Œå› ä¸ºå¯¹ <code>Swift</code> ä¸­ç›´æ¥å†…ç½®çš„è¿­ä»£å™¨æä¾›äº†æƒŠäººçš„æ”¯æŒã€‚ å§‹ç»ˆä½¿ç”¨åºåˆ—ï¼Œæ•°ç»„ï¼Œå­—å…¸è€Œä¸æ˜¯ç›´æ¥å®ç°æ­¤æ¨¡å¼ï¼Œä½†æ˜¯å¾ˆé«˜å…´çŸ¥é“äº‹æƒ…æ˜¯å¦‚ä½•è¿›è¡Œçš„ã€‚ ğŸ™ƒ</p><a id="more"></a></br><h1 id="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ï¼Ÿ"></a><strong>ä»€ä¹ˆæ˜¯è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¡¾åæ€ä¹‰ï¼Œè¯¥æ¨¡å¼ä½¿ä½ å¯ä»¥è¿­ä»£ä¸€ç»„å…ƒç´ ã€‚ è¿™æ˜¯å…¶ä¸­ä¸€ç§å®šä¹‰ï¼š</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æä¾›ä¸€ç§åœ¨ä¸æš´éœ²å…¶åŸºç¡€è¡¨ç¤ºçš„æƒ…å†µä¸‹é¡ºåºè®¿é—®èšåˆå¯¹è±¡çš„å…ƒç´ çš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é•¿è¯çŸ­è¯´ï¼Œè¿­ä»£å™¨ä¸ºä½ æä¾›äº†ä¸€ä¸ªç•Œé¢ï¼Œæ— è®ºä½ åœ¨åå°å¦‚ä½•å®ç°è¿™äº›é›†åˆï¼Œéƒ½å¯ä»¥ä½¿ä½ å¯¹é›†åˆè¿›è¡Œè¿­ä»£ã€‚ è¿™æ˜¯ä¸Šé¢ä½¿ç”¨å­—ç¬¦ä¸²è¿­ä»£å™¨çš„ç†è®ºçš„å¿«é€Ÿç¤ºä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">StringIterator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">String?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArrayStringIterator</span>: <span class="title">StringIterator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> values: [<span class="type">String</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> index: <span class="type">Int?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> values: [<span class="type">String</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.values = values</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">nextIndex</span><span class="params">(<span class="keyword">for</span> index: Int?)</span></span> -&gt; <span class="type">Int?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index = index, index &lt; <span class="keyword">self</span>.values.<span class="built_in">count</span> - <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> index + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> index == <span class="literal">nil</span>, !<span class="keyword">self</span>.values.isEmpty &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">String?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index = <span class="keyword">self</span>.nextIndex(<span class="keyword">for</span>: <span class="keyword">self</span>.index) &#123;</span><br><span class="line">            <span class="keyword">self</span>.index = index</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.values[index]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Iterable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">StringIterator</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataArray</span>: <span class="title">Iterable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> dataSource: [<span class="type">String</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.dataSource = [<span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ”"</span>, <span class="string">"ğŸµ"</span>, <span class="string">"ğŸ¦"</span>, <span class="string">"ğŸ¯"</span>, <span class="string">"ğŸ­"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ®"</span>, <span class="string">"ğŸ·"</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">StringIterator</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">ArrayStringIterator</span>(<span class="keyword">self</span>.dataSource)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> data = <span class="type">DataArray</span>()</span><br><span class="line"><span class="keyword">let</span> iterator = data.makeIterator()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">let</span> next = iterator.next() &#123;</span><br><span class="line">    <span class="built_in">print</span>(next)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä½ æ‰€è§ï¼Œå®ƒä»¬æœ‰ä¸¤ä¸ªä¸»è¦åè®®å’Œä¸€ä¸ªéå¸¸ç®€å•çš„å®ç°ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬çš„ <code>DataArray</code> ç±»çš„è¡Œä¸ºå°±åƒä¸€ä¸ªçœŸå®çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨å¾ªç¯æ¥è¿­ä»£åŸºç¡€å…ƒç´ ã€‚ è®©æˆ‘ä»¬æŠ›å¼€ç†è®ºï¼Œé€šè¿‡ä½¿ç”¨å®é™…çš„ <code>Swiftæ ‡å‡†åº“ç»„ä»¶</code> ä»ä¸Šé¢é‡æ–°å®ç°ç¤ºä¾‹ã€‚ ğŸ˜‰</p></br><h1 id="Swift-ä¸­çš„è‡ªå®šä¹‰åºåˆ—"><a href="#Swift-ä¸­çš„è‡ªå®šä¹‰åºåˆ—" class="headerlink" title="Swift ä¸­çš„è‡ªå®šä¹‰åºåˆ—"></a><strong>Swift ä¸­çš„è‡ªå®šä¹‰åºåˆ—</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Swift</code> å…·æœ‰å†…ç½®çš„åºåˆ—åè®®ï¼Œå¯å¸®åŠ©ä½ åˆ›å»ºè¿­ä»£å™¨ã€‚ åœ¨ <code>Swift</code> ä¸­å®ç°è‡ªå·±çš„åºåˆ—å°±æ˜¯é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰è¿­ä»£å™¨å¯¹è±¡æ¥éšè—åŸºç¡€æ•°æ®ç»“æ„ã€‚ ä½ åªéœ€å­˜å‚¨å½“å‰ç´¢å¼•ï¼Œå¹¶åœ¨æ¯æ¬¡è°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°æ—¶æ ¹æ®è¯¥ç´¢å¼•è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ ğŸ˜›</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Emojis</span>: <span class="title">Sequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animals: [<span class="type">String</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeIterator</span><span class="params">()</span></span> -&gt; <span class="type">EmojiIterator</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">EmojiIterator</span>(<span class="keyword">self</span>.animals)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EmojiIterator</span>: <span class="title">IteratorProtocol</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> values: [<span class="type">String</span>]</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> index: <span class="type">Int?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> values: [<span class="type">String</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.values = values</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">nextIndex</span><span class="params">(<span class="keyword">for</span> index: Int?)</span></span> -&gt; <span class="type">Int?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index = index, index &lt; <span class="keyword">self</span>.values.<span class="built_in">count</span> - <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> index + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> index == <span class="literal">nil</span>, !<span class="keyword">self</span>.values.isEmpty &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> -&gt; <span class="type">String?</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index = <span class="keyword">self</span>.nextIndex(<span class="keyword">for</span>: <span class="keyword">self</span>.index) &#123;</span><br><span class="line">            <span class="keyword">self</span>.index = index</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.values[index]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> emojis = <span class="type">Emojis</span>(animals: [<span class="string">"ğŸ¶"</span>, <span class="string">"ğŸ”"</span>, <span class="string">"ğŸµ"</span>, <span class="string">"ğŸ¦"</span>, <span class="string">"ğŸ¯"</span>, <span class="string">"ğŸ­"</span>, <span class="string">"ğŸ±"</span>, <span class="string">"ğŸ®"</span>, <span class="string">"ğŸ·"</span>])</span><br><span class="line"><span class="keyword">for</span> emoji <span class="keyword">in</span> emojis &#123;</span><br><span class="line">    <span class="built_in">print</span>(emoji)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œ<a href="https://developer.apple.com/documentation/swift/sequence" target="_blank" rel="noopener" title="Sequence protocol"><code>Sequence protocol</code></a> ä¸ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰å¯è¿­ä»£åè®®çš„é€šç”¨å¯¹åº”é¡¹ã€‚   <a href="https://developer.apple.com/documentation/swift/iteratorprotocol" target="_blank" rel="noopener" title="IteratorProtocol"><code>IteratorProtocol</code></a> æœ‰ç‚¹åƒä¹‹å‰ä½¿ç”¨çš„å­—ç¬¦ä¸²è¿­ä»£å™¨åè®®ï¼Œä½†æ˜¯æ›´åŠ è¿…æ·ï¼Œå½“ç„¶ä¹Ÿæ›´é€šç”¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰€ä»¥ï¼Œè¿™å¾ˆæ£’ã€‚ æœ€åï¼Œä½ çŸ¥é“å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰åºåˆ—ã€‚ å¦‚æœä½ æƒ³éšè—æ•°æ®ç»“æ„å¹¶æä¾›é€šç”¨çš„å¯è¿­ä»£æ¥å£ï¼Œé‚£ä¹ˆè¿™å¾ˆå¥½ã€‚ æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ å°†è¦å¼€å§‹ä½¿ç”¨å­—å…¸è€Œä¸æ˜¯ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨å‘½åçš„è¡¨æƒ…ç¬¦å·è€Œæ²¡æœ‰ç”¨äºåŒ…è£…å®ƒä»¬çš„è¿­ä»£å™¨ï¼Œå°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ ğŸ¤”</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘æƒ³è°ˆè°ˆ <code>Swiftæ ‡å‡†åº“</code> ä¸­è¿˜æœ‰å¦å¤–ä¸€ä¸ªè¶…çº§æœ‰ç”¨çš„ä¸œè¥¿ã€‚ æ²¡é”™ï¼Œä¸€ä¸ªæŠ½è±¡çº§åˆ«çš„åº”ç”¨ï¼Œæˆ‘ä»¬çœ‹è¿™é‡Œï¼š</p></br><h1 id="Swift-ä¸­çš„è‡ªå®šä¹‰é›†åˆ"><a href="#Swift-ä¸­çš„è‡ªå®šä¹‰é›†åˆ" class="headerlink" title="Swift ä¸­çš„è‡ªå®šä¹‰é›†åˆ"></a><strong>Swift ä¸­çš„è‡ªå®šä¹‰é›†åˆ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://developer.apple.com/documentation/swift/collection" target="_blank" rel="noopener" title="Collections"><code>Collections</code></a> æ˜¯åºåˆ—ä¹‹å¤–çš„ç¬¬ä¸€æ­¥ã€‚ å®ƒä»¬å†…éƒ¨çš„å…ƒç´ å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®ï¼Œå®ƒä»¬è¿˜å®šä¹‰äº† <code>startIndex</code> å’Œ <code>endIndex</code> ï¼Œè€Œä¸”é›†åˆä¸­çš„å„ä¸ªå…ƒç´ å¯ä»¥å¤šæ¬¡è®¿é—®ã€‚ å¬èµ·æ¥ä¸é”™ï¼Ÿ ğŸ‘</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰æ—¶åˆ›å»º <a href=""è‡ªå®šä¹‰é›†åˆç±»å‹""><code>è‡ªå®šä¹‰é›†åˆç±»å‹</code></a> å¯èƒ½å¾ˆæœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³æ¶ˆé™¤å¯é€‰å€¼ã€‚ æƒ³è±¡ä¸€ä¸‹åˆ†ç±»çš„æ”¶è—å¤¹æœºåˆ¶ï¼Œå¯¹äºæ¯ä¸ªç±»åˆ«ï¼Œæ‚¨éƒ½æœ‰ä¸€ç³»åˆ—çš„æ”¶è—å¤¹ï¼Œå› æ­¤ä½ å¿…é¡»å¤„ç†ç©ºçš„å’Œä¸å­˜åœ¨çš„æ¡ˆä¾‹ã€‚ ä½¿ç”¨è‡ªå®šä¹‰é›†åˆï¼Œä½ å¯ä»¥å°†å¤šä½™çš„ä»£ç éšè—åœ¨è‡ªå®šä¹‰æ•°æ®ç»“æ„ä¸­ï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†æä¾›ä¸€ä¸ªç®€æ´çš„ç•Œé¢ã€‚ ğŸ˜</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Favorites</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">FavoriteType</span> = [<span class="type">String</span>: [<span class="type">String</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> list: <span class="type">FavoriteType</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Favorites</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.list = <span class="type">FavoriteType</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Favorites</span>: <span class="title">Collection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Index</span> = <span class="type">FavoriteType</span>.<span class="type">Index</span></span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Element</span> = <span class="type">FavoriteType</span>.<span class="type">Element</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> startIndex: <span class="type">Index</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.list.startIndex</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> endIndex: <span class="type">Index</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.list.endIndex</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">Index</span>) -&gt; <span class="type">Iterator</span>.<span class="type">Element</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.list[index]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">index</span><span class="params">(after i: Index)</span></span> -&gt; <span class="type">Index</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.list.index(after: i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Favorites</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">subscript</span>(index: <span class="type">String</span>) -&gt; [<span class="type">String</span>] &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.list[index] ?? []</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(<span class="number">_</span> value: String, category: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">var</span> values = <span class="keyword">self</span>.list[category] &#123;</span><br><span class="line">            <span class="keyword">guard</span> !values.<span class="built_in">contains</span>(value) <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            values.append(value)</span><br><span class="line">            <span class="keyword">self</span>.list[category] = values</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.list[category] = [value]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">remove</span><span class="params">(<span class="number">_</span> value: String, category: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">var</span> values = <span class="keyword">self</span>.list[category] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        values = values.<span class="built_in">filter</span> &#123; $<span class="number">0</span> == value &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> values.isEmpty &#123;</span><br><span class="line">            <span class="keyword">self</span>.list.removeValue(forKey: category)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.list[category] = values</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Favorites</span>.shared.add(<span class="string">"apple"</span>, category: <span class="string">"fruits"</span>)</span><br><span class="line"><span class="type">Favorites</span>.shared.add(<span class="string">"pear"</span>, category: <span class="string">"fruits"</span>)</span><br><span class="line"><span class="type">Favorites</span>.shared.add(<span class="string">"apple"</span>, category: <span class="string">"fruits"</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">Favorites</span>.shared[<span class="string">"fruits"</span>]</span><br><span class="line"></span><br><span class="line"><span class="type">Favorites</span>.shared.remove(<span class="string">"apple"</span>, category: <span class="string">"fruits"</span>)</span><br><span class="line"><span class="type">Favorites</span>.shared.remove(<span class="string">"pear"</span>, category: <span class="string">"fruits"</span>)</span><br><span class="line"><span class="type">Favorites</span>.shared.list</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘çŸ¥é“ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç¤ºä¾‹ï¼Œä½†å®ƒè¯´æ˜äº†ä¸ºä»€ä¹ˆé›†åˆæ¯”çº¯åºåˆ—æ›´é«˜çº§ã€‚ æ­¤å¤–ï¼Œåœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ï¼Œæœ‰å¾ˆå¥½çš„æ¼”ç¤ºï¼Œæ¼”ç¤ºäº†ç²¾å¿ƒç¼–å†™çš„æ”¶è—é›†ã€‚ éšæ—¶äº†è§£æœ‰å…³éšè—åœ¨Swiftæ ‡å‡†åº“ä¸­ï¼ˆä¸æ˜¯é‚£ä¹ˆæ·±ï¼‰çš„è¿™äº›è¶…çº§åè®®å’Œè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ›´å¤šä¿¡æ¯ã€‚ ğŸ¤</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡ä½¿ç”¨ä¸€äº› &lt;a href=&quot;http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E9%9B%86%E5%90%88/&quot; title=&quot;è‡ªå®šä¹‰åºåˆ—&quot;&gt;&lt;code&gt;è‡ªå®šä¹‰åºåˆ—&lt;/code&gt;&lt;/a&gt;ï¼ˆç¬¦åˆ &lt;code&gt;Swift&lt;/code&gt; æ ‡å‡†åº“ä¸­çš„ &lt;code&gt;IteratorProtocol&lt;/code&gt; ï¼‰ï¼Œå­¦ä¹ è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹é‡Œï¼Œ&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;è¿­ä»£å™¨æ¨¡å¼&quot;&gt;è¿­ä»£å™¨æ¨¡å¼&lt;/a&gt; æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€ç§æœ€ç®€å•ä¹Ÿæœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼ã€‚å®ƒå¯ä»¥è®©ç”¨æˆ·é€è¿‡ç‰¹å®šçš„æ¥å£è®¿é—®å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è€Œä¸ç”¨äº†è§£åº•å±‚çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è¿™æ¬¡ï¼Œæˆ‘å°†é‡ç‚¹ä»‹ç»è¿­ä»£å™¨è®¾è®¡æ¨¡å¼ã€‚ è¯¥æ¨¡å¼åœ¨ &lt;a href=&quot;https://developer.apple.com/documentation/swift/swift_standard_library&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;Swiftæ ‡å‡†åº“&quot;&gt;&lt;code&gt;Swiftæ ‡å‡†åº“&lt;/code&gt;&lt;/a&gt; ä¸­å¤§é‡ä½¿ç”¨ï¼Œå¦‚æœä½ éœ€è¦åˆ›å»ºè¿­ä»£å™¨ï¼Œæœ‰ä¸€äº›åè®®å¯ä»¥ä¸ºä½ æä¾›æ”¯æŒï¼Œä½†æ˜¯è€å®è¯´ï¼šæˆ‘ä»æ¥æ²¡æœ‰ç›´æ¥å®ç°è¿‡è¿™ç§æ¨¡å¼ã€‚ ğŸ˜…&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;äº‹å®æ˜¯ï¼Œåœ¨99ï¼…çš„ç”¨ä¾‹ä¸­ï¼Œä½ å°†æ°¸è¿œä¸å¿…å¤„ç†è¿™ç§æ¨¡å¼ï¼Œå› ä¸ºå¯¹ &lt;code&gt;Swift&lt;/code&gt; ä¸­ç›´æ¥å†…ç½®çš„è¿­ä»£å™¨æä¾›äº†æƒŠäººçš„æ”¯æŒã€‚ å§‹ç»ˆä½¿ç”¨åºåˆ—ï¼Œæ•°ç»„ï¼Œå­—å…¸è€Œä¸æ˜¯ç›´æ¥å®ç°æ­¤æ¨¡å¼ï¼Œä½†æ˜¯å¾ˆé«˜å…´çŸ¥é“äº‹æƒ…æ˜¯å¦‚ä½•è¿›è¡Œçš„ã€‚ ğŸ™ƒ&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="è¿­ä»£å™¨è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swifté€‚é…å™¨è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E9%80%82%E9%85%8D%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E9%80%82%E9%85%8D%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T10:45:18.000Z</published>
    <updated>2020-04-26T01:15:53.944Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡ä½¿ç”¨çœŸå®ç¤ºä¾‹å’Œ <code>Swift</code> ä¸­çš„é€‚é…å™¨è®¾è®¡æ¨¡å¼ï¼Œå°†ä¸å…¼å®¹çš„å¯¹è±¡è½¬æ¢ä¸ºç›®æ ‡æ¥å£æˆ–ç±»ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="é€‚é…å™¨æ¨¡å¼">é€‚é…å™¨æ¨¡å¼</a>ï¼ˆè‹±è¯­ï¼šadapter patternï¼‰æœ‰æ—¶å€™ä¹Ÿç§°åŒ…è£…æ ·å¼æˆ–è€…åŒ…è£…(wrapper)ã€‚å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¥æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…ä½¿å¾—å› æ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»èƒ½åœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ã€‚</p><a id="more"></a><h1 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a><strong>ç»“æ„</strong></h1><p>æœ‰ä¸¤ç§ç±»å‹çš„é€‚é…å™¨æ¨¡å¼ï¼š</p><ul><li><p><strong>å¯¹è±¡é€‚é…å™¨æ¨¡å¼</strong></p><p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸­ï¼Œé€‚é…å™¨å®¹çº³ä¸€ä¸ªå®ƒåŒ…è£¹çš„ç±»çš„å®ä¾‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€‚é…å™¨è°ƒç”¨è¢«åŒ…è£¹å¯¹è±¡çš„ç‰©ç†å®ä½“ã€‚</p><p>  <img src="http://q8wtfza4q.bkt.clouddn.com/adp-stp1.png" alt="å¯¹è±¡é€‚é…å™¨æ¨¡å¼" title="å¯¹è±¡é€‚é…å™¨æ¨¡å¼"></p></li></ul><br><ul><li><strong>ç±»é€‚é…å™¨æ¨¡å¼</strong></li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§é€‚é…å™¨æ¨¡å¼ä¸‹ï¼Œé€‚é…å™¨ç»§æ‰¿è‡ªå·²å®ç°çš„ç±»ï¼ˆä¸€èˆ¬å¤šé‡ç»§æ‰¿ï¼‰ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/adp-stp2.png" alt="ç±»é€‚é…å™¨æ¨¡å¼" title="ç±»é€‚é…å™¨æ¨¡å¼"></p><br><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€‚é…å™¨æ˜¯ä¸€ç§ç»“æ„è®¾è®¡æ¨¡å¼ï¼Œå…è®¸å…·æœ‰ä¸å…¼å®¹æ¥å£çš„å¯¹è±¡ä¸€èµ·å·¥ä½œã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒè½¬æ¢å¯¹è±¡çš„æ¥å£ä»¥ä½¿å…¶é€‚åº”ä¸åŒçš„å¯¹è±¡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œé€‚é…å™¨å¯ä»¥å°†ä¸€ä»¶äº‹è½¬æ¢ä¸ºå¦ä¸€ä»¶äº‹ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºåŒ…è£…å™¨ï¼Œå› ä¸ºå®ƒå¯ä»¥åŒ…è£…å¯¹è±¡å¹¶åœ¨å…¶å‘¨å›´æä¾›ä¸€ä¸ªæ–°æ¥å£ã€‚ å°±åƒç‰¹å®šæ¥å£æˆ–æ—§ç±»çš„è½¯ä»¶åŠ å¯†ç‹—ä¸€æ ·ã€‚ </p><br><h1 id="é€‚é…å™¨è®¾è®¡æ¨¡å¼çš„å®ç°"><a href="#é€‚é…å™¨è®¾è®¡æ¨¡å¼çš„å®ç°" class="headerlink" title="é€‚é…å™¨è®¾è®¡æ¨¡å¼çš„å®ç°"></a><strong>é€‚é…å™¨è®¾è®¡æ¨¡å¼çš„å®ç°</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>Swift</code> ä¸­åˆ›å»ºé€‚é…å™¨å®é™…ä¸Šæ˜¯ä¸€ä»¶éå¸¸å®¹æ˜“çš„äº‹æƒ…ã€‚ ä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå°†æ—§å¯¹è±¡â€œè£…ç®±â€åˆ°å…¶ä¸­ï¼Œå¹¶åœ¨æ–°ç±»æˆ–ç»“æ„ä¸Šå®ç°æ‰€éœ€çš„æ¥å£å³å¯ã€‚ æ¢å¥è¯è¯´ï¼ŒåŒ…è£…å™¨å¯¹è±¡å°†æ˜¯æˆ‘ä»¬çš„é€‚é…å™¨ï¼Œé€šè¿‡åŒ…è£…å¦ä¸€ä¸ªé€‚é…å™¨å¯¹è±¡æ¥å®ç°ç›®æ ‡æ¥å£ã€‚</p><h2 id="Adaptee"><a href="#Adaptee" class="headerlink" title="Adaptee"></a><strong>Adaptee</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬æ­£åœ¨é€‚åº”ç‰¹å®šç›®æ ‡çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œè€å¼çš„USB-Aç«¯å£ï¼‰ã€‚</p><h2 id="Adapter"><a href="#Adapter" class="headerlink" title="Adapter"></a><strong>Adapter</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªåŒ…è£…åŸå§‹å¯¹è±¡å¹¶äº§ç”Ÿç”±æŸäº›ç›®æ ‡æ¥å£æŒ‡å®šçš„æ–°è¦æ±‚çš„å¯¹è±¡ï¼ˆè¿™å®Œæˆäº†å®é™…å·¥ä½œï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„å°è½¯ä»¶ç‹—ï¼‰ã€‚</p><h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a><strong>Target</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯æˆ‘ä»¬è¦ä¸ï¼ˆæˆ‘ä»¬çš„ <code>USB-C</code> æ’åº§ï¼‰é€‚é…å™¨ä¸€èµ·ä½¿ç”¨çš„å¯¹è±¡ã€‚</p><br><h1 id="å¦‚ä½•åœ¨Swiftä¸­ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Ÿ"><a href="#å¦‚ä½•åœ¨Swiftä¸­ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨Swiftä¸­ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Ÿ"></a><strong>å¦‚ä½•åœ¨Swiftä¸­ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœè¦åœ¨ä»£ç ä¸­é›†æˆç¬¬ä¸‰æ–¹åº“ï¼Œåˆ™å¯ä»¥ä½¿ç”¨é€‚é…å™¨ï¼Œä½†æ˜¯å…¶æ¥å£ä¸ä½ çš„è¦æ±‚ä¸åŒ¹é…ã€‚ ä¾‹å¦‚ï¼Œä½ å¯ä»¥å›´ç»•æ•´ä¸ª <code>SDK</code>æˆ–åç«¯ <code>API</code> ç«¯ç‚¹åˆ›å»ºåŒ…è£…å™¨ï¼Œä»¥åˆ›å»ºä¸€ä¸ªå…¬åˆ†æ¯ã€‚ ğŸ‘½</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨é€‚é…å™¨ç±»åŒ…è£… <code>EKEvent</code> å¯¹è±¡ï¼Œä»¥å®ç°å…¨æ–°çš„åè®®ã€‚ ğŸ“†</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> EventKit</span><br><span class="line"></span><br><span class="line"><span class="comment">// our target protocol</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Event</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> startDate: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> endDate: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// adapter (wrapper class)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> dateFormatter: <span class="type">DateFormatter</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> dateFormatter = <span class="type">DateFormatter</span>()</span><br><span class="line">        dateFormatter.dateFormat = <span class="string">"yyyy. MM. dd. HH:mm"</span></span><br><span class="line">        <span class="keyword">return</span> dateFormatter</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> event: <span class="type">EKEvent</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(event: <span class="type">EKEvent</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.event = event</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// actual adapter implementation</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">EventAdapter</span>: <span class="title">Event</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.event.title</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> startDate: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.dateFormatter.string(from: event.startDate)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> endDate: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.dateFormatter.string(from: event.endDate)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let's create an EKEvent adaptee instance</span></span><br><span class="line"><span class="keyword">let</span> dateFormatter = <span class="type">DateFormatter</span>()</span><br><span class="line">dateFormatter.dateFormat = <span class="string">"MM/dd/yyyy HH:mm"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> calendarEvent = <span class="type">EKEvent</span>(eventStore: <span class="type">EKEventStore</span>())</span><br><span class="line">calendarEvent.title = <span class="string">"Adapter tutorial deadline"</span></span><br><span class="line">calendarEvent.startDate = dateFormatter.date(from: <span class="string">"07/30/2018 10:00"</span>)</span><br><span class="line">calendarEvent.endDate = dateFormatter.date(from: <span class="string">"07/30/2018 11:00"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// now we can use the adapter class as an Event protocol, instead of an EKEvent</span></span><br><span class="line"><span class="keyword">let</span> adapter = <span class="type">EventAdapter</span>(event: calendarEvent)</span><br><span class="line"><span class="comment">// adapter.title</span></span><br><span class="line"><span class="comment">// adapter.startDate</span></span><br><span class="line"><span class="comment">// adapter.endDate</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦ä¸€ä¸ªç”¨ä¾‹æ˜¯å½“ä½ å¿…é¡»ä½¿ç”¨å‡ ä¸ªç°æœ‰çš„æœ€ç»ˆç±»æˆ–ç»“æ„ï¼Œä½†å®ƒä»¬ç¼ºå°‘æŸäº›åŠŸèƒ½ï¼Œå¹¶ä¸”ä½ æƒ³åœ¨å®ƒä»¬ä¹‹ä¸Šæ„å»ºä¸€ä¸ªæ–°çš„ç›®æ ‡æ¥å£æ—¶ã€‚ æœ‰æ—¶ï¼Œå®ç°åŒ…è£…ç¨‹åºæ¥å¤„ç†è¿™ç§æ··ä¹±æƒ…å†µæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ ğŸ¤·â€â™‚ï¸</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™å°±æ˜¯é€‚é…å™¨è®¾è®¡æ¨¡å¼çš„å…¨éƒ¨å†…å®¹ã€‚ é€šå¸¸ï¼Œç”¨ <code>Swift</code> æˆ–ä»»ä½•å…¶ä»–ç¼–ç¨‹è¯­è¨€å®ç°å®ƒç¡®å®å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å®ƒéå¸¸æœ‰ç”¨ï¼Œæœ‰æ—¶æ˜¯ä¸å¯é¿å…çš„ã€‚ å­©å­ä»¬ï¼Œè¯·è®°ä½ï¼šä¸è¦åœ¨åŠ å¯†ç‹—ä¸Šå¤ªç”¨åŠ›ï¼ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡ä½¿ç”¨çœŸå®ç¤ºä¾‹å’Œ &lt;code&gt;Swift&lt;/code&gt; ä¸­çš„é€‚é…å™¨è®¾è®¡æ¨¡å¼ï¼Œå°†ä¸å…¼å®¹çš„å¯¹è±¡è½¬æ¢ä¸ºç›®æ ‡æ¥å£æˆ–ç±»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;é€‚é…å™¨æ¨¡å¼&quot;&gt;é€‚é…å™¨æ¨¡å¼&lt;/a&gt;ï¼ˆè‹±è¯­ï¼šadapter patternï¼‰æœ‰æ—¶å€™ä¹Ÿç§°åŒ…è£…æ ·å¼æˆ–è€…åŒ…è£…(wrapper)ã€‚å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¥æˆç”¨æˆ·æ‰€æœŸå¾…çš„ã€‚ä¸€ä¸ªé€‚é…ä½¿å¾—å› æ¥å£ä¸å…¼å®¹è€Œä¸èƒ½åœ¨ä¸€èµ·å·¥ä½œçš„ç±»èƒ½åœ¨ä¸€èµ·å·¥ä½œï¼Œåšæ³•æ˜¯å°†ç±»è‡ªå·±çš„æ¥å£åŒ…è£¹åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„ç±»ä¸­ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="é€‚é…å™¨è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E9%80%82%E9%85%8D%E5%99%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå…³äºDependency Injection (DI)</title>
    <link href="http://www.xuebaonline.com/Swift%E5%85%B3%E4%BA%8EDependency%20Injection%20(DI)/"/>
    <id>http://www.xuebaonline.com/Swift%E5%85%B3%E4%BA%8EDependency%20Injection%20(DI)/</id>
    <published>2020-04-25T09:13:51.000Z</published>
    <updated>2020-04-25T10:39:44.036Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Swift</code> ä¸ºæˆ‘ä»¬è®¸å¤šäººæ‰“å¼€äº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸–ç•Œã€‚ ä½†è¿™ä»ç„¶æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œè€Œä¸æ˜¯åŠŸèƒ½çš„è¯­è¨€ã€‚ æˆ‘ä»¬çš„ä¸»è¦å·¥å…· <code>Cocoa frameworks</code> æ˜¯é¢å‘å¯¹è±¡çš„ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è‡ªå·±å¯èƒ½ä»ç„¶ä¼šç»§ç»­ç¼–å†™é¢å‘å¯¹è±¡çš„ä»£ç ã€‚ è¿™æ ·åšçš„é—®é¢˜æ˜¯å®é™…ä¸Šå¾ˆéš¾ç¼–å†™è®¾è®¡è‰¯å¥½çš„é¢å‘å¯¹è±¡çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰å¾ˆå¤šä¸åŒçš„è®¾è®¡åŸåˆ™ï¼Œä¾‹å¦‚ <code>SOLID</code> ï¼Œ<code>KISS</code> ï¼Œ<code>DRY</code> ç­‰ï¼ˆ <code>YAGNI</code> ï¼Œ <code>RAP</code> ï¼Œ<code>CQS</code> ï¼‰ï¼Œç”šè‡³æ›´å¤šçš„è®¾è®¡æ¨¡å¼ã€‚ è‡³å°‘å¯¹äºæˆ‘æ¥è¯´ï¼Œæœ‰è¿™ä¹ˆå¤šä¸åŒçš„åŸç†å’Œæ¨¡å¼è¿™ä¸€äº‹å®æ„å‘³ç€ï¼Œå³ä½¿æœ‰å¯èƒ½ï¼Œè‰¯å¥½çš„é¢å‘å¯¹è±¡è®¾è®¡ä¹Ÿå¾ˆéš¾ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾èµ–æ³¨å…¥æœ¬èº«ä¸æ˜¯æˆ‘åˆšæ‰æåˆ°çš„ <code>SOLID</code> åŸåˆ™çš„ä¸€éƒ¨åˆ†ã€‚ ä½†è¿™ä¸ä»–ä»¬æ‰€æœ‰äººæ¯æ¯ç›¸å…³ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œä¾èµ–æ³¨å…¥çš„æ¦‚å¿µè¢«è®¸å¤šè¯¯è§£æ‰€åŒ…å›´ã€‚</p><a id="more"></a><blockquote><p>ç»´åŸºç™¾ç§‘ä¸ºæˆ‘ä»¬æä¾›äº†éå¸¸å¤æ‚çš„å®šä¹‰ï¼š<br>â€œåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œä¾èµ–æ€§æ³¨å…¥æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå¯å®ç°æ§åˆ¶åè½¬ä»¥è§£å†³ä¾èµ–æ€§ã€‚â€  - <code>Wikipedia</code></p></blockquote><blockquote><p>è¿˜æœ‰å‡ å¥è¯â€¦â€¦ç›¸åï¼Œä¸€äº›å¼€å‘äººå‘˜è¯´ä¾èµ–æ³¨å…¥åªæ˜¯ä¼ é€’ä¸€ä¸ªå®ä¾‹å˜é‡ã€‚<br>â€œä¾èµ–æ³¨å…¥å®é™…ä¸Šåªæ˜¯ä¼ é€’ä¸€ä¸ªå®ä¾‹å˜é‡ã€‚â€  - <code>James Shore</code></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¶ä»–äººåˆ™è®¤ä¸ºè¿™æ˜¯æŸç§å¥‡å·§æ·«æŠ€ï¼Œéœ€è¦ä½¿ç”¨å¤æ‚è€Œç¼“æ…¢çš„æ¡†æ¶ï¼Œæˆ–è€…å®ƒä»…ä¸æµ‹è¯•æœ‰å…³ï¼Œåªä¼šä½¿ä»£ç æ›´éš¾ä»¥ç†è§£ã€‚ æˆ‘ä¼šè¯´æ‰€æœ‰è¿™äº›éƒ½æ˜¯å¯¹ä¾èµ–æ³¨å…¥çš„è¯¯è§£ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å°†å°½æˆ‘æ‰€èƒ½ä½¿å…¶æ›´åŠ æ¸…æ™°ï¼Œå¹¶å±•ç¤ºæˆ‘å¯¹ä¾èµ–æ³¨å…¥çš„äº†è§£ã€‚ æˆ‘å°†å°è¯•å±•ç¤ºå¦‚ä½•è¿›è¡Œä¾èµ–æ³¨å…¥ã€‚ ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸åº”è¯¥è¿™æ ·åšã€‚</p></br><h1 id="ä¸ºä»€ä¹ˆè¦ä¾èµ–æ³¨å°„ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦ä¾èµ–æ³¨å°„ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä¾èµ–æ³¨å°„ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆè¦ä¾èµ–æ³¨å°„ï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¾èµ–æ³¨å…¥é¦–å…ˆè¦è§£å†³çš„é—®é¢˜ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å¿…é¡»å¤„ç†ä¸åŒç§ç±»å’Œçº§åˆ«çš„æŠ½è±¡ã€‚ä»–ä»¬æ— å¤„ä¸åœ¨ã€‚æ¥å£ï¼Œæ–¹æ³•ï¼Œé—­åŒ…ï¼Œç”šè‡³æ˜¯å…·ä½“çš„ç±»å‹å’Œå˜é‡åç§°-å®ƒä»¬éƒ½æ˜¯æŠ½è±¡çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†å®ç°è‰¯å¥½çš„ä»£ç è®¾è®¡ï¼Œä½¿ç”¨é€‚å½“çš„æŠ½è±¡éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä»¬ä¼šä½¿æˆ‘ä»¬çš„ä»£ç æ¾æ•£è€¦åˆã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä»£ç çš„ä¸åŒç»„ä»¶å¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–å®ç°ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶ã€‚å½“æˆ‘ä»¬çš„ä»£ç æ¾æ•£è€¦åˆæ—¶ï¼Œå®ƒå˜å¾—æ›´å®¹æ˜“æµ‹è¯•ï¼Œæ›´å®¹æ˜“æ‰©å±•ï¼Œæ›´å®¹æ˜“é‡ç”¨ï¼Œæ›´å®¹æ˜“å¹¶è¡Œå¼€å‘ã€‚æ‰€æœ‰è¿™äº›ä½¿ç»´æŠ¤å˜å¾—æ›´å®¹æ˜“ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¾è€¦åˆä»£ç æ˜¯ä¾èµ–æ³¨å…¥çš„ä¸»è¦ç›®æ ‡ã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™æ¾è€¦åˆçš„ä»£ç ã€‚å› æ­¤ï¼Œå®ƒä½¿æµ‹è¯•ï¼Œæ‰©å±•å’Œé‡ç”¨ä»£ç å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¾ˆå¤šæ—¶å€™ï¼Œä»…åœ¨å•å…ƒæµ‹è¯•ä¸­è®¨è®ºä¾èµ–æ³¨å…¥ã€‚å®é™…ä¸Šï¼Œå®ƒæå¤§åœ°æé«˜äº†å¯æµ‹è¯•æ€§ï¼Œå°¤å…¶æ˜¯åœ¨ <code>Swift</code> ä¸­ã€‚ä½†æ˜¯å®é™…æƒ…å†µè¦å¹¿æ³›å¾—å¤šã€‚å¦‚æœæˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡ä¸ä»…æ˜¯å¯¹æŸäº›ç±»è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œè¿˜éœ€è¦æ¾æ•£çš„è€¦åˆå¹¶ä½¿ä»£ç å¯ç»´æŠ¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†éœ€è¦ä»˜å‡ºæ›´å¤šçš„åŠªåŠ›ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¼ é€’å®ä¾‹å˜é‡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡ä»æœ¬è´¨ä¸Šè®²ï¼Œä¾èµ–æ³¨å…¥å®é™…ä¸Šæ˜¯å…³äºä¼ é€’å®ä¾‹å˜é‡ï¼Œæˆ–è€…è¯´å°†ä¾èµ–ä¼ é€’ç»™å®ƒä»¬çš„ä½¿ç”¨è€…æ›´å¥½ã€‚è¿™æ˜¯ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æ¯ä¸ªç¬¬ä¸€æ­¥ä¸­æœ€é‡è¦çš„ä¸€æ­¥ã€‚ä½†è¿™åªæ˜¯ä¸€ä¸ªæ•…äº‹çš„ä¸€éƒ¨åˆ†ã€‚è¿˜æœ‰ç¬¬äºŒæ­¥ï¼Œç”šè‡³ç¬¬ä¸‰æ­¥ã€‚è¿™äº›æ­¥éª¤ä½¿ä»…ä¼ é€’å˜é‡å’Œä¾èµ–æ³¨å…¥ä¹‹é—´æœ‰æ‰€ä¸åŒã€‚</p></br><h1 id="ä¾èµ–æ³¨å°„æ¨¡å¼"><a href="#ä¾èµ–æ³¨å°„æ¨¡å¼" class="headerlink" title="ä¾èµ–æ³¨å°„æ¨¡å¼"></a><strong>ä¾èµ–æ³¨å°„æ¨¡å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»ç¬¬ä¸€æ­¥å¼€å§‹ã€‚ æœ‰å‡ ç§æ¨¡å¼å¯ä»¥å°†ä¾èµ–å…³ç³»ä¼ é€’ç»™æ¶ˆè´¹è€…ï¼š</p><ul><li>æ„é€ å‡½æ•°æ³¨å…¥</li><li>å±æ€§æ³¨å…¥</li><li>æ–¹æ³•æ³¨å…¥</li><li>ç¯å¢ƒè¯­å¢ƒ</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬çœ‹çœ‹æ¥è‡ª <code>Cocoa frameworks</code> çš„ç¤ºä¾‹çš„ä½¿ç”¨ã€‚</p></br><h1 id="CONSTRUCTORæ³¨å…¥"><a href="#CONSTRUCTORæ³¨å…¥" class="headerlink" title="CONSTRUCTORæ³¨å…¥"></a><strong>CONSTRUCTORæ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯ä» <strong><code>CoreData</code></strong> æ³¨å…¥æ„é€ å‡½æ•°çš„ç¤ºä¾‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NSPersistentStore</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(</span><br><span class="line">        persistentStoreCoordinator root: <span class="type">NSPersistentStoreCoordinator?</span>, </span><br><span class="line">        configurationName name: <span class="type">String?</span>, </span><br><span class="line">        <span class="type">URL</span> url: <span class="type">NSURL</span>, </span><br><span class="line">        options: [<span class="type">NSObject</span>: <span class="type">AnyObject</span>]?</span><br><span class="line">    )</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">var</span> persistentStoreCoordinator: <span class="type">NSPersistentStoreCoordinator?</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é‡Œï¼ŒæŒä¹…æ€§å­˜å‚¨åè°ƒå™¨çš„å®ä¾‹ä¸å…¶ä»–ä¸€äº›å‚æ•°ä¸€èµ·ä¼ é€’ç»™ <code>NSPersistentStore</code> çš„æ„é€ å‡½æ•°ã€‚ ç„¶åï¼Œå¯¹åè°ƒå™¨çš„å¼•ç”¨å°†è¢«å­˜å‚¨ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶æ— æ³•æ›´æ”¹ã€‚</p><blockquote><p>é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ï¼Œæˆ‘ä»¬å°†ä¾èµ–é¡¹ä½œä¸ºæ„é€ å‡½æ•°å‚æ•°ä¼ é€’å¹¶å°†å…¶å­˜å‚¨åœ¨åªè¯»å±æ€§ä¸­ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°½ç®¡åœ¨ <code>Cocoa frameworks</code> ä¸­æ²¡æœ‰å¤ªå¤šæ„é€ å‡½æ•°æ³¨å…¥çš„ç¤ºä¾‹ï¼Œä½†è¿™æ˜¯æ³¨å…¥ä¾èµ–å…³ç³»çš„é¦–é€‰æ–¹æ³•ã€‚ å› ä¸ºå®ƒæ˜¯æœ€å®¹æ˜“å®ç°çš„ï¼Œæ‰€ä»¥å¯ä»¥ç¡®ä¿å§‹ç»ˆå­˜åœ¨ä¾èµ–é¡¹ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶ä¸ä¼šæ›´æ”¹ä¾èµ–é¡¹ï¼Œè¿™ä½¿å®ƒæ›´åŠ å®‰å…¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°æ³¨å…¥æ˜¯ä¸å¯èƒ½çš„æˆ–ä¸åˆé€‚çš„ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å±æ€§æ³¨å…¥ã€‚</p></br><h1 id="å±æ€§æ³¨å…¥"><a href="#å±æ€§æ³¨å…¥" class="headerlink" title="å±æ€§æ³¨å…¥"></a><strong>å±æ€§æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»»ä½• <code>iOS</code> åº”ç”¨ç¨‹åºä¸­åˆ°å¤„éƒ½æœ‰è¿™ç§æ¨¡å¼ã€‚ ä¾‹å¦‚ï¼Œå§”æ‰˜æ¨¡å¼é€šå¸¸ä½¿ç”¨å±æ€§æ³¨å…¥æ¥å®ç°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">public</span> <span class="keyword">var</span> transitioningDelegate: <span class="type">UIViewControllerTransitioningDelegate?</span></span><br><span class="line">            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œè¿™é‡Œçš„è§†å›¾æ§åˆ¶å™¨å…¬å¼€äº†ç”¨äºè½¬æ¢å§”æ‰˜çš„å¯å†™å±æ€§ï¼Œå¦‚æœè¦è¦†ç›– <code>dafault</code> è¡Œä¸ºï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶æ›´æ”¹å®ƒã€‚</p><blockquote><p>ä½¿ç”¨å±æ€§æ³¨å…¥ï¼Œæ¶ˆè´¹è€…é€šè¿‡å¯å†™å±æ€§è·å¾—å…¶ä¾èµ–å…³ç³»ï¼Œè¯¥å±æ€§ä¹Ÿå…·æœ‰ä¸€äº›é»˜è®¤å€¼ã€‚</p></blockquote></br><h1 id="æœ¬åœ°å’Œå¤–éƒ¨é»˜è®¤è®¾ç½®"><a href="#æœ¬åœ°å’Œå¤–éƒ¨é»˜è®¤è®¾ç½®" class="headerlink" title="æœ¬åœ°å’Œå¤–éƒ¨é»˜è®¤è®¾ç½®"></a><strong>æœ¬åœ°å’Œå¤–éƒ¨é»˜è®¤è®¾ç½®</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå­˜åœ¨è‰¯å¥½çš„æœ¬åœ°é»˜è®¤ä¾èµ–å…³ç³»ï¼Œåˆ™åº”ä½¿ç”¨å±æ€§æ³¨å…¥ã€‚ â€œæœ¬åœ°â€è¡¨ç¤ºåœ¨åŒä¸€æ¨¡å—ä¸­å®šä¹‰ã€‚ nilä¹Ÿæ˜¯ç†æƒ³çš„æœ¬åœ°é»˜è®¤å€¼ï¼Œå®ƒåªæ˜¯ä½¿ä¾èµ–é¡¹æˆä¸ºå¯é€‰é¡¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“å®ç°æ¥è‡ªå•ç‹¬çš„æ¨¡å—æ—¶ï¼Œå®ƒæ˜¯å¤–æ¥çš„ã€‚ç„¶åï¼Œæˆ‘ä»¬ä¸åº”å°†å…¶ç”¨ä½œé»˜è®¤å€¼ã€‚è€Œä¸”æˆ‘ä»¬ä¸åº”è¯¥å°†å±æ€§æ³¨å…¥ç”¨äºè¿™ç§ä¾èµ–æ€§ã€‚ç›¸åï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ³è±¡ä¸€ä¸‹ï¼Œä¼ é€’å§”æ‰˜çš„é»˜è®¤å®ç°ä¸æ˜¯åœ¨ <code>UIKit</code> ä¸­å®šä¹‰çš„ï¼Œè€Œæ˜¯åœ¨å…¶ä»–æ¡†æ¶ä¸­å®šä¹‰çš„ã€‚ç„¶åï¼Œå³ä½¿æˆ‘ä»¬ä»ä¸ä½¿ç”¨æ­¤ <code>API</code> ï¼Œä¹Ÿå§‹ç»ˆéœ€è¦é“¾æ¥åˆ°è¯¥æ¡†æ¶ã€‚ <code>UIKit</code> ä¸è¯¥æ¡†æ¶ç´§å¯†ç»“åˆã€‚å®ƒæ‹–å»¶äº†è¿™ç§æ— ç”¨çš„ä¾èµ–æ€§ã€‚æˆ‘ä»¬è‡ªå·±çš„ä»£ç ä¹Ÿä¼šå‘ç”ŸåŒæ ·çš„æƒ…å†µï¼Œè¿™å°†ä½¿é‡ç”¨å˜å¾—æ›´åŠ å›°éš¾ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸æ„é€ å‡½æ•°æ³¨å…¥å±æ€§æ³¨å…¥è¿›è¡Œæ¯”è¾ƒå¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”ä½¿æˆ‘ä»¬çš„ <code>API</code> çœ‹èµ·æ¥æ›´çµæ´»ã€‚ä½†æ˜¯ä¸æ­¤åŒæ—¶ï¼Œå®ƒå¯èƒ½æ›´éš¾ä»¥å®ç°ï¼Œå¹¶ä½¿æˆ‘ä»¬çš„ä»£ç æ›´è„†å¼±ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é€‚å½“çš„é»˜è®¤å®ç°æˆ–ä»¥é€‚å½“çš„æ–¹å¼å¤„ç†å¯é€‰å€¼ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å¸¦æœ‰å¯é€‰åŒ…è£…çš„å¯é€‰ä»£ç æ··ä¹±ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å±æ€§å®šä¹‰ä¸ºä¸å¯å˜çš„ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³åœ¨è®¾ç½®åå°±å¯¹å…¶è¿›è¡Œæ›´æ”¹ï¼Œåˆ™éœ€è¦ç¡®ä¿åœ¨è¿è¡Œæ—¶è€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ›´æ”¹ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åŒæ­¥å¯¹å…¶è¿›è¡Œè®¿é—®ï¼Œä»¥é˜²æ­¢å‡ºç°çº¿ç¨‹é—®é¢˜ã€‚ç”±äºè¿™äº›åŸå› ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥é¦–é€‰å±æ€§æ³¨å…¥ã€‚</p></br><h1 id="æ–¹æ³•æ³¨å…¥"><a href="#æ–¹æ³•æ³¨å…¥" class="headerlink" title="æ–¹æ³•æ³¨å…¥"></a><strong>æ–¹æ³•æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹ä¸€ä¸ªæ¨¡å¼ï¼Œæ–¹æ³•æ³¨å…¥ï¼Œå°±åƒå°†å‚æ•°ä¼ é€’ç»™æ–¹æ³•ä¸€æ ·ç®€å•ã€‚ ä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯ <code>NSCoding</code> åè®®ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">NSCoding</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">encodeWithCoder</span><span class="params">(aCoder: NSCoder)</span></span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯æ¬¡å°†è¯¥æ–¹æ³•ç§°ä¸ºä¸åŒçš„å®ä¾‹ï¼Œç”šè‡³å¯ä»¥å°† <code>NSCoder</code> çš„å®ç°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</p><blockquote><p>ä½¿ç”¨æ–¹æ³•æ³¨å…¥ä¾èµ–å…³ç³»ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä¾èµ–å…³ç³»éšæ¯ä¸ªæ–¹æ³•è°ƒç”¨è€Œå˜åŒ–æ—¶ï¼Œæˆ–è€…å½“ä¾èµ–å…³ç³»æ˜¯æš‚æ—¶çš„å¹¶ä¸”ä¸éœ€è¦åœ¨æ–¹æ³•èŒƒå›´ä¹‹å¤–ä¿æŒå¯¹å®ƒçš„å¼•ç”¨æ—¶ï¼Œé€šå¸¸ä½¿ç”¨æ–¹æ³•æ³¨å…¥ã€‚</p><h1 id="AMBIENT-CONTEXT"><a href="#AMBIENT-CONTEXT" class="headerlink" title="AMBIENT CONTEXT"></a><strong>AMBIENT CONTEXT</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€åä¸€ç§æ¨¡å¼-ç¯å¢ƒä¸Šä¸‹æ–‡-åœ¨ <code>Cocoa</code> ä¸­å¾ˆéš¾æ‰¾åˆ°ã€‚ <code>NSURLCache</code> å¯èƒ½æ˜¯æœ€æ¥è¿‘çš„ç¤ºä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NSURLCache</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">setSharedURLCache</span>(<span class="title">cache</span>: <span class="title">NSURLCache</span>)</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">class</span> <span class="title">func</span> <span class="title">sharedURLCache</span>() -&gt; <span class="title">NSURLCache</span></span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">&#125;</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°† <code>NSURLCach</code> çš„ä»»ä½•å­ç±»è®¾ç½®ä¸ºå…±äº«å®ä¾‹ï¼Œç„¶åä½¿ç”¨é™æ€ <code>getter</code> è®¿é—®å®ƒã€‚ è¿™æ˜¯å®ƒä¸ä¸å¯å†™çš„å•ä¾‹çš„ä¸»è¦åŒºåˆ«ã€‚</p><blockquote><p>ä½¿ç”¨é™æ€æ–¹æ³•æˆ–å…·æœ‰æŸäº›é»˜è®¤å€¼çš„é™æ€å¯å†™å±æ€§æ¥å®ç°AMBIENT CONTEXTã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤æ¨¡å¼ä»…åº”ç”¨äºè¡¨ç¤ºä¸€äº›è·¨é¢†åŸŸå…³æ³¨ç‚¹çš„çœŸæ­£é€šç”¨ä¾èµ–é¡¹ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ï¼Œæ— æ€§ï¼Œè®¿é—®æ—¶é—´å’Œæ—¥æœŸç­‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>AMBIENT CONTEXT</code> æœ‰å…¶è‡ªèº«çš„ä¼˜åŠ¿ã€‚ å®ƒä½¿ä¾èµ–å…³ç³»å§‹ç»ˆå¯è®¿é—®ï¼Œå¹¶ä¸”ä¸ä¼šæ±¡æŸ“ <code>API</code>ã€‚ éå¸¸é€‚åˆè·¨é¢†åŸŸçš„å…³æ³¨ã€‚ ä½†æ˜¯åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œå®ƒå¹¶ä¸èƒ½è¯æ˜å…¶ç¼ºç‚¹ã€‚ å®ƒä½¿ä¾èµ–å…³ç³»éšå¼åŒ–ï¼Œå¹¶è¡¨ç¤ºå¯èƒ½ä¸æ˜¯æ‚¨æƒ³è¦çš„å…¨å±€å¯å˜çŠ¶æ€ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœä¾èµ–æ€§ä¸æ˜¯çœŸæ­£é€šç”¨çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥è€ƒè™‘ä½¿ç”¨å…¶ä»–DIæ¨¡å¼ã€‚</p><h1 id="å…³æ³¨ç‚¹åˆ†ç¦»"><a href="#å…³æ³¨ç‚¹åˆ†ç¦»" class="headerlink" title="å…³æ³¨ç‚¹åˆ†ç¦»"></a><strong><em>å…³æ³¨ç‚¹åˆ†ç¦»</em></strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œæ‰€æœ‰è¿™äº›æ¨¡å¼éƒ½éå¸¸ç®€å•ï¼Œå®ƒä»¬å…±äº«ä¸€ä¸ªå…±åŒçš„åŸåˆ™-å…³æ³¨ç‚¹åˆ†ç¦»ã€‚æˆ‘ä»¬ä»ä¾èµ–çš„ä½¿ç”¨è€…ä¸­æ¶ˆé™¤äº†å‡ é¡¹è´£ä»»ï¼šä½¿ç”¨ä»€ä¹ˆå…·ä½“å®ç°ï¼Œå¦‚ä½•é…ç½®å®ƒä»¥åŠå¦‚ä½•ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸã€‚è¿™ä½¿æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡æˆ–æµ‹è¯•ä¸­æ›¿æ¢ä¾èµ–å…³ç³»ï¼Œæ›´æ”¹å…¶ç”Ÿå­˜æœŸç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨å…±äº«æˆ–å•ç‹¬çš„å®ä¾‹ï¼Œæˆ–æ›´æ”¹ä¾èµ–å…³ç³»çš„æ„é€ æ–¹å¼ã€‚æ‰€æœ‰è¿™äº›éƒ½æ— éœ€æ”¹å˜å…¶æ¶ˆè´¹è€…ã€‚è¿™ä½¿æ¶ˆè´¹è€…ä¸å†ä¾èµ–äºå®ƒä»¬ï¼Œä»è€Œä½¿å®ƒä»¬æ›´æ˜“äºé‡ç”¨ï¼Œæ‰©å±•ï¼Œå¼€å‘å’Œæµ‹è¯•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›æ¨¡å¼çš„æ˜æ˜¾å‰¯ä½œç”¨æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬ä»£ç çš„æ¯ä¸ªç”¨æˆ·éƒ½éœ€è¦æä¾›å…¶å®šä¹‰ã€‚ä½†æ˜¯ä»–ä»¬å¦‚ä½•å¾—åˆ°å®ƒä»¬ï¼Ÿå¦‚æœä»–ä»¬ç›´æ¥åˆ›å»ºå®ƒä»¬ï¼Œé‚£ä¹ˆå®ƒä»¬å°†ä¸é‚£äº›ä¾èµ–å…³ç³»ç´§å¯†åœ°è”ç³»åœ¨ä¸€èµ·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªæ˜¯å°†é—®é¢˜ç§»åˆ°å¦ä¸€ä¸ªåœ°æ–¹ã€‚è¿™ä¸ªé—®é¢˜å°†æˆ‘ä»¬å¸¦åˆ°äº†æ‰€è°“çš„â€œåˆæˆæ ¹â€ï¼ˆCompound Rootï¼‰é—®é¢˜ä¸Šã€‚</p></br><h1 id="COMPOSITION-ROOT"><a href="#COMPOSITION-ROOT" class="headerlink" title="COMPOSITION ROOT"></a><strong>COMPOSITION ROOT</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>COMPOSITION ROOT</code> æ˜¯å°†åº”ç”¨ç¨‹åºä¸åŒå±‚çš„ç»„ä»¶è¿æ¥åœ¨ä¸€èµ·çš„åœ°æ–¹ã€‚ æ‹¥æœ‰å¤åˆæ ¹çš„ä¸»è¦ç›®çš„æ˜¯å°†é…ç½®é€»è¾‘ä¸æˆ‘ä»¬å…¶ä½™çš„ä»£ç åˆ†å¼€ï¼Œå¹¶ä»¥é€šç”¨çš„æ–¹å¼åœ¨å®šä¹‰æ˜ç¡®çš„ä½ç½®è¿›è¡Œé…ç½®ã€‚ æ‹¥æœ‰ä¸€æ®µä»£ç ï¼Œå•ä¸ªèŒè´£å°±æ˜¯é…ç½®å…¶ä»–ç»„ä»¶ã€‚ åˆ›å»ºä¾èµ–å…³ç³»å¹¶å°†å…¶æ³¨å…¥åˆ°æ„é€ å‡½æ•°æˆ–å±æ€§ä¸­åªèƒ½åœ¨â€œåˆæˆæ ¹ç›®å½•â€ä¸­å®Œæˆã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/di-stp1.png" alt="COMPOSITION ROOT"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç†æƒ³æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºä¸­åº”è¯¥æœ‰ä¸€ä¸ª<code>COMPOSITION ROOT</code>ï¼Œå¹¶ä¸”å®ƒåº”è¯¥é è¿‘åº”ç”¨ç¨‹åºå…¥å£ç‚¹ã€‚ å°±åƒè¿™å¼ å›¾ä¸€æ ·ã€‚ ä½†æ˜¯ä¸å¿…ä½¿ç”¨å•ä¸ªæ–¹æ³•æˆ–ç±»æ¥å®ç°ã€‚ å®ƒå¯ä»¥åŒ…å«æ‰€éœ€çš„å¤šä¸ªç±»å’Œæ–¹æ³•ï¼Œç›´åˆ°å®ƒä»¬åœ¨åŒä¸€ç»„ä»¶å±‚ä¸­åœ¨ä¸€èµ·ä¸ºæ­¢ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¿™æ˜¯VIPERç¤ºä¾‹åº”ç”¨ç¨‹åºä¸­ <code>COMPOSITION ROOT</code> çš„ç¤ºä¾‹å®ç°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDependencies</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        configureDependencies()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">configureDependencies</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// Root Level Classes</span></span><br><span class="line">        <span class="keyword">let</span> coreDataStore = <span class="type">CoreDataStore</span>()</span><br><span class="line">        <span class="keyword">let</span> clock = <span class="type">DeviceClock</span>()</span><br><span class="line">        <span class="keyword">let</span> rootWireframe = <span class="type">RootWireframe</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// List Module Classes</span></span><br><span class="line">        <span class="keyword">let</span> listPresenter = <span class="type">ListPresenter</span>()</span><br><span class="line">        <span class="keyword">let</span> listDataManager = <span class="type">ListDataManager</span>()</span><br><span class="line">        <span class="keyword">let</span> listInteractor = <span class="type">ListInteractor</span>(dataManager: listDataManager, clock: clock)</span><br><span class="line">        ...    </span><br><span class="line">        listInteractor.output = listPresenter</span><br><span class="line">        listPresenter.listInteractor = listInteractor</span><br><span class="line">        listPresenter.listWireframe = listWireframe</span><br><span class="line">        listWireframe.addWireframe = addWireframe</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€äº›æ ¹ç±»ï¼Œä»…ç®¡ç†çª—å£æ ¹è§†å›¾æ§åˆ¶å™¨çš„æ ¹çº¿æ¡†ä»¥åŠä¸€äº›å¾…åŠäº‹é¡¹åˆ—è¡¨çš„å•ç‹¬ç»„ä»¶ï¼Œä¾‹å¦‚æ¼”ç¤ºè€…ï¼Œäº¤äº’å™¨ï¼Œçº¿æ¡†ã€‚ ç„¶åï¼Œæˆ‘ä»¬å°†å®ƒä»¬å…¨éƒ¨è¿æ¥åœ¨ä¸€èµ·ã€‚ å®ƒå…¨éƒ¨åœ¨ä¸€ç±»ä¸­å®ç°ã€‚ æˆ‘ä»¬ä½¿ç”¨æ­¤ç±»çš„å”¯ä¸€åœ°æ–¹æ˜¯åº”ç”¨ç¨‹åºå§”æ‰˜ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> window: <span class="type">UIWindow?</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> appDependencies = <span class="type">AppDependencies</span>()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        application: UIApplication, </span></span></span><br><span class="line"><span class="function"><span class="params">        didFinishLaunchingWithOptions launchOptions: [NSObject : AnyObject]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        </span><br><span class="line">        appDependencies.installRootViewControllerIntoWindow(window!)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¾èµ–é¡¹ç±»ï¼Œå®ƒå°†é…ç½®æ‰€æœ‰ç»„ä»¶å¹¶å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·ã€‚ ç„¶åï¼Œæˆ‘ä»¬åªè°ƒç”¨ä¸€ä¸ªåœ¨çª—å£ä¸­è®¾ç½®æ ¹è§†å›¾æ§åˆ¶å™¨çš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œå°†é€šè¿‡ä¸€ä¸ªè°ƒç”¨åœ¨æ­¤å¤„åˆ›å»ºæ•´ä¸ªå¯¹è±¡å›¾ï¼Œå¹¶ä¸”ç¨åå°†åœ¨è¿è¡Œæ—¶åˆ›å»ºçš„å”¯ä¸€å¯¹è±¡æ˜¯è§†å›¾æ§åˆ¶å™¨å’Œè§†å›¾ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸ï¼Œå…³äºDIçš„æ–‡ç« æˆ–è®¨è®ºä¸­é€šå¸¸ä¸ä¼šè®¨è®ºä¸å¹¸çš„æˆåˆ†æ ¹ã€‚ ä½†è¿™å¯èƒ½æ˜¯ä¾èµ–æ³¨å…¥çš„æœ€é‡è¦éƒ¨åˆ†ä¹‹ä¸€ã€‚ å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å·²ç»èµ°äº†å¾ˆé•¿ä¸€æ®µè·¯ã€‚</p><blockquote><p>æ­£ç¡®å®ç°DIçš„æœ€å¤§æŒ‘æˆ˜æ˜¯å°†æ‰€æœ‰å…·æœ‰ä¾èµ–é¡¹çš„ç±»ç§»è‡³Composition Rootã€‚ - Mark Seeman</p></blockquote><h1 id="åæ¨¡å¼"><a href="#åæ¨¡å¼" class="headerlink" title="åæ¨¡å¼"></a><strong>åæ¨¡å¼</strong></h1><p>ä½†æ˜¯ï¼Œç”±äºåœ¨å°è¯•æ­£ç¡®å®ç°æŸäº›æ¨¡å¼æ—¶ç»å¸¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå› æ­¤æˆ‘ä»¬å¾ˆå®¹æ˜“ä»¥åæ¨¡å¼ç»“æŸã€‚ å› æ­¤ï¼Œç°åœ¨è®©æˆ‘ä»¬è¿›å…¥é»‘æš—çš„ä¸€é¢ï¼Œçœ‹çœ‹ä»€ä¹ˆæ˜¯å¸¸è§çš„DIåæ¨¡å¼ã€‚</p><h1 id="æ§åˆ¶æ€ªèƒ"><a href="#æ§åˆ¶æ€ªèƒ" class="headerlink" title="æ§åˆ¶æ€ªèƒ"></a><strong>æ§åˆ¶æ€ªèƒ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€ä¸ªæ˜¯æ§åˆ¶ç‹‚ã€‚ é‚£å°±æ˜¯å½“æˆ‘ä»¬æ ¹æœ¬ä¸ä½¿ç”¨DIçš„æ—¶å€™ã€‚ ä¾èµ–é¡¹çš„ä½¿ç”¨è€…ä½•æ—¶æ§åˆ¶åˆ›å»ºä¾èµ–é¡¹çš„æ–¹å¼å’Œæ—¶é—´ã€‚ æ¯å½“ä½¿ç”¨è€…åœ¨ <code>Composition Root</code> ä¹‹å¤–çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨æ„é€ å‡½æ•°ç›´æ¥æˆ–é—´æ¥è·å¾—ä¾èµ–é¡¹æ—¶ï¼Œéƒ½ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ ä¾‹å¦‚ï¼Œåœ¨å…¶è‡ªå·±çš„æ„é€ å‡½æ•°ä¸­æˆ–ä»…åœ¨éœ€è¦æ—¶ä½¿ç”¨ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecipesService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> repository: <span class="type">RecipesRepository</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.repository = <span class="type">CoreDataRecipesRepository</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†è¿™æ˜¯å¦æ„å‘³ç€æ ¹æœ¬ä¸å…è®¸æˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°ï¼Ÿ å½“ç„¶ä¸æ˜¯ã€‚ è¿™å–å†³äºæˆ‘ä»¬æ„å»ºçš„ä¾èµ–ç±»å‹ã€‚</p><h1 id="ç¨³å®šå’Œæ³¢åŠ¨çš„ä¾èµ–"><a href="#ç¨³å®šå’Œæ³¢åŠ¨çš„ä¾èµ–" class="headerlink" title="ç¨³å®šå’Œæ³¢åŠ¨çš„ä¾èµ–"></a><strong>ç¨³å®šå’Œæ³¢åŠ¨çš„ä¾èµ–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ƒä»¬æœ‰ä¸¤ç§-ç¨³å®šçš„å’Œæ˜“å˜çš„ã€‚å½“æ¶‰åŠåˆ°ç¨³å®šçš„ä¾èµ–å…³ç³»æ—¶ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒç›´æ¥åœ¨å…¶ä½¿ç”¨è€…å†…éƒ¨æ„é€ å®ƒä»¬ã€‚ä½†æ˜¯æˆ‘ä»¬åº”è¯¥é¿å…å¯¹ä¸ç¨³å®šçš„ä¾èµ–é¡¹è¿™æ ·åšã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»€ä¹ˆæ˜¯æ˜“å¤±æ€§ä¾èµ–é¡¹ï¼Ÿéœ€è¦æŸç§ç‰¹å®šç¯å¢ƒè®¾ç½®ï¼ˆä¾‹å¦‚æ•°æ®åº“æˆ–ç½‘ç»œè®¿é—®ï¼‰çš„ä»»ä½•ä¾èµ–é¡¹ã€‚å®ç°ä¸ç¡®å®šæ€§è¡Œä¸ºçš„ä¾èµ–é¡¹æ˜¯æ˜“å˜çš„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœå®ƒä»¬ä½¿ç”¨éšæœºæ•°ï¼Œä¾èµ–äºæ—¶é—´æˆ–å®ç°åŠ å¯†ï¼Œåˆ™å®ƒä»¬æ˜¯æ˜“å˜çš„ã€‚å½“æˆ‘ä»¬æœŸæœ›ä¾èµ–é¡¹å°†è¢«æ›¿æ¢æˆ–è€…ç”±äºå®ƒæ˜¯å¹¶è¡Œå¼€å‘è€Œå°šæœªå‡†å¤‡å°±ç»ªæ—¶ï¼Œå®ƒä¹Ÿæ˜¯æ˜“å˜çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜“å¤±æ€§ä¾èµ–é¡¹çš„ç—‡çŠ¶æ˜¯å®ƒä»¬ç¦ç”¨äº†ä¸€äº›å®½æ¾çš„è€¦åˆå¥½å¤„ã€‚å¦‚æœä¾èµ–å…³ç³»ä¸å…è®¸æˆ‘ä»¬å¹¶è¡Œæµ‹è¯•ï¼Œæ‰©å±•ï¼Œé‡ç”¨æˆ–å¼€å‘æˆ‘ä»¬çš„ä»£ç ï¼Œåˆ™åº”å°†å…¶è§†ä¸ºæ˜“å˜çš„ã€‚å¦åˆ™ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¨³å®šçš„ä¾èµ–é¡¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¾èµ–é¡¹æ˜¯æ˜“å¤±æ€§è¿˜æ˜¯â€‹â€‹ç¨³å®šçš„ï¼Œå¹¶åœ¨å…¶æ˜“å¤±æ€§æ—¶ä½¿ç”¨â€œä¾èµ–é¡¹æ³¨å…¥â€æ¨¡å¼æ³¨å…¥å®ƒã€‚</p><h1 id="Bastard-æ³¨å…¥"><a href="#Bastard-æ³¨å…¥" class="headerlink" title="Bastard æ³¨å…¥"></a><strong>Bastard æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹ä¸€ä¸ªåæ¨¡å¼ç§°ä¸º <code>Bastard</code> æ³¨å…¥ã€‚ å½“æˆ‘ä»¬æœ‰è®©æˆ‘ä»¬ä¸ºæµ‹è¯•æä¾›ä¾èµ–å…³ç³»çš„æ„é€ å‡½æ•°ä»¥åŠåœ¨ç”Ÿäº§ä¸­ä½¿ç”¨é»˜è®¤å®ç°çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ åœ¨ <code>Swift</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„é»˜è®¤å‚æ•°è½»æ¾åœ°åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecipesService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> repository: <span class="type">RecipesRepository</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(repository: <span class="type">RecipesRepository</span> = <span class="type">CoreDataRecipesRepository</span>()) &#123;</span><br><span class="line">        <span class="keyword">self</span>.repository = repository</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»æŸä¸€æ–¹é¢æ¥çœ‹ï¼Œè¿™ç§æ¨¡å¼æé«˜äº†å¯æµ‹è¯•æ€§ã€‚ è¿™ç§åæ¨¡å¼çš„é—®é¢˜æ˜¯ä½¿ç”¨é»˜è®¤çš„å¤–éƒ¨é»˜è®¤å€¼-åœ¨å…¶ä»–æ¨¡å—ä¸­å®šä¹‰ã€‚ è¿™ä½¿æˆ‘ä»¬çš„ä»£ç å¯æµ‹è¯•ï¼Œä½†ä¸å¦ä¸€ä¸ªæ¨¡å—ç´§å¯†è€¦åˆã€‚ å¦‚æœé»˜è®¤å®ç°æ˜¯æœ¬åœ°çš„ï¼Œåˆ™æ­¤åæ¨¡å¼çš„å½±å“ä¼šå°å¾—å¤šã€‚ ä¹Ÿè®¸æœ€å¥½å°†å…¶é‡æ„ä¸ºå±æ€§æ³¨å…¥ã€‚ ä½†æ˜¯ï¼Œå½“é»˜è®¤å®ç°æ˜¯å¤–éƒ¨å®ç°æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥ï¼Œå¹¶ä¸”ä¸è¦ä¸ºæ­¤å‚æ•°æä¾›é»˜è®¤å€¼ã€‚ ç›¸åï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ <code>â€œComposition Rootâ€</code> ä¸­æä¾›å®ƒã€‚ è¿™æ ·æˆ‘ä»¬å°±ä¸ä¼šå¤±å»ä»»ä½•çµæ´»æ€§ï¼Œè€Œæ˜¯é¿å…ä¸å¦ä¸€ä¸ªæ¨¡å—ç´§å¯†è€¦åˆã€‚</p><h1 id="æœåŠ¡å®šä½å™¨"><a href="#æœåŠ¡å®šä½å™¨" class="headerlink" title="æœåŠ¡å®šä½å™¨"></a><strong>æœåŠ¡å®šä½å™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è¦è®¨è®ºçš„æœ€åä¸€ä¸ªåæ¨¡å¼æ˜¯æœåŠ¡å®šä½å™¨ã€‚ æœåŠ¡å®šä½å™¨æ˜¯æŸäº›æœåŠ¡çš„é€šç”¨åç§°ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢ä»¥å‰åœ¨å…¶ä¸­æ³¨å†Œçš„ä¸åŒå¯¹è±¡ã€‚ è¿™æ˜¯æœ€æ£˜æ‰‹çš„åæ¨¡å¼ï¼Œå› ä¸ºå®ƒå¯ä»¥ä½¿æˆ‘ä»¬æ„Ÿåˆ°ä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚ è®¸å¤šå¼€å‘äººå‘˜ç”šè‡³æ ¹æœ¬ä¸è®¤ä¸ºå®ƒæ˜¯åæ¨¡å¼ã€‚ ä½†æ˜¯ <code>Service Locator</code> å®é™…ä¸Šä¸ä¾èµ–æ³¨å…¥ç›¸åã€‚</p><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> locator = <span class="type">ServiceLocator</span>.sharedInstance</span><br><span class="line"></span><br><span class="line">locator.register( &#123; <span class="type">CoreDataRecipesRepository</span>() &#125;, </span><br><span class="line">                    forType: <span class="type">RecipesRepository</span>.<span class="keyword">self</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecipesService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> repository: <span class="type">RecipesRepository</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">let</span> locator = <span class="type">ServiceLocator</span>.sharedInstance</span><br><span class="line">        <span class="keyword">self</span>.repository = locator.resolve(<span class="type">RecipesRepository</span>.<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº›å¯ä»¥ä½¿ç”¨é™æ€å±æ€§è®¿é—®çš„æœåŠ¡ã€‚ç„¶åï¼Œå¯¹äºæˆ‘ä»¬çš„ä¾èµ–å…³ç³»ç±»å‹ï¼Œæˆ‘ä»¬æ³¨å†Œä¸€ä¸ªäº§ç”Ÿä¸€äº›å…·ä½“å®ä¾‹çš„å·¥å‚ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨éœ€è¦æ—¶å‘æ­¤æœåŠ¡è¯¢é—®æˆ‘ä»¬çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°æˆ–å±æ€§æ³¨å…¥ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¼¼ä¹ <code>Service Locator</code> æä¾›äº†ä¾èµ–æ³¨å…¥çš„æ‰€æœ‰å¥½å¤„ã€‚å®ƒæé«˜äº†å¯æ‰©å±•æ€§å’Œå¯æµ‹è¯•æ€§ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ³¨å†Œä¾èµ–çš„å¦â€‹â€‹ä¸€ç§å®ç°è€Œæ— éœ€æ›´æ”¹å…¶ä½¿ç”¨è€…ã€‚å®ƒå°†é…ç½®ä¸ä½¿ç”¨åˆ†å¼€ï¼Œè¿˜æ”¯æŒå¹¶è¡Œå¼€å‘ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯å®ƒæ²¡æœ‰å‡ ä¸ªä¸»è¦ç¼ºç‚¹ã€‚å®ƒä½¿ä¾èµ–é¡¹éšå¼è€Œä¸æ˜¯æ˜¾å¼ï¼Œä»è€Œéšè—äº†çœŸå®ç±»çš„å¤æ‚æ€§ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨æ­¤ç±»ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦äº†è§£å…¶å†…éƒ¨è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°å®ƒçš„ä¾èµ–å…³ç³»ï¼Œåªä¼šåœ¨è¿è¡Œæ—¶æˆ–é€šè¿‡æ£€æŸ¥å…¶å®ç°æˆ–æ–‡æ¡£æ¥æ‰¾åˆ°å®ƒä»¬çš„ä¾èµ–å…³ç³»ã€‚å€ŸåŠ©æœåŠ¡å®šä½å™¨ï¼Œæˆ‘ä»¬çš„ä»£ç ä¹Ÿä¸ä¹‹ç´§å¯†ç»“åˆã€‚è¿™å®Œå…¨ç ´åäº†å¯é‡ç”¨æ€§ï¼Œå¹¶ä½¿ä»£ç çš„å¯ç»´æŠ¤æ€§é™ä½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºè¿™äº›åŸå› ï¼Œæˆ‘å€¾å‘äºè®¤ä¸º <code>Service Locator</code> æ˜¯ä¸€ç§åæ¨¡å¼ã€‚è€Œä¸æ˜¯ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬åº”è¯¥æ˜¾å¼å®šä¹‰ä¾èµ–é¡¹ï¼Œä½¿ç”¨ <code>DI</code> æ¨¡å¼æ³¨å…¥å®ƒä»¬ï¼Œå¹¶ä½¿ç”¨ <code>Composition Root</code> å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œè®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹åˆ°é‚£æ—¶ä¸ºæ­¢æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡çš„å†…å®¹ã€‚æˆ‘ä»¬è®¨è®ºäº†ä¾èµ–æ³¨å…¥ç”¨äºå®ç°æ¾æ•£è€¦åˆï¼Œè¿™ä½¿æˆ‘ä»¬çš„ä»£ç æ›´æ˜“äºç»´æŠ¤ã€‚æˆ‘ä»¬è®¨è®ºäº†ä¸åŒçš„ <code>DI</code> æ¨¡å¼ï¼Œå…¶ä¸­åº”è¯¥ä¼˜å…ˆé€‰æ‹©æ„é€ å‡½æ•°æ³¨å…¥ã€‚æˆ‘ä»¬è®¨è®ºäº†ä»€ä¹ˆæ˜¯æœ¬åœ°å’Œå¤–éƒ¨ä¾èµ–å…³ç³»ä»¥åŠä»€ä¹ˆæ˜¯ç¨³å®šå’Œæ˜“å¤±æ€§ä¾èµ–å…³ç³»ã€‚æˆ‘ä»¬è¿˜è®¨è®ºäº†åº”é¿å…çš„å¸¸è§ <code>DI</code> åæ¨¡å¼ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>DI</code> æ¨¡å¼å°†ä¾èµ–å…³ç³»æ˜ç¡®åŒ–ï¼Œå¹¶å°†æ‰€æœ‰é…ç½®ç§»åˆ°äº† <code>Composition Root</code> ä¸­ï¼Œè¿™å·²ç»æ˜¯æˆ‘ä»¬å®ç°ç›®æ ‡çš„ä¸€å¤§æ­¥-æ¾æ•£è€¦åˆã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯æˆ‘ä»¬çš„ä»£ç è¿˜æ²¡æœ‰å®Œå…¨è€¦åˆã€‚ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨æŠ½è±¡å¯¹ä¾èµ–å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚è®©æˆ‘ä»¬è®°ä½ <code>SOLID</code> åŸåˆ™ä¹‹ä¸€ã€‚</p></br><h1 id="ä¾èµ–åè½¬åŸç†ï¼ˆDIPï¼‰"><a href="#ä¾èµ–åè½¬åŸç†ï¼ˆDIPï¼‰" class="headerlink" title="ä¾èµ–åè½¬åŸç†ï¼ˆDIPï¼‰"></a><strong>ä¾èµ–åè½¬åŸç†ï¼ˆDIPï¼‰</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾èµ–åè½¬åŸåˆ™è¯´ï¼Œé«˜çº§ä»£ç ä¸åº”ä¾èµ–äºä½çº§ä»£ç ï¼Œå®ƒä»¬éƒ½åº”ä¾èµ–äºæŠ½è±¡ï¼Œè€ŒæŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ã€‚å…³é”®æ˜¯è¯¥ç±»åŠå…¶ä¾èµ–é¡¹åº”å¤„äºç›¸åŒçš„æŠ½è±¡çº§åˆ«ã€‚å¦‚æœæˆ‘ä»¬æœ‰ä¸€äº›æœåŠ¡ï¼Œå®ƒä¸åº”è¯¥ä¾èµ–äºå…·ä½“çš„APIå­˜å‚¨åº“æˆ–æ•°æ®åº“å­˜å‚¨åº“ï¼Œå› ä¸ºå®ƒä»¬å±äºè¾ƒä½å±‚ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸åº”ä¾èµ–é€šè¿‡ <code>Alamofire</code> å®ç°çš„ <code>API</code> å­˜å‚¨åº“æˆ–é€šè¿‡ <code>CoreData</code> æˆ– <code>Realm</code> å®ç°çš„æ•°æ®åº“å­˜å‚¨åº“ã€‚å› ä¸ºè¿™å°†ä½¿æˆ‘ä»¬çš„ä»£ç ä¸ç‰¹å®šçš„å®ç°ç´§å¯†ç»“åˆã€‚ç›¸åï¼Œæˆ‘ä»¬åº”è¯¥ä¾é æ›´é«˜çº§åˆ«çš„æŠ½è±¡ã€‚æœåŠ¡å’Œå­˜å‚¨åº“éƒ½åº”ä¾èµ–äºè¯¥æŠ½è±¡ã€‚å› æ­¤ï¼Œè¾ƒé«˜å’Œè¾ƒä½çº§åˆ«ä¹‹é—´çš„ä¾èµ–æ€§æ–¹å‘æ˜¯ç›¸åçš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬åº”è¯¥éµå¾ªè¿™ä¸€åŸåˆ™æ¥æ¾æ•£è€¦åˆä»£ç ã€‚ä¾èµ–æ³¨å…¥ä¸ä»…æ˜¯æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„æ¨¡å¼ã€‚å®ƒè¦æ±‚åŒæ—¶åº”ç”¨æ¨¡å¼å’Œä¾èµ–å€’ç½®åŸåˆ™ã€‚æ²¡æœ‰è¿™äº›ï¼Œæˆ‘ä»¬å°†æ— æ³•è·å¾—æ¾è€¦åˆçš„æ‰€æœ‰å¥½å¤„ã€‚</p><blockquote><p><strong><em>DI = DI patterns + DIP</em></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šå¸¸è¯´ï¼Œæ¾æ•£è€¦åˆæ˜¯é€šè¿‡é’ˆå¯¹æ¥å£è€Œä¸æ˜¯é’ˆå¯¹å®ç°è¿›è¡Œç¼–ç¨‹æ¥å®ç°çš„ã€‚</p><blockquote><p><strong><em>ç¼–ç¨‹åˆ°æ¥å£è€Œä¸æ˜¯å®ç°ï¼ˆè®¾è®¡æ¨¡å¼ï¼šå¯é‡ç”¨çš„é¢å‘å¯¹è±¡è½¯ä»¶çš„å…ƒç´ </em></strong>ï¼‰</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ä¾èµ–å€’ç½®åŸåˆ™è¯´å®ƒä¸æ˜¯å…³äºæ¥å£ï¼Œè€Œæ˜¯å…³äºæŠ½è±¡ã€‚ æ¾è€¦åˆå¹¶ä¸æ„å‘³ç€åˆ°å¤„éƒ½æœ‰æ¥å£æˆ–åè®®ã€‚ å› ä¸ºå¹¶éæ€»æ˜¯æ¥å£æ˜¯å¥½çš„å’Œå¯é‡ç”¨çš„æŠ½è±¡ã€‚</p><blockquote><p><strong><em>ç¼–ç¨‹ä¸º <del>æ¥å£</del> æŠ½è±¡</em></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥å£ï¼ˆæˆ–åè®®ï¼‰åªæ˜¯ä¸€ç§æˆ‘ä»¬å¯ä»¥ç”¨æ¥å¯¹æŠ½è±¡è¿›è¡Œå»ºæ¨¡çš„è¯­è¨€æ„é€ ã€‚ è¿™æ˜¯æˆ‘ä»¬çš„ä»£ç ä¸ä¹‹é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚ ä½†è¿™å¹¶ä¸èƒ½ä¿è¯è‰¯å¥½å’Œå¯é‡ç”¨çš„æŠ½è±¡ï¼Œè¿™æ˜¯æ¾æ•£è€¦åˆçš„å…³é”®ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸºç±»æœ‰æ—¶å¯ä»¥å’Œåè®®ä¸€æ ·å¥½çš„æŠ½è±¡ã€‚ å½“ç„¶ï¼Œå¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨åè®®å¯¹æŠ½è±¡è¿›è¡Œå»ºæ¨¡ã€‚ ä½†æ˜¯åœ¨å„å¤„å¼•å…¥åè®®æ—¶è¦å°å¿ƒã€‚ å®ƒå¯èƒ½æ˜¯ä¸éœ€è¦çš„ç‹¬ç«‹çº§åˆ«ã€‚ åœ¨Swiftåè®®ä¸­ï¼Œæœ‰æ—¶ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</p><blockquote><p><strong><em>Interfaces are not abstractions - Mark Seeman</em></strong> </p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/di-stp2.png" alt="Interfaces&amp;&amp;abstractions"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä½ åœ¨æ„é€ å‡½æ•°ä¸­ä¼ é€’ä¾èµ–é¡¹æˆ–ä½¿ç”¨å±æ€§æˆ–æ–¹æ³•æ³¨å…¥æ—¶-æ‚¨åº”å°†å…¶ä½œä¸ºæŠ½è±¡ä¼ é€’ï¼ˆåŒæ ·ï¼Œä¸å¿…ä½¿ç”¨åè®®ï¼‰ã€‚ å¦‚æœä½¿ç”¨ <code>ambinet</code>ä¸Šä¸‹æ–‡ï¼Œåˆ™ç›¸åŒã€‚ å®ƒä¸ä»…æ˜¯ä¸€äº›å…±äº«çš„é™æ€å®ä¾‹ï¼Œè¿˜åº”è¯¥æ˜¯æŠ½è±¡çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œä¾èµ–æ³¨å…¥å’Œæ¾æ•£è€¦åˆä¸ä»…å¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥æ¨¡å¼æ¥å®ç°ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡ä¾èµ–åè½¬åŸç†ä»¥åŠä½¿ç”¨æŠ½è±¡å¯¹ä¾èµ–å…³ç³»è¿›è¡Œå»ºæ¨¡æ¥å®ç°ã€‚</p></br><h1 id="æ§åˆ¶å’ŒDIå®¹å™¨çš„åè½¬"><a href="#æ§åˆ¶å’ŒDIå®¹å™¨çš„åè½¬" class="headerlink" title="æ§åˆ¶å’ŒDIå®¹å™¨çš„åè½¬"></a><strong>æ§åˆ¶å’ŒDIå®¹å™¨çš„åè½¬</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œä½¿ç”¨å¦ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é‡‡å–è¿›ä¸€æ­¥çš„æªæ–½ã€‚è¯¥åŸç†ç§°ä¸ºæ§åˆ¶åè½¬ã€‚é€šå¸¸å°†å…¶è§†ä¸ºæ¡†æ¶çš„å®šä¹‰ç‰¹å¾ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘ä»¬ä½¿ç”¨åº“æ—¶ï¼Œæµç¨‹æ˜¯â€œæ­£å¸¸çš„â€ï¼Œæˆ‘ä»¬ä»ä»£ç ä¸­è°ƒç”¨åº“ã€‚ä½†æ˜¯åœ¨æ¡†æ¶çš„æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯å€’ç½®çš„-æ¡†æ¶ä½¿ç”¨ä¸åŒçš„å›è°ƒæ–¹æ³•è°ƒç”¨æˆ‘ä»¬çš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¹¶ä¸”æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸€åŸç†åº”ç”¨äºä½¿ç”¨ç‰¹æ®Šæ¡†æ¶æ¥ç®¡ç†ä¾èµ–é¡¹ã€‚é€šå¸¸ï¼Œè¿™äº›æ¡†æ¶ç§°ä¸ºä¾èµ–æ³¨å…¥å®¹å™¨ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰è®¸å¤šä¸åŒçš„å®¹å™¨å¯ç”¨ã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°äººå¯èƒ½ç”šè‡³ä¸çŸ¥é“ä½¿ç”¨äº†ä¸€ä¸ªDIå®¹å™¨ã€‚å®ƒæ˜¯ <code>Interface Builder</code> ã€‚åœ¨ <code>Interface Builder</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¥å£æˆ–åŸºç±»ä½¿ç”¨ <code>@IBOutlet</code> æ‹–æ”¾ä»»ä½• <code>NSObject</code> å¹¶å¯¹å…¶è¿›è¡Œå¼•ç”¨ã€‚ä¸è§†å›¾æ§åˆ¶å™¨ç›¸åŒã€‚æˆ‘ä»¬å¯ä»¥å°†æƒ…èŠ‚æè¦å’Œ <code>Xibs</code> è§†ä¸ºè§†å›¾æ§åˆ¶å™¨çš„å·¥å‚ã€‚ <code>Interface Builder</code>æ˜¯ <code>XML</code> é…ç½®æ ·å¼çš„ç¤ºä¾‹ã€‚å½“ç„¶ï¼Œå®ƒä¸æ˜¯åŠŸèƒ½é½å…¨çš„ <code>DI</code> å®¹å™¨ï¼Œä¹Ÿä¸æ˜¯å…¶ä¸»è¦ç›®æ ‡ï¼Œä½†ä»ç„¶å¯ä»¥ç”¨äºè¯¥ç›®çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ è®¿é—® <code>CocoaPods</code> å¹¶æœç´¢â€œä¾èµ–æ³¨å…¥â€ï¼Œåˆ™ä¼šå‘ç°å¾ˆå¤šä¸åŒçš„å¼€æº <code>DI</code> å®¹å™¨ã€‚ä¹Ÿè®¸ç”šè‡³å¤ªå¤šäº†ã€‚ä½†æ˜¯ä½ ä¼šæ³¨æ„åˆ°ï¼Œå…¶ä¸­åªæœ‰å°‘æ•°æˆåŠŸå’Œæµè¡Œã€‚è®©æˆ‘ä»¬ç®€çŸ­åœ°çœ‹ä¸€ä¸‹å…¶ä¸­çš„ä¸¤ä¸ª-ä¸€ä¸ªæ¥è‡ª <code>Objective-C</code> ï¼Œå¦ä¸€ä¸ªæ¥è‡ª <code>Swift</code> ã€‚</p></br><h1 id="TYPHOON"><a href="#TYPHOON" class="headerlink" title="TYPHOON"></a><strong>TYPHOON</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€ä¸ªæ˜¯ <strong><em><a href="http://typhoonframework.org" target="_blank" rel="noopener"><code>Typhoon</code></a></em></strong> ï¼Œå®ƒå¯èƒ½æ˜¯ <code>Cocoa</code> å¼€å‘è€…ä¸­æœ€å—æ¬¢è¿çš„DIå®¹å™¨ã€‚ å®ƒå…·æœ‰ç›¸å¯¹ç®€å•ä¸”æ–‡æ¡£é½å…¨çš„ <code>API</code> ï¼Œå…·æœ‰è®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ã€‚ å®ƒå¾—åˆ°äº†è‰¯å¥½çš„ç»´æŠ¤å’Œæ”¯æŒï¼Œå¹¶ä¸”ä»å°†ç»§ç»­æ”¹è¿›ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°± <code>API</code> <code>Typhoon</code> è€Œè¨€ï¼Œæ„ä»¶æ˜¯ç§°ä¸ºç¨‹åºé›†çš„å¯¹è±¡ã€‚ è¿™æ˜¯æ­¤ç±»è£…é…æ¥å£çš„ç¤ºä¾‹ã€‚ å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªç®€å•çš„å·¥å‚ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">APIClientAssembly</span>: <span class="title">TyphoonAssembly</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">apiClient</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123; </span><br><span class="line">        ... </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">session</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123; </span><br><span class="line">        ... </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">logger</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123; </span><br><span class="line">        ... </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯åœ¨å®ç°ä¸­ï¼Œä¸æ˜¯è¿”å›æŸç§ç±»å‹çš„å…·ä½“å®ä¾‹ï¼ˆå¦‚ä»å·¥å‚æ–¹æ³•ä¸­è¿”å›ï¼‰ï¼Œè€Œæ˜¯è¿”å› <code>TyphoonDefinition</code> ï¼Œå®ƒæè¿°äº†åœ¨è¯·æ±‚å®ä¾‹æ—¶åº”å¦‚ä½•åˆ›å»ºè¯¥å®ä¾‹ã€‚ åº”è¯¥ä½¿ç”¨ä»€ä¹ˆåˆå§‹åŒ–ä»¥åŠä½¿ç”¨ä»€ä¹ˆå‚æ•°ï¼Œåº”è¯¥æ³¨å…¥ä»€ä¹ˆå±æ€§ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">apiClient</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">TyphoonDefinition</span>.withClass(<span class="type">APIClientImp</span>.<span class="keyword">self</span>) &#123; definition <span class="keyword">in</span></span><br><span class="line">        </span><br><span class="line">        definition.useInitializer(#selector(<span class="type">APIClientImp</span>.<span class="keyword">init</span>(session:))) &#123;</span><br><span class="line">            initializer <span class="keyword">in</span></span><br><span class="line">            </span><br><span class="line">            initializer.injectParameterWith(<span class="keyword">self</span>.session())</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        definition.injectProperty(<span class="string">"logger"</span>, with: <span class="keyword">self</span>.logger())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰ <code>API Client</code> å°†ä½¿ç”¨ <code>initï¼ˆsession :)</code> æ„é€ å‡½æ•°åˆ›å»ºï¼Œå¹¶ä¸”å…¶ <code>session</code> å‚æ•°å°†ç”±åŒä¸€ç¨‹åºé›†æä¾›ã€‚ æˆ‘ä»¬è¿˜å®šä¹‰äº†å°†ç”±åŒæ ·çš„ç¨‹åºé›†æä¾›çš„ <code>logger</code> å®ä¾‹æ³¨å…¥ <code>logger</code> å±æ€§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç»„ä»¶å®šä¹‰ä¸åŒçš„èŒƒå›´æˆ–ç”Ÿå‘½å‘¨æœŸç­–ç•¥ã€‚ ä¾‹å¦‚ï¼Œå¯¹äº <code>Singleton</code> èŒƒå›´ï¼Œ <code>Typhoon</code> å°†ä»…åˆ›å»ºä¸€ä¸ª <code>logger</code> å®ä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">session</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">TyphoonDefinition</span>.withClass(<span class="type">NSURLSession</span>.<span class="keyword">self</span>) &#123; definition <span class="keyword">in</span></span><br><span class="line">        definition.useInitializer(#selector(<span class="type">NSURLSession</span>.sharedSession))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">dynamic</span> <span class="function"><span class="keyword">func</span> <span class="title">logger</span><span class="params">()</span></span> -&gt; <span class="type">AnyObject</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">TyphoonDefinition</span>.withClass(<span class="type">ConsoleLogger</span>.<span class="keyword">self</span>) &#123; definition <span class="keyword">in</span></span><br><span class="line">        definition.scope = .<span class="type">Singleton</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¦ä»ç¨‹åºé›†ä¸­è·å–æŸç§ç±»å‹çš„å®ä¾‹ï¼Œæˆ‘ä»¬é¦–å…ˆå°†å…¶æ¿€æ´»ï¼Œç„¶åä»…è°ƒç”¨å…¶æ¥å£æ–¹æ³•ã€‚ æ¿€æ´»åï¼Œç»„è£…æ–¹æ³•å°†ä¸è¿”å› <code>TyphoonDefinitions</code> ï¼Œè€Œæ˜¯è¿”å›æ ¹æ®æˆ‘ä»¬æä¾›çš„è§„åˆ™åˆ›å»ºçš„å®ä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> assembly = <span class="type">APIClientAssembly</span>().activate()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> apiClient = assembly.apiClient() <span class="keyword">as</span>! <span class="type">APIClient</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†ä½¿è¿™é¡¹å·¥ä½œæœ‰æ•ˆï¼Œ <code>Typhoon</code> å¤§é‡ä½¿ç”¨äº† <code>Objective-C</code> è¿è¡Œæ—¶ã€‚ <code>åœ¨ä½¿ç”¨Objective-C</code> è¿è¡Œæ—¶çš„ <code>Swift</code> åº”ç”¨ç¨‹åºä¸­çœ‹èµ·æ¥å¹¶ä¸æ­£ç¡®ã€‚ æˆ‘ä»¬ä»ç„¶å¯ä»¥åœ¨ <code>Swift</code> ä»¥åŠ <code>Objective-C</code> ä¸­ä½¿ç”¨ <code>Typhoon</code> ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å°†é¢ä¸´ä¸€äº›é—®é¢˜ï¼š</p><ul><li>éœ€è¦å­ç±» <code>NSObject</code> å¹¶ä½¿ç”¨ <code>@objc</code> å®šä¹‰åè®®</li><li>æ³¨å°„è¿‡ç¨‹ä¸­è°ƒç”¨çš„æ–¹æ³•åº”è¯¥æ˜¯åŠ¨æ€çš„</li><li>éœ€è¦ç±»å‹è½¬æ¢</li><li>å¹¶éæ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥åœ¨ <code>Swift</code> ä¸­ä½¿ç”¨</li><li><code>Swift</code> çš„ <code>API</code> å¤ªå†—é•¿</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Typhoon</code> å›¢é˜Ÿæœ€è¿‘å®£å¸ƒï¼Œä»–ä»¬å¼€å§‹ç€æ‰‹äºçº¯ç²¹çš„ <code>Swift</code> å®æ–½ï¼Œè€Œæˆ‘è¿«ä¸åŠå¾…åœ°æƒ³çœ‹çœ‹ä»–ä»¬ä¼šæå‡ºä»€ä¹ˆå»ºè®®ã€‚ ä½†æ˜¯ç°åœ¨æˆ‘ä¸ä¼šåœ¨çº¯ <code>Swift</code> ä»£ç åº“ä¸­ä»¥å½“å‰çŠ¶æ€ä½¿ç”¨ <code>Typhoon</code> ã€‚ å°¤å…¶æ˜¯å½“æœ¬æœºè§£å†³æ–¹æ¡ˆå·²ç»å¾ˆå°‘æ—¶ã€‚</p><h1 id="DIP"><a href="#DIP" class="headerlink" title="DIP"></a><strong>DIP</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><em><a href="https://github.com/AliSoftware/Dip" target="_blank" rel="noopener"><code>Dip</code></a></em></strong> æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ å®ƒä»…åœ¨ <code>Swift</code> ä¸­å·¥ä½œï¼Œæ ¹æœ¬ä¸éœ€è¦ <code>Objective-C</code> è¿è¡Œæ—¶ã€‚ å®é™…ä¸Šï¼Œå®ƒç”šè‡³æ²¡æœ‰å¯¹ <code>Foundation</code> çš„å¼•ç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨å¯ä»¥ä½¿ç”¨ <code>Swift</code> çš„ä»»ä½•å¹³å°ä¸Šä½¿ç”¨å®ƒã€‚ å®ƒä¹Ÿæ˜¯ç±»å‹å®‰å…¨çš„ï¼Œä¸ <code>Typhoon</code> ç›¸æ¯”å®ç°èµ·æ¥å¹¶ä¸å¤æ‚ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å°± <code>API</code> è€Œè¨€ï¼Œå®ƒé‡‡ç”¨çš„æ–¹æ³•å¯¹äºå…¶ä»–å¹³å°ä¸Šçš„ <code>DI</code> å®¹å™¨è€Œè¨€æ›´ä¸ºä¼ ç»Ÿï¼Œå¹¶éµå¾ªâ€œæ³¨å†Œè§£æâ€æ¨¡å¼ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯æˆ‘ä»¬ç”¨äº <code>Typhoon</code> çš„ç›¸åŒç¤ºä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> container = <span class="type">DependencyContainer</span>()</span><br><span class="line"></span><br><span class="line">container.register &#123; </span><br><span class="line">    <span class="keyword">try</span> <span class="type">APIClientImp</span>(session: container.resolve()) <span class="keyword">as</span> <span class="type">APIClient</span> </span><br><span class="line">&#125;</span><br><span class="line">.resolveDependencies &#123; container, client <span class="keyword">in</span></span><br><span class="line">    client.logger = <span class="keyword">try</span> container.resolve()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">container.register &#123; <span class="type">NSURLSession</span>.sharedSession() <span class="keyword">as</span> <span class="type">NetworkSession</span> &#125;</span><br><span class="line">container.register(.<span class="type">Singleton</span>) &#123; <span class="type">ConsoleLogger</span>() <span class="keyword">as</span> <span class="type">Logger</span> &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘ä»¬å°† <code>APIClientImp</code> æ³¨å†Œä¸º <code>APIClient</code> åè®®çš„å®ç°ã€‚ å®¹å™¨è¿˜å°†è§£ææ„é€ å™¨å‚æ•°ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºå®ä¾‹æ—¶å°†è®¾ç½® <code>logger</code> å±æ€§ã€‚ å¯¹äºä¼šè¯å‚æ•°å®¹å™¨ï¼Œå®ƒå°†ä½¿ç”¨å…±äº«çš„ <code>URL</code> ä¼šè¯ï¼Œå¯¹äºè®°å½•å™¨ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªå•ä¾‹å®ä¾‹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œå½“æˆ‘ä»¬éœ€è¦è·å– <code>APIClient</code> çš„å®ä¾‹æ—¶ï¼Œæˆ‘ä»¬åªéœ€è°ƒç”¨å®¹å™¨çš„ <code>resolve</code> æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apiClient = <span class="keyword">try</span>! container.resolve() <span class="keyword">as</span> <span class="type">APIClient</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ï¼Œè¯¥ <code>API</code> ä¸æˆ‘ä»¬åœ¨ <code>Service Locator</code> ä¸­çœ‹åˆ°çš„å‡ ä¹ç›¸åŒã€‚ ä½†è¿™ä¸ <code>API</code> æˆ–å®ç°æ— å…³ï¼Œè€Œä¸æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒæœ‰å…³ã€‚ å¦‚æœæ‚¨ä¸æƒ³å°†å®¹å™¨ç”¨ä½œæœåŠ¡å®šä½å™¨ï¼Œè¯·è®°ä½ï¼Œåªèƒ½åœ¨ <code>â€œComposition Rootâ€</code> ä¸­è°ƒç”¨å®ƒã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Dip</code> è¿˜æä¾›äº†ä¸€äº›å¾ˆé…·çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è‡ªåŠ¨æ¥çº¿ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è¦è‡ªåŠ¨æ³¨å…¥çš„ <code>logger</code> å±æ€§ã€‚ å®¹å™¨å°†é¦–å…ˆåˆ›å»º <code>APIClient</code> å®ä¾‹ï¼Œç„¶åä½¿ç”¨å…¶é•œåƒæŸ¥æ‰¾ <code>logger</code> å±æ€§å¹¶å°†çœŸå®å®ä¾‹æ³¨å…¥å…¶ä¸­ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">APIClientImp</span>: <span class="title">APIClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> _logger = <span class="type">Injected</span>&lt;<span class="type">Logger</span>&gt;()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> logger: <span class="type">Logger?</span> &#123; <span class="keyword">return</span> _logger.value &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å…¶æ„é€ å‡½æ•°æ³¨å†Œ <code>APIClient</code> è€Œä¸æ˜¯è°ƒç”¨ <code>resolve</code> è·å– <code>NetworkSession</code> å‚æ•°æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯è¯´æˆ‘ä»¬è¦ä½¿ç”¨ä¼ é€’ç»™å·¥å‚é—­åŒ…çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ ç„¶åå®¹å™¨å°†æ¨æ–­å‡ºå®ƒçš„ç±»å‹å¹¶ä¸ºæˆ‘ä»¬è§£å†³ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">APIClientImp</span>: <span class="title">APIClient</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>(session: <span class="type">NetworkSession</span>) &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">container.register &#123; <span class="type">APIClientImp</span>(session: $<span class="number">0</span>) <span class="keyword">as</span> <span class="type">APIClient</span> &#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥å¤§å¤§ç®€åŒ–é…ç½®ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬æ¯”è¾ƒ <code>â€œTyphoonâ€</code> å’Œ <code>â€œDipâ€</code> çš„åŸºæœ¬ç‰¹å¾ï¼Œæˆ‘ä»¬ä¼šæ³¨æ„åˆ°å®ƒä»¬å…±äº«å¤§å¤šæ•°ç‰¹å¾ã€‚ å°½ç®¡å®ƒæ²¡æœ‰åƒ <code>Objective-C</code> ä¸€æ ·å¼ºå¤§çš„è¿è¡Œæ—¶åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨ <code>Swift</code> ä¸­å‡ ä¹å¯ä»¥å®ç°ç›¸åŒçš„åŠŸèƒ½ä¼¼ä¹ä»¤äººæƒŠè®¶ã€‚ ä½†æ˜¯ï¼Œæ³›å‹å’Œç±»å‹æ¨æ–­å®é™…ä¸Šæ˜¯å…¶ä¸­çš„é‡ç‚¹ã€‚</p><table><thead><tr><th align="left"></th><th align="center">Typhoon</th><th align="right">Dip</th></tr></thead><tbody><tr><td align="left"><strong>Constructor, property, method injection</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Lifecycle management</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Circular dependencies</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Runtime arguments</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Named definitions</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Storyboards integration</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Auto-wiring</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Thread safety</strong></td><td align="center">âœ˜</td><td align="right">âœ”ï¸</td></tr><tr><td align="left"><strong>Interception</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ˜</td></tr><tr><td align="left"><strong>Infrastructure</strong></td><td align="center">âœ”ï¸</td><td align="right">âœ˜</td></tr></tbody></table></br><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½ä¼šé—®ï¼Œå½“æˆ‘è‡ªå·±å¯ä»¥åšæ—¶ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ <code>Typhoon</code> æˆ– <code>Dip</code> æˆ–ä»»ä½•å…¶ä»– <code>DI</code> å®¹å™¨ã€‚ æˆ‘å¯ä»¥å»ºè®®çš„ç†ç”±å¾ˆå°‘ã€‚ å®ƒä»¬æä¾›äº†ä¸æƒ…èŠ‚æè¦æ¿çš„è½»æ¾é›†æˆï¼Œå¯ä»¥ä¸ºæ‚¨ç®¡ç†æœ‰æ—¶å¯èƒ½å¾ˆæ£˜æ‰‹çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç®€åŒ–æŸäº›é…ç½®ï¼Œ <code>Typhoon</code> è¿˜ä½¿ç”¨ <code>NSProxy</code> å’Œå…¶ä»–ä¸€äº›é™„åŠ åŠŸèƒ½æä¾›äº†è½»æ¾çš„æ‹¦æˆªåŠŸèƒ½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯è¯·è®°ä½ï¼Œ <code>DI</code> å®¹å™¨æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”ä¾èµ–æ³¨å…¥ä¸ä½¿ç”¨ <code>DI</code> å®¹å™¨ä¸åŒã€‚</p><blockquote><p><strong><em>DI â‰  DI Container</em></strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æ–°é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦ä»å®ƒå¼€å§‹ï¼Œä½†æ˜¯åœ¨æ—§ä»£ç åº“ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥é¦–å…ˆä½¿ç”¨ä¾èµ–æ³¨å…¥æ¨¡å¼ï¼Œç»„åˆæ ¹å’Œä¾èµ–åè½¬åŸç†å¯¹å…¶è¿›è¡Œé‡æ„ï¼Œç„¶åæŸ¥çœ‹æ˜¯å¦éœ€è¦DIå®¹å™¨ï¼ˆåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå›ç­”å°†ä¸ºâ€œå¦â€ï¼‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ‚¨å…·æœ‰å¤æ‚çš„é…ç½®ï¼Œå¹¶ä¸”å‘ç°è‡ªå·±å®ç°äº†ä¸€äº›ç±»ä¼¼ <code>DI</code> å®¹å™¨çš„æ–¹æ³•æ¥ç®€åŒ–å®ƒä»¬ï¼Œæˆ–è€…éœ€è¦å®ƒæä¾›çš„ä¸€äº›å…¶ä»–åŠŸèƒ½ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå—ç›Šäºä½¿ç”¨ç°æœ‰çš„å®ç°ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¯¹è‡ªå·±çš„å·¥å‚è¿˜å¯ä»¥çš„è¯-å®ƒçš„å·¥å‚å¾ˆæ£’ï¼Œè¯·ç»§ç»­ä½¿ç”¨å®ƒä»¬ã€‚ä¸è¦ä»…ä»…ä¸ºäº†ä½¿ç”¨ <code>DI</code> å®¹å™¨è€Œä½¿ç”¨å®ƒã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>DI</code> æœ¬èº«ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¯¹äºåœ¨ä½•å¤„åº”ç”¨å®ƒä»¥åŠéœ€è¦è§£è€¦ç³»ç»Ÿçš„å“ªäº›éƒ¨åˆ†ï¼Œè¦ä¿æŒç†æ€§ã€‚ä¸è¦å°è¯•è§£å†³ä½ å°šæœªé‡åˆ°çš„é—®é¢˜ã€‚ä¹Ÿè®¸ä½ æ°¸è¿œä¸ä¼šæ‹¥æœ‰å®ƒä»¬ï¼Œæˆ–è€…å½“ä½ çœŸæ­£é¢å¯¹å®ƒä»¬æ—¶ï¼Œç°åœ¨è§£å†³å®ƒä»¬çš„æ–¹å¼å°†ä¸åˆé€‚ã€‚æœ€åï¼Œ <code>DI</code> åªæ˜¯è¾¾åˆ°ç›®çš„çš„ä¸€ç§æ‰‹æ®µï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨çš„ä»»ä½•å…¶ä»–æ¨¡å¼æˆ–æŠ€æœ¯ä¸€æ ·ã€‚å®ƒæœ¬èº«ä¸æ˜¯ç›®æ ‡ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€åï¼Œæˆ‘æƒ³æåˆ°ä¸€äº›æœ‰ç”¨çš„èµ„æºï¼Œä½ å¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°æœ‰å…³DIå’Œä¸€äº›ç›¸å…³ä¸»é¢˜çš„æ›´å¤šä¿¡æ¯ã€‚</p></br><ul><li><a href="https://www.manning.com/books/dependency-injection-in-dot-net" target="_blank" rel="noopener"><code>â€œDependency Injection in .Netâ€ by Mark Seeman</code></a></li><li><a href="https://ilya.puchka.me/dependency-injection-in-swift/" target="_blank" rel="noopener"><code>Mark Seemanâ€™s blog</code></a></li><li><a href="https://www.objc.io/issues/15-testing/dependency-injection/" target="_blank" rel="noopener"><code>objc.io Issue 15: Testing. Dependency Injection, by Jon Reid</code></a></li><li><a href="https://martinfowler.com/articles/dipInTheWild.html" target="_blank" rel="noopener"><code>â€œDIP in the wildâ€</code></a></li><li><a href="http://www.loosecouplings.com/2011/02/non-di-code-spaghetti-code.html" target="_blank" rel="noopener"><code>Non-DI code == spaghetti code?</code></a></li></ul><hr><hr><ul><li><p><a href="https://www.manning.com/books/dependency-injection-in-dot-net" target="_blank" rel="noopener"><code>&quot;Dependency Injection in .Net&quot; Mark Seeman</code></a> â†©ï¸</p></li><li><p><a href="https://github.com/mutualmobile/VIPER-SWIFT/blob/master/VIPER-SWIFT/Classes/AppDependencies.swift" target="_blank" rel="noopener"><code>https://github.com/mutualmobile/VIPER-SWIFT/blob/master/VIPER-SWIFT/Classes/AppDependencies.swift</code></a> â†©ï¸</p></li><li><p><a href="http://blog.ploeh.dk/2010/12/02/Interfacesarenotabstractions/" target="_blank" rel="noopener"><code>http://blog.ploeh.dk/2010/12/02/Interfacesarenotabstractions/</code></a> â†©ï¸</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;Swift&lt;/code&gt; ä¸ºæˆ‘ä»¬è®¸å¤šäººæ‰“å¼€äº†å‡½æ•°å¼ç¼–ç¨‹çš„ä¸–ç•Œã€‚ ä½†è¿™ä»ç„¶æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œè€Œä¸æ˜¯åŠŸèƒ½çš„è¯­è¨€ã€‚ æˆ‘ä»¬çš„ä¸»è¦å·¥å…· &lt;code&gt;Cocoa frameworks&lt;/code&gt; æ˜¯é¢å‘å¯¹è±¡çš„ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è‡ªå·±å¯èƒ½ä»ç„¶ä¼šç»§ç»­ç¼–å†™é¢å‘å¯¹è±¡çš„ä»£ç ã€‚ è¿™æ ·åšçš„é—®é¢˜æ˜¯å®é™…ä¸Šå¾ˆéš¾ç¼–å†™è®¾è®¡è‰¯å¥½çš„é¢å‘å¯¹è±¡çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æœ‰å¾ˆå¤šä¸åŒçš„è®¾è®¡åŸåˆ™ï¼Œä¾‹å¦‚ &lt;code&gt;SOLID&lt;/code&gt; ï¼Œ&lt;code&gt;KISS&lt;/code&gt; ï¼Œ&lt;code&gt;DRY&lt;/code&gt; ç­‰ï¼ˆ &lt;code&gt;YAGNI&lt;/code&gt; ï¼Œ &lt;code&gt;RAP&lt;/code&gt; ï¼Œ&lt;code&gt;CQS&lt;/code&gt; ï¼‰ï¼Œç”šè‡³æ›´å¤šçš„è®¾è®¡æ¨¡å¼ã€‚ è‡³å°‘å¯¹äºæˆ‘æ¥è¯´ï¼Œæœ‰è¿™ä¹ˆå¤šä¸åŒçš„åŸç†å’Œæ¨¡å¼è¿™ä¸€äº‹å®æ„å‘³ç€ï¼Œå³ä½¿æœ‰å¯èƒ½ï¼Œè‰¯å¥½çš„é¢å‘å¯¹è±¡è®¾è®¡ä¹Ÿå¾ˆéš¾ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä¾èµ–æ³¨å…¥æœ¬èº«ä¸æ˜¯æˆ‘åˆšæ‰æåˆ°çš„ &lt;code&gt;SOLID&lt;/code&gt; åŸåˆ™çš„ä¸€éƒ¨åˆ†ã€‚ ä½†è¿™ä¸ä»–ä»¬æ‰€æœ‰äººæ¯æ¯ç›¸å…³ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œä¾èµ–æ³¨å…¥çš„æ¦‚å¿µè¢«è®¸å¤šè¯¯è§£æ‰€åŒ…å›´ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="ä¾èµ–æ³¨å…¥è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Dependency Injection" scheme="http://www.xuebaonline.com/tags/Dependency-Injection/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¾èµ–æ³¨å…¥è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T08:52:06.000Z</published>
    <updated>2020-04-25T10:41:58.390Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨Swiftå­¦ä¹ ä¾èµ–æ³¨å…¥æ¨¡å¼,ä½¿ç”¨DIç¼–å†™æ¾è€¦åˆä»£ç ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¦–å…ˆï¼Œæˆ‘çœŸçš„å¾ˆå–œæ¬¢James Shoreçš„è¿™å¥è¯ï¼šä¾èµ–æ³¨å…¥æ„å‘³ç€ç»™å¯¹è±¡ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå¦‚æ­¤è€Œå·²ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æˆ‘çœ‹æ¥ï¼Œå­¦ä¹ ä¾èµ–æ³¨å…¥è¦ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†æ˜¯å¦‚æœä½ å°†é—®é¢˜å¼„æ¸…æ¥šï¼Œä½ å°†æ„è¯†åˆ°å®ç° <a href="http://www.xuebaonline.com/Swift%E5%85%B3%E4%BA%8EDependency%20Injection%20(DI)/" title="DIæ¨¡å¼">DIæ¨¡å¼</a> å°±åƒç»™å¯¹è±¡å®ä¾‹å˜é‡ä¸€æ ·ç®€å•ã€‚ åˆ«å¼€ç©ç¬‘ï¼Œè¿™ç¡®å®æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œä½†æ˜¯è®¸å¤šå¼€å‘äººå‘˜ä½¿å®ƒè¿‡äºå¤æ‚ï¼Œå¹¶åœ¨é”™è¯¯çš„ä½ç½®ä½¿ç”¨äº†æ³¨å…¥ã€‚ ğŸ’‰</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å­¦ä¹ DIå¹¶ä¸æ˜¯å…³äºå®ç°ç»†èŠ‚ï¼Œè€Œæ˜¯å…³äºä½ å°†å¦‚ä½•ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ ä¾èµ–é¡¹æ³¨å…¥æœ‰å››ä¸ªå°å˜åŒ–ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨çœŸå®çš„ç¤ºä¾‹è¿›è¡Œéå†ï¼Œè¿™äº›ç¤ºä¾‹å°†å¸®åŠ©ä½ äº†è§£ä½•æ—¶ä½¿ç”¨ä¾èµ–é¡¹æ³¨å…¥ã€‚ ç°åœ¨æŠ“ä½é”®ç›˜ï¼ ğŸ’»</p><a id="more"></a></br><h1 id="äº†è§£ä¾èµ–æ³¨å…¥-dependency-injection"><a href="#äº†è§£ä¾èµ–æ³¨å…¥-dependency-injection" class="headerlink" title="äº†è§£ä¾èµ–æ³¨å…¥(dependency injection)"></a><strong>äº†è§£ä¾èµ–æ³¨å…¥(dependency injection)</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼ŒDIæ˜¯ä¸€ä¸ªç®€å•æ¦‚å¿µï¼Œä½ å®é™…ä¸Šå¹¶ä¸éœ€è¦å¤–éƒ¨åº“æˆ–æ¡†æ¶æ¥å¼€å§‹ä½¿ç”¨å®ƒã€‚å‡è®¾ä½ æœ‰ä¸¤ä¸ªå•ç‹¬çš„å¯¹è±¡ã€‚å¯¹è±¡Aè¦ä½¿ç”¨å¯¹è±¡Bã€‚å‘ä½ çš„ç¬¬ä¸€ä¸ªä¾èµ–å‘é€ä¸€ä¸ªæ¶ˆæ¯ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå°†å¯¹è±¡Bç¡¬ç¼–ç ä¸ºå¯¹è±¡Aï¼Œé‚£å°†æ˜¯ä¸å¥½çš„ï¼Œå› ä¸ºä»é‚£æ—¶èµ·ï¼Œå¦‚æœæ²¡æœ‰Bï¼Œå°±æ— æ³•ä½¿ç”¨Aã€‚ç°åœ¨å°†å…¶æ‰©å±•åˆ°çº¦100ä¸ªå¯¹è±¡çº§åˆ«ã€‚å¦‚æœä½ å¯¹æ­¤é—®é¢˜ä¸é‡‡å–ä»»ä½•æªæ–½ï¼Œé‚£ä¹ˆä½ ä¼šæ¯«æ— å¤´ç»ªã€‚ ğŸ</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œä¸»è¦ç›®æ ‡æ˜¯åˆ›å»ºå°½å¯èƒ½å¤šçš„ç‹¬ç«‹å¯¹è±¡ï¼Œæˆ–è€…åˆ›å»ºä¸€äº›æ¾æ•£è€¦åˆçš„ä»£ç ï¼Œä»¥æé«˜å¯é‡ç”¨æ€§å’Œå¯æµ‹è¯•æ€§ã€‚å…³æ³¨åˆ†ç¦»å’Œå»è€¦ä¹Ÿæ˜¯åœ¨è¿™é‡Œä½¿ç”¨ï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä»å­—é¢ä¸Šå°†é€»è¾‘åŠŸèƒ½åˆ†ç¦»ä¸ºç‹¬ç«‹çš„å¯¹è±¡ã€‚ ğŸ¤</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œä»ç†è®ºä¸Šè®²ï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½åº”è¯¥åªåšä¸€ä»¶ç‰¹å®šçš„äº‹æƒ…ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»é€šå¸¸æ˜¯é€šè¿‡é€šç”¨æè¿°ç¬¦ï¼ˆåè®®ï¼‰å®ç°çš„ï¼Œè€Œæ— éœ€å¯¹å…·ä½“å®ä¾‹è¿›è¡Œç¡¬ç¼–ç ã€‚ä¸ºæ­¤ï¼Œä½¿ç”¨ä¾èµ–æ³¨å…¥å¯ä»¥æé«˜ä»£ç è´¨é‡ï¼Œå› ä¸ºå¯ä»¥åœ¨ä¸æ›´æ”¹å…¶ä»–å¯¹è±¡å®ç°çš„æƒ…å†µä¸‹æ›¿æ¢ä¾èµ–ã€‚è¿™å¯¹äºæ¨¡æ‹Ÿï¼Œæµ‹è¯•ï¼Œé‡ç”¨ç­‰å¾ˆæœ‰ç”¨ã€‚</p></br><h1 id="å¦‚ä½•åœ¨Swiftä¸­è¿›è¡ŒDIï¼Ÿ"><a href="#å¦‚ä½•åœ¨Swiftä¸­è¿›è¡ŒDIï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨Swiftä¸­è¿›è¡ŒDIï¼Ÿ"></a><strong>å¦‚ä½•åœ¨Swiftä¸­è¿›è¡ŒDIï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Swift</code> æ˜¯ä¸€ç§äº†ä¸èµ·çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯¹åè®®å’Œé¢å‘å¯¹è±¡çš„åŸç†éƒ½æä¾›äº†å‡ºè‰²çš„æ”¯æŒã€‚ å®ƒä¹Ÿå…·æœ‰å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯ç°åœ¨è®©æˆ‘ä»¬å¿½ç•¥å®ƒã€‚ ä¾èµ–å…³ç³»æ³¨å…¥å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®Œæˆï¼Œä½†æ˜¯åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†åªå…³æ³¨ä¸€äº›åŸºæœ¬çš„ï¼Œæ²¡æœ‰ä»»ä½•å¤–éƒ¨ä¾èµ–å…³ç³»æ³¨å…¥çš„åŸºç¡€çŸ¥è¯†ã€‚ ğŸ˜‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥½å§ï¼Œè®©æˆ‘ä»¬ä»ä¸€ä¸ªåè®®å¼€å§‹ï¼Œä½†è¿™åªæ˜¯å› ä¸º <code>Swift</code> ä¸ä¼šå‘å…¬ä¼—å…¬å¼€ <code>Encoder</code> ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æ¼”ç¤ºä¸­éœ€è¦ç±»ä¼¼çš„ä¸œè¥¿ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Encoder</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encode</span>&lt;T&gt;<span class="params">(<span class="number">_</span> value: T)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Data</span> <span class="keyword">where</span> <span class="type">T</span>: <span class="type">Encodable</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">JSONEncoder</span>: <span class="title">Encoder</span> </span>&#123; &#125;</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PropertyListEncoder</span>: <span class="title">Encoder</span> </span>&#123; &#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å±æ€§åˆ—è¡¨å’ŒJSONç¼–ç å™¨å·²ç»å®ç°äº†æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰©å±•å¯¹è±¡ä»¥ç¬¦åˆæˆ‘ä»¬çš„å…¨æ–°åè®®å³å¯ã€‚</p><h1 id="Custructor-æ³¨å…¥"><a href="#Custructor-æ³¨å…¥" class="headerlink" title="Custructor æ³¨å…¥"></a><strong>Custructor æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾èµ–é¡¹æ³¨å…¥çš„æœ€å¸¸è§å½¢å¼æ˜¯æ„é€ å‡½æ•°æ³¨å…¥æˆ–åŸºäºåˆå§‹åŒ–çš„æ³¨å…¥ã€‚ ä¸»è¦çš„æ€è·¯æ˜¯é€šè¿‡åˆå§‹åŒ–ç¨‹åºä¼ é€’ä¾èµ–å…³ç³»ï¼Œå¹¶å°†è¯¥å¯¹è±¡å­˜å‚¨åœ¨ï¼ˆç§æœ‰åªè¯»/ä¸å¯å˜ï¼‰å±æ€§å˜é‡ä¸­ã€‚ è¿™é‡Œçš„ä¸»è¦å¥½å¤„æ˜¯ï¼Œåœ¨å¯¹è±¡åˆ›å»ºä¹‹å‰ï¼Œä½ çš„å¯¹è±¡å°†å…·æœ‰æ‰€æœ‰ä¾èµ–å…³ç³»ï¼Œä»¥ä½¿å…¶æ­£å¸¸å·¥ä½œã€‚ ğŸ”¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span>: <span class="title">Encodable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> content: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> encoder: <span class="type">Encoder</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> title</span><br><span class="line">        <span class="keyword">case</span> content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(title: <span class="type">String</span>, content: <span class="type">String</span>, encoder: <span class="type">Encoder</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = title</span><br><span class="line">        <span class="keyword">self</span>.content = content</span><br><span class="line">        <span class="keyword">self</span>.encoder = encoder</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encoded</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Data</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">try</span> <span class="keyword">self</span>.encoder.encode(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> post = <span class="type">Post</span>(title: <span class="string">"Hello DI!"</span>, content: <span class="string">"Constructor injection"</span>, encoder: <span class="type">JSONEncoder</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> data = <span class="keyword">try</span>? post.encoded(), <span class="keyword">let</span> encoded = <span class="type">String</span>(data: data, encoding: .utf8) &#123;</span><br><span class="line">    <span class="built_in">print</span>(encoded)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ ä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä¸ºç¼–ç å™¨æŒ‡å®šä¸€ä¸ª <code>defult</code> å€¼ï¼Œä½†æ˜¯ä½ åº”è¯¥æ‹…å¿ƒæ¶æ„æ³¨å…¥åæ¨¡å¼ï¼ è¿™æ„å‘³ç€å¦‚æœé»˜è®¤å€¼æ¥è‡ªå¦ä¸€ä¸ªæ¨¡å—ï¼Œåˆ™ä½ çš„ä»£ç å°†ä¸è¯¥æ¨¡å—ç´§å¯†è€¦åˆã€‚ æ‰€ä»¥è¯·ä¸‰æ€ï¼ ğŸ¤”</p></br><h1 id="å±æ€§æ³¨å…¥"><a href="#å±æ€§æ³¨å…¥" class="headerlink" title="å±æ€§æ³¨å…¥"></a><strong>å±æ€§æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰æ—¶å¾ˆéš¾è¿›è¡Œåˆå§‹åŒ–åˆå§‹åŒ–æ³¨å…¥ï¼Œå› ä¸ºä½ çš„ç±»å¿…é¡»ä»ç³»ç»Ÿç±»ç»§æ‰¿ã€‚ å¦‚æœä½ å¿…é¡»ä½¿ç”¨è§†å›¾æˆ–æ§åˆ¶å™¨ï¼Œè¿™å°†ä½¿è¿‡ç¨‹å˜å¾—éå¸¸å›°éš¾ã€‚ å¯¹äºè¿™ç§æƒ…å†µï¼Œä¸€ä¸ªå¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨åŸºäºå±æ€§çš„æ³¨å…¥è®¾è®¡æ¨¡å¼ã€‚ ä¹Ÿè®¸ä½ ä¸èƒ½å®Œå…¨æ§åˆ¶åˆå§‹åŒ–ï¼Œä½†æ˜¯ä½ å§‹ç»ˆå¯ä»¥æ§åˆ¶å±æ€§ã€‚ å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ï¼Œä½ å¿…é¡»å…ˆæ£€æŸ¥è¯¥å±æ€§æ˜¯å¦å·²æ˜¾ç¤ºï¼ˆå·²è®¾ç½®ï¼‰ï¼Œç„¶åå†è¿›è¡Œä»»ä½•æ“ä½œã€‚ ğŸ¤«</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span>: <span class="title">Encodable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> content: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> encoder: <span class="type">Encoder?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> title</span><br><span class="line">        <span class="keyword">case</span> content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(title: <span class="type">String</span>, content: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = title</span><br><span class="line">        <span class="keyword">self</span>.content = content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encoded</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Data</span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> encoder = <span class="keyword">self</span>.encoder <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">fatalError</span>(<span class="string">"Encoding is only supported with a valid encoder object."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">try</span> encoder.encode(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> post = <span class="type">Post</span>(title: <span class="string">"Hello DI!"</span>, content: <span class="string">"Property injection"</span>)</span><br><span class="line">post.encoder = <span class="type">JSONEncoder</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> data = <span class="keyword">try</span>? post.encoded(), <span class="keyword">let</span> encoded = <span class="type">String</span>(data: data, encoding: .utf8) &#123;</span><br><span class="line">    <span class="built_in">print</span>(encoded)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>iOS</code> æ¡†æ¶ä¸­æœ‰å¾ˆå¤šå±æ€§æ³¨å…¥æ¨¡å¼ï¼Œå§”æ‰˜æ¨¡å¼é€šå¸¸æ˜¯è¿™æ ·å®ç°çš„ã€‚ å¦å¤–ä¸€ä¸ªå¾ˆå¤§çš„å¥½å¤„æ˜¯è¿™äº›å±æ€§å¯ä»¥æ˜¯å¯å˜çš„ï¼Œå› æ­¤ä½ å¯ä»¥å³æ—¶æ›¿æ¢å®ƒä»¬ã€‚ âœˆï¸</p><h1 id="æ–¹æ³•æ³¨å…¥"><a href="#æ–¹æ³•æ³¨å…¥" class="headerlink" title="æ–¹æ³•æ³¨å…¥"></a><strong>æ–¹æ³•æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœåªéœ€è¦ä¸€æ¬¡ä¾èµ–å…³ç³»ï¼Œåˆ™å®é™…ä¸Šä¸éœ€è¦å°†å…¶å­˜å‚¨ä¸ºå¯¹è±¡å˜é‡ã€‚ é™¤äº†å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–å‚æ•°æˆ–å…¬å¼€çš„å¯å˜å±æ€§ï¼Œä½ è¿˜å¯ä»¥å°†ä¾èµ–é¡¹ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸ºæ–¹æ³•æ³¨å…¥æˆ–åŸºäºå‚æ•°çš„æ³¨å…¥ã€‚ ğŸ‘</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span>: <span class="title">Encodable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> content: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(title: <span class="type">String</span>, content: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = title</span><br><span class="line">        <span class="keyword">self</span>.content = content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encode</span><span class="params">(using encoder: Encoder)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Data</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">try</span> encoder.encode(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> post = <span class="type">Post</span>(title: <span class="string">"Hello DI!"</span>, content: <span class="string">"Method injection"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> data = <span class="keyword">try</span>? post.encode(using: <span class="type">JSONEncoder</span>()), <span class="keyword">let</span> encoded = <span class="type">String</span>(data: data, encoding: .utf8) &#123;</span><br><span class="line">    <span class="built_in">print</span>(encoded)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯æ¬¡è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œä½ çš„ä¾èµ–å…³ç³»å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä¸éœ€è¦ä»è¯¥ä¾èµ–å…³ç³»ä¸­ä¿ç•™å¼•ç”¨ï¼Œå› æ­¤å°†ä»…åœ¨æœ¬åœ°æ–¹æ³•èŒƒå›´å†…ä½¿ç”¨å®ƒã€‚</p></br><h1 id="ä¸Šä¸‹æ–‡è¯­å¢ƒ"><a href="#ä¸Šä¸‹æ–‡è¯­å¢ƒ" class="headerlink" title="ä¸Šä¸‹æ–‡è¯­å¢ƒ"></a><strong>ä¸Šä¸‹æ–‡è¯­å¢ƒ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬çš„æœ€åä¸€ä¸ªæ¨¡å¼éå¸¸å±é™©ã€‚ å®ƒä»…åº”ç”¨äºä¸å¤šä¸ªå¯¹è±¡å®ä¾‹ä¸€èµ·å…±äº«çš„é€šç”¨ä¾èµ–é¡¹ã€‚ æ—¥å¿—ï¼Œåˆ†ææˆ–ç¼“å­˜æœºåˆ¶å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚ ğŸš§</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span>: <span class="title">Encodable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> title: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> content: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(title: <span class="type">String</span>, content: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.title = title</span><br><span class="line">        <span class="keyword">self</span>.content = content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">encoded</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Data</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">try</span> <span class="type">Post</span>.encoder.encode(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">var</span> _encoder: <span class="type">Encoder</span> = <span class="type">PropertyListEncoder</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">setEncoder</span><span class="params">(<span class="number">_</span> encoder: Encoder)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>._encoder = encoder</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> encoder: <span class="type">Encoder</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Post</span>._encoder</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> post = <span class="type">Post</span>(title: <span class="string">"Hello DI!"</span>, content: <span class="string">"Ambient context"</span>)</span><br><span class="line"><span class="type">Post</span>.setEncoder(<span class="type">JSONEncoder</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> data = <span class="keyword">try</span>? post.encoded(), <span class="keyword">let</span> encoded = <span class="type">String</span>(data: data, encoding: .utf8) &#123;</span><br><span class="line">    <span class="built_in">print</span>(encoded)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šä¸‹æ–‡è¯­å¢ƒæœ‰ä¸€äº›ç¼ºç‚¹ã€‚ å®ƒå¯èƒ½å¾ˆé€‚åˆæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œä½†ä¼šåˆ›å»ºéšå¼ä¾èµ–å…³ç³»å¹¶è¡¨ç¤ºå…¨å±€å¯å˜çŠ¶æ€ã€‚ å¼ºçƒˆä¸å»ºè®®è¿™æ ·åšï¼Œä½ åº”è¯¥é¦–å…ˆè€ƒè™‘å…¶ä»–ä¾èµ–æ³¨å…¥æ–¹å¼ï¼Œä½†æ˜¯æœ‰æ—¶å®ƒå¯èƒ½éå¸¸é€‚åˆä½ ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨Swiftå­¦ä¹ ä¾èµ–æ³¨å…¥æ¨¡å¼,ä½¿ç”¨DIç¼–å†™æ¾è€¦åˆä»£ç ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é¦–å…ˆï¼Œæˆ‘çœŸçš„å¾ˆå–œæ¬¢James Shoreçš„è¿™å¥è¯ï¼šä¾èµ–æ³¨å…¥æ„å‘³ç€ç»™å¯¹è±¡ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå¦‚æ­¤è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨æˆ‘çœ‹æ¥ï¼Œå­¦ä¹ ä¾èµ–æ³¨å…¥è¦ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†æ˜¯å¦‚æœä½ å°†é—®é¢˜å¼„æ¸…æ¥šï¼Œä½ å°†æ„è¯†åˆ°å®ç° &lt;a href=&quot;http://www.xuebaonline.com/Swift%E5%85%B3%E4%BA%8EDependency%20Injection%20(DI)/&quot; title=&quot;DIæ¨¡å¼&quot;&gt;DIæ¨¡å¼&lt;/a&gt; å°±åƒç»™å¯¹è±¡å®ä¾‹å˜é‡ä¸€æ ·ç®€å•ã€‚ åˆ«å¼€ç©ç¬‘ï¼Œè¿™ç¡®å®æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œä½†æ˜¯è®¸å¤šå¼€å‘äººå‘˜ä½¿å®ƒè¿‡äºå¤æ‚ï¼Œå¹¶åœ¨é”™è¯¯çš„ä½ç½®ä½¿ç”¨äº†æ³¨å…¥ã€‚ ğŸ’‰&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å­¦ä¹ DIå¹¶ä¸æ˜¯å…³äºå®ç°ç»†èŠ‚ï¼Œè€Œæ˜¯å…³äºä½ å°†å¦‚ä½•ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ ä¾èµ–é¡¹æ³¨å…¥æœ‰å››ä¸ªå°å˜åŒ–ï¼Œè®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨çœŸå®çš„ç¤ºä¾‹è¿›è¡Œéå†ï¼Œè¿™äº›ç¤ºä¾‹å°†å¸®åŠ©ä½ äº†è§£ä½•æ—¶ä½¿ç”¨ä¾èµ–é¡¹æ³¨å…¥ã€‚ ç°åœ¨æŠ“ä½é”®ç›˜ï¼ ğŸ’»&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="ä¾èµ–æ³¨å…¥è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå§”æ‰˜è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%A7%94%E6%89%98%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%A7%94%E6%89%98%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T08:39:15.000Z</published>
    <updated>2020-04-25T08:51:07.282Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å§”æ‰˜è®¾è®¡æ¨¡å¼æ˜¯é€šè¿‡ <code>Swift</code> ä¸­çš„é€šç”¨æ¥å£ï¼ˆåè®®ï¼‰åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´è¿›è¡Œé€šä¿¡çš„ç›¸å¯¹ç®€å•çš„æ–¹æ³•ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://zh.wikipedia.org/wiki/%E5%A7%94%E6%89%98%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="å§”æ‰˜æ¨¡å¼">å§”æ‰˜æ¨¡å¼</a>ï¼ˆdelegation patternï¼‰æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€é¡¹åŸºæœ¬æŠ€å·§ã€‚åœ¨å§”æ‰˜æ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå¯¹è±¡å‚ä¸å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œæ¥å—è¯·æ±‚çš„å¯¹è±¡å°†è¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ã€‚å§”æ‰˜æ¨¡å¼æ˜¯ä¸€é¡¹åŸºæœ¬æŠ€å·§ï¼Œè®¸å¤šå…¶ä»–çš„æ¨¡å¼ï¼Œå¦‚çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯åœ¨æ›´ç‰¹æ®Šçš„åœºåˆé‡‡ç”¨äº†å§”æ‰˜æ¨¡å¼ã€‚å§”æ‰˜æ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨èšåˆæ¥æ›¿ä»£ç»§æ‰¿ã€‚</p><a id="more"></a></br><h1 id="åœ¨Swiftä¸­å®ç°å§”æ´¾"><a href="#åœ¨Swiftä¸­å®ç°å§”æ´¾" class="headerlink" title="åœ¨Swiftä¸­å®ç°å§”æ´¾"></a><strong>åœ¨Swiftä¸­å®ç°å§”æ´¾</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å°†éœ€è¦ä¸€ä¸ªå§”æ‰˜åè®®ï¼Œä¸€ä¸ªå®é™…å§”æ‰˜ä»»åŠ¡çš„å§”æ‰˜äººä»¥åŠä¸€ä¸ªå®ç°å§”æ‰˜åè®®å¹¶å®Œæˆ <strong>â€œè€æ¿â€</strong> æ‰€è¦æ±‚çš„å®é™…å·¥ä½œçš„å§”æ‰˜å¯¹è±¡ã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼šå®¢æˆ·ç«¯æŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚ é¡¹ç›®ç»ç†ä¼šåˆ›å»ºä¸€ä¸ªé—®é¢˜ï¼Œå¹¶å‘Šè¯‰ä¸€ä½å¼€å‘äººå‘˜å°½å¿«è§£å†³é—®é¢˜ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šé¢çš„åœºæ™¯å°±æ˜¯å§”æ‰˜ğŸ‘†ã€‚ åœ¨æŸä¸ªæ—¶åˆ»å‘ç”Ÿäº†äº‹ä»¶ï¼Œå› æ­¤å§”æ‰˜äººï¼ˆç»ç†ï¼‰ä½¿ç”¨å¤–éƒ¨èµ„æºï¼ˆå¼€å‘äººå‘˜ï¼‰ä½¿ç”¨ä¸€ä¸ªå…¬å…±æ¥å£ï¼ˆæè¿°åŒæ–¹çš„é—®é¢˜ï¼‰æ¥å®ŒæˆæŸä»¶äº‹ï¼ˆä¿®å¤ğŸ›ï¼‰ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºäº†æ¼”ç¤ºå§”æ‰˜åœ¨ç°å®ç”Ÿæ´»ä¸­çš„å·¥ä½œæ–¹å¼ï¼Œæˆ‘ä¸¾äº†ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ã€‚ æˆ‘å°†ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ï¼ˆå› ä¸ºXcodeæ¸¸ä¹åœºä»ç„¶æ¯1-5åˆ†é’Ÿå†»ç»“ä¸€æ¬¡ï¼‰ï¼Œå°±åƒæˆ‘å¯¹å‘½ä»¤æ¨¡å¼æ‰€åšçš„é‚£æ ·ï¼Œä½†æ˜¯æ­¤æ–¹æ³•çš„ç›®çš„å‡ ä¹æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨è°ˆè®ºå§”æ‰˜æ¨¡å¼ã€‚ ğŸ˜…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env swift</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">InputDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> shouldContinueListening: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didStartListening</span><span class="params">()</span></span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didReceive</span><span class="params">(input: String)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InputHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> delegate: <span class="type">InputDelegate?</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">listen</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.delegate?.didStartListening()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">repeat</span> &#123;</span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> input = <span class="built_in">readLine</span>() <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">self</span>.delegate?.didReceive(input: input)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">self</span>.delegate?.shouldContinueListening ?? <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">InputReceiver</span>: <span class="title">InputDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> shouldContinueListening: <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didStartListening</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"ğŸ‘» Please be nice and say \"hi\", if you want to leave just tell me \"bye\":"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">didReceive</span><span class="params">(input: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> input &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"hi"</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"ğŸŒ Hello world!"</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"bye"</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"ğŸ‘‹ Bye!"</span>)</span><br><span class="line">            exit(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"ğŸ” Command not found! Please try again:"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> inputHandler = <span class="type">InputHandler</span>()</span><br><span class="line"><span class="keyword">let</span> inputReceiver = <span class="type">InputReceiver</span>()</span><br><span class="line">inputHandler.delegate = inputReceiver</span><br><span class="line">inputHandler.listen()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯ä½ å¯ä»¥åœ¨ <code>Swift</code> ä¸­åˆ›å»ºè‡ªå·±çš„å§”æ‰˜æ¨¡å¼çš„æ–¹å¼ã€‚ ä½ å¯ä»¥æƒ³è±¡ï¼Œ<code>Apple</code> æ­£åœ¨ä½¿ç”¨ <code>UICollectionViewDataSource</code> ï¼Œ<code>UICollectionViewDelegate</code> ç­‰åœ¨åå°åšåŒæ ·çš„äº‹æƒ…ã€‚ä½ åªéœ€å®ç°å§”æ‰˜ï¼Œå®ƒä»¬å°†æä¾›åè®®å’Œå§”æ‰˜äººã€‚ ğŸ¤”</p></br><h1 id="å¼±å±æ€§ï¼Œå§”æ‰˜å’Œç±»"><a href="#å¼±å±æ€§ï¼Œå§”æ‰˜å’Œç±»" class="headerlink" title="å¼±å±æ€§ï¼Œå§”æ‰˜å’Œç±»"></a><strong>å¼±å±æ€§ï¼Œå§”æ‰˜å’Œç±»</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†…å­˜ç®¡ç†æ˜¯éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå› æ­¤å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ‰€æœ‰çš„ç±»å§”æ‰˜éƒ½åº”è¯¥æ˜¯ <strong>å¼±å¼•ç”¨</strong>ï¼Œå¦åˆ™ä½ å°† <strong>å¾ˆéš¾ç®¡ç†å™¨ç”Ÿå‘½å‘¨æœŸï¼Œæ˜“å¼•èµ·å†…å­˜æ³„éœ²</strong>ï¼Œè¿™ä¸€ç‚¹å¿…é¡»æ³¨æ„ã€‚ ğŸ˜±</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">InputDelegate</span>: <span class="title">class</span> </span>&#123; <span class="comment">/*...*/</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InputHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> delegate: <span class="type">InputDelegate?</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*...*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InputReceiver</span>: <span class="title">InputDelegate</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*...*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯ä¿®æ”¹åçš„ <code>Swift</code> ä»£ç æ®µï¼Œä½†æ˜¯ç°åœ¨ä½¿ç”¨ä¸€ä¸ªç±»ä½œä¸ºå§”æ‰˜ã€‚ ä½ åªéœ€è¦ç¨å¾®æ›´æ”¹åè®®å’Œå§”æ‰˜è€…å†…éƒ¨çš„å±æ€§å³å¯ã€‚ å¦‚æœè¦å°†ç±»åˆ†é…ä¸ºå§”æ‰˜ï¼Œè¯·å§‹ç»ˆä½¿ç”¨å¼±å¼•ç”¨è¯¥å˜é‡ã€‚ âš ï¸</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­£å¦‚ä»£ç ä¸­å±•ç¤ºçš„ï¼Œå§”æ‰˜æ¨¡å¼å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å¾ˆå±é™©ã€‚ å®ƒé€šè¿‡æä¾›å¯ä»¥ç”±å®ç°å§”æ‰˜ï¼ˆæœ‰æ—¶æ˜¯æ•°æ®æºï¼‰åè®®çš„ä»»ä½•äººä½¿ç”¨çš„å…¬å…±æ¥å£æ¥å¸®åŠ©è§£è€¦ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å§”æ‰˜è®¾è®¡æ¨¡å¼æ˜¯é€šè¿‡ &lt;code&gt;Swift&lt;/code&gt; ä¸­çš„é€šç”¨æ¥å£ï¼ˆåè®®ï¼‰åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´è¿›è¡Œé€šä¿¡çš„ç›¸å¯¹ç®€å•çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%A7%94%E6%89%98%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;å§”æ‰˜æ¨¡å¼&quot;&gt;å§”æ‰˜æ¨¡å¼&lt;/a&gt;ï¼ˆdelegation patternï¼‰æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€é¡¹åŸºæœ¬æŠ€å·§ã€‚åœ¨å§”æ‰˜æ¨¡å¼ä¸­ï¼Œæœ‰ä¸¤ä¸ªå¯¹è±¡å‚ä¸å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œæ¥å—è¯·æ±‚çš„å¯¹è±¡å°†è¯·æ±‚å§”æ‰˜ç»™å¦ä¸€ä¸ªå¯¹è±¡æ¥å¤„ç†ã€‚å§”æ‰˜æ¨¡å¼æ˜¯ä¸€é¡¹åŸºæœ¬æŠ€å·§ï¼Œè®¸å¤šå…¶ä»–çš„æ¨¡å¼ï¼Œå¦‚çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯åœ¨æ›´ç‰¹æ®Šçš„åœºåˆé‡‡ç”¨äº†å§”æ‰˜æ¨¡å¼ã€‚å§”æ‰˜æ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç”¨èšåˆæ¥æ›¿ä»£ç»§æ‰¿ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å§”æ‰˜è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%A7%94%E6%89%98%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå‘½ä»¤è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%91%BD%E4%BB%A4%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%91%BD%E4%BB%A4%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T08:12:58.000Z</published>
    <updated>2020-04-25T08:33:09.103Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‘½ä»¤è®¾è®¡æ¨¡å¼æ˜¯ä¼—å¤šè®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç§ï¼Œä¹Ÿæ¯”è¾ƒå¸¸ç”¨ã€‚ è¿™æ˜¯ç”¨Swiftç¼–å†™çš„å‘½ä»¤è®¾è®¡æ¨¡æ¿çš„ä¸€ä¸ªå°ä¾‹å­ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="å‘½ä»¤æ¨¡å¼">å‘½ä»¤æ¨¡å¼</a>ï¼ˆè‹±è¯­ï¼šCommand patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°è¯•ä»¥å¯¹è±¡æ¥ä»£è¡¨å®é™…è¡ŒåŠ¨ã€‚å‘½ä»¤å¯¹è±¡å¯ä»¥æŠŠè¡ŒåŠ¨(action) åŠå…¶å‚æ•°å°è£…èµ·æ¥ï¼Œäºæ˜¯è¿™äº›è¡ŒåŠ¨å¯ä»¥è¢«ï¼š</p><ul><li>é‡å¤å¤šæ¬¡</li><li>å–æ¶ˆï¼ˆå¦‚æœè¯¥å¯¹è±¡æœ‰å®ç°çš„è¯ï¼‰</li><li>å–æ¶ˆååˆå†é‡åš</li></ul><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›éƒ½æ˜¯ç°ä»£å¤§å‹åº”ç”¨ç¨‹åºæ‰€å¿…é¡»çš„åŠŸèƒ½ï¼Œå³â€œæ’¤é”€â€åŠâ€œé‡å¤â€ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ç”¨å‘½ä»¤æ¨¡å¼æ¥å®ç°çš„åŠŸèƒ½ä¾‹å­è¿˜æœ‰ï¼š</p><ul><li>äº¤æ˜“è¡Œä¸º</li><li>è¿›åº¦åˆ—</li><li>å‘å¯¼</li><li>ç”¨æˆ·ç•Œé¢æŒ‰é’®åŠåŠŸèƒ½è¡¨é¡¹ç›®</li><li>çº¿ç¨‹ pool</li><li>å®æ”¶å½•</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æƒ³ä¸ºç¨åå°†è¦æ‰§è¡Œçš„ä¸åŒæ“ä½œæä¾›ä¸€ä¸ªé€šç”¨ç•Œé¢ï¼Œé‚£ä¹ˆè¯¥å‘½ä»¤æ¨¡å¼å°†éå¸¸æ–¹ä¾¿ã€‚ é€šå¸¸ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ­£ç¡®è¿è¡ŒåŸºç¡€æ“ä½œæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‘½ä»¤é€šå¸¸ç”¨äºå¤„ç†ç”¨æˆ·ç•Œé¢æ“ä½œï¼Œåˆ›å»ºæ’¤æ¶ˆç®¡ç†å™¨æˆ–ç®¡ç†äº‹åŠ¡ã€‚ è®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨è¡¨æƒ…ç¬¦å·åˆ›å»ºå‘½ä»¤è¡Œå‚æ•°å¤„ç†ç¨‹åºæ¥æŸ¥çœ‹ <code>Swift</code> ä¸­çš„å‘½ä»¤æ¨¡å¼å®ç°ã€‚ ğŸ’¾</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env swift</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Command</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelpCommand</span>: <span class="title">Command</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">execute</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="type">Help</span>().info()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Help</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">info</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"""</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">             ğŸ¤– Commander ğŸ¤–</span></span><br><span class="line"><span class="string">                  v1.0</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Available commands:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            ğŸ‘‰ help      This command</span></span><br><span class="line"><span class="string">            ğŸ‘‰ ls        List documents</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Bye! ğŸ‘‹</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListCommand</span>: <span class="title">Command</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">execute</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="type">List</span>().homeDirectoryContents()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">homeDirectoryContents</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> fileManager = <span class="type">FileManager</span>.<span class="keyword">default</span></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> documentsURL = fileManager.urls(<span class="keyword">for</span>: .documentDirectory, <span class="keyword">in</span>: .userDomainMask).first <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Could not open documents directory"</span>)</span><br><span class="line">            exit(-<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> fileURLs = <span class="keyword">try</span> fileManager.contentsOfDirectory(at: documentsURL, includingPropertiesForKeys: <span class="literal">nil</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"\n\tğŸ“ Listing documents directory:\n"</span>)</span><br><span class="line">            <span class="built_in">print</span>(fileURLs.<span class="built_in">map</span> &#123; <span class="string">"\t\tğŸ’¾ "</span> + $<span class="number">0</span>.lastPathComponent &#125;.joined(separator: <span class="string">"\n\n"</span>) + <span class="string">"\n"</span> )</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">            exit(-<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> commands: [<span class="type">String</span>:<span class="type">Command</span>] = [:]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.commands[<span class="string">"help"</span>] = <span class="type">HelpCommand</span>()</span><br><span class="line">        <span class="keyword">self</span>.commands[<span class="string">"ls"</span>] = <span class="type">ListCommand</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> arguments = <span class="type">CommandLine</span>.arguments[<span class="number">1</span>...]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> key = arguments.first, <span class="keyword">self</span>.commands[key] != <span class="literal">nil</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Usage: ./command.swift [\(self.commands.keys.joined(separator: "</span>|<span class="string">"))]"</span>)</span><br><span class="line">            exit(-<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.commands[key]!.execute()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">App</span>().run()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä¿å­˜æ­¤æ–‡ä»¶ï¼Œåªéœ€åœ¨ç»ˆç«¯çª—å£ä¸­é”®å…¥ <code>./file-name.swift</code> å³å¯è¿è¡Œå®ƒã€‚ <code>Swift</code> ç¼–è¯‘å™¨å°†è´Ÿè´£å…¶ä½™çš„å·¥ä½œã€‚ âš’</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‘½ä»¤è®¾è®¡æ¨¡å¼çš„å®é™…ç”¨ä¾‹ï¼š</p><ul><li>å„ç§æŒ‰é’®åŠ¨ä½œ</li><li>é›†åˆ/è¡¨è§†å›¾é€‰æ‹©æ“ä½œ</li><li>åœ¨æ§åˆ¶å™¨ä¹‹é—´å¯¼èˆª</li><li>å†å²è®°å½•ç®¡ç†/æ’¤æ¶ˆç®¡ç†å™¨</li><li>äº¤æ˜“è¡Œä¸º</li><li>è¿›åº¦ç®¡ç†</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­£å¦‚ä½ æ‰€äº†è§£é‚£æ ·ï¼Œè¯¥æ¨¡å¼å¯ä»¥åº”ç”¨äºå¤šä¸ªåŒºåŸŸã€‚ è‹¹æœä¸ºæ­¤ä¸“é—¨åˆ¶ä½œäº†ä¸€ä¸ªåä¸º <code>NSInvocation</code> çš„ç‰¹å®šç±»ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œç”±äºå®ƒçš„åŠ¨æ€è¡Œä¸ºï¼Œå®ƒåœ¨ <code>Swift</code> ä¸­ä¸å¯ç”¨ã€‚ æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼Œä½ å§‹ç»ˆå¯ä»¥åˆ¶å®šè‡ªå·±çš„åè®®å’Œå®ç°ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åªéœ€è¦ä¸€ä¸ªåŒ…è£…åŸºç¡€å‘½ä»¤é€»è¾‘çš„é¢å¤–ç±»å³å¯ã€‚ ğŸ˜›</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å‘½ä»¤è®¾è®¡æ¨¡å¼æ˜¯ä¼—å¤šè®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç§ï¼Œä¹Ÿæ¯”è¾ƒå¸¸ç”¨ã€‚ è¿™æ˜¯ç”¨Swiftç¼–å†™çš„å‘½ä»¤è®¾è®¡æ¨¡æ¿çš„ä¸€ä¸ªå°ä¾‹å­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;å‘½ä»¤æ¨¡å¼&quot;&gt;å‘½ä»¤æ¨¡å¼&lt;/a&gt;ï¼ˆè‹±è¯­ï¼šCommand patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°è¯•ä»¥å¯¹è±¡æ¥ä»£è¡¨å®é™…è¡ŒåŠ¨ã€‚å‘½ä»¤å¯¹è±¡å¯ä»¥æŠŠè¡ŒåŠ¨(action) åŠå…¶å‚æ•°å°è£…èµ·æ¥ï¼Œäºæ˜¯è¿™äº›è¡ŒåŠ¨å¯ä»¥è¢«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡å¤å¤šæ¬¡&lt;/li&gt;
&lt;li&gt;å–æ¶ˆï¼ˆå¦‚æœè¯¥å¯¹è±¡æœ‰å®ç°çš„è¯ï¼‰&lt;/li&gt;
&lt;li&gt;å–æ¶ˆååˆå†é‡åš&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å‘½ä»¤è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%91%BD%E4%BB%A4%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>SwiftåŸå‹è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T07:49:06.000Z</published>
    <updated>2020-04-25T08:03:11.052Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸå‹è®¾è®¡æ¨¡å¼ç”¨äºåˆ›å»ºåŸºç¡€å¯¹è±¡çš„å…‹éš†ï¼Œå› æ­¤è®©æˆ‘ä»¬çœ‹ä¸€äº›ç”¨Swiftç¼–å†™çš„å®é™…ç¤ºä¾‹ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸå‹æ¨¡å¼æ˜¯ <a href="https://zh.wikipedia.org/wiki/%E5%89%B5%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="åˆ›å»ºå‹æ¨¡å¼">åˆ›å»ºå‹æ¨¡å¼</a> çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹åœ¨äºé€šè¿‡â€œå¤åˆ¶â€ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹æ¥è¿”å›æ–°çš„å®ä¾‹,è€Œä¸æ˜¯æ–°å»ºå®ä¾‹ã€‚è¢«å¤åˆ¶çš„å®ä¾‹å°±æ˜¯æˆ‘ä»¬æ‰€ç§°çš„â€œåŸå‹â€ï¼Œè¿™ä¸ªåŸå‹æ˜¯å¯å®šåˆ¶çš„ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸå‹æ¨¡å¼å¤šç”¨äºåˆ›å»ºå¤æ‚çš„æˆ–è€…è€—æ—¶çš„å®ä¾‹ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œå¤åˆ¶ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹ä½¿ç¨‹åºè¿è¡Œæ›´é«˜æ•ˆï¼›æˆ–è€…åˆ›å»ºå€¼ç›¸ç­‰ï¼Œåªæ˜¯å‘½åä¸ä¸€æ ·çš„åŒç±»æ•°æ®ã€‚</p><a id="more"></a><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œåˆ›å»ºå‹æ¨¡å¼æ˜¯å¤„ç†å¯¹è±¡åˆ›å»ºçš„è®¾è®¡æ¨¡å¼ï¼Œè¯•å›¾æ ¹æ®å®é™…æƒ…å†µä½¿ç”¨åˆé€‚çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚åŸºæœ¬çš„å¯¹è±¡åˆ›å»ºæ–¹å¼å¯èƒ½ä¼šå¯¼è‡´è®¾è®¡ä¸Šçš„é—®é¢˜ï¼Œæˆ–å¢åŠ è®¾è®¡çš„å¤æ‚åº¦ã€‚åˆ›å»ºå‹æ¨¡å¼é€šè¿‡ä»¥æŸç§æ–¹å¼æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºæ¥è§£å†³é—®é¢˜ã€‚<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºå‹æ¨¡å¼ç”±ä¸¤ä¸ªä¸»å¯¼æ€æƒ³æ„æˆã€‚ä¸€æ˜¯å°†ç³»ç»Ÿä½¿ç”¨çš„å…·ä½“ç±»å°è£…èµ·æ¥ï¼ŒäºŒæ˜¯éšè—è¿™äº›å…·ä½“ç±»çš„å®ä¾‹åˆ›å»ºå’Œç»“åˆçš„æ–¹å¼ã€‚<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºå‹æ¨¡å¼åˆåˆ†ä¸ºå¯¹è±¡åˆ›å»ºå‹æ¨¡å¼å’Œç±»åˆ›å»ºå‹æ¨¡å¼ã€‚å¯¹è±¡åˆ›å»ºå‹æ¨¡å¼å¤„ç†å¯¹è±¡çš„åˆ›å»ºï¼Œç±»åˆ›å»ºå‹æ¨¡å¼å¤„ç†ç±»çš„åˆ›å»ºã€‚è¯¦ç»†åœ°è¯´ï¼Œå¯¹è±¡åˆ›å»ºå‹æ¨¡å¼æŠŠå¯¹è±¡åˆ›å»ºçš„ä¸€éƒ¨åˆ†æ¨è¿Ÿåˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œç±»åˆ›å»ºå‹æ¨¡å¼å°†å®ƒå¯¹è±¡çš„åˆ›å»ºæ¨è¿Ÿåˆ°å­ç±»ä¸­ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¹Ÿæ˜¯ä¸€ç§åˆ›æ–°çš„è®¾è®¡æ¨¡å¼ï¼Œå½“ä½ å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œéå¸¸åŸºæœ¬çš„é…ç½®å¹¶ä¸”æƒ³è¦å°†è¿™äº›é¢„å®šä¹‰å€¼æä¾›ï¼ˆå¤åˆ¶ï¼‰ç»™å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚ åŸºæœ¬ä¸Šï¼Œä½ æ˜¯ä»åŸå‹å¯¹è±¡åˆ¶ä½œå¤åˆ¶ã€‚ ğŸ˜ŠğŸ˜ŠğŸ˜Š</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ–¹æ³•æœ‰ä¸€äº›å¥½å¤„ï¼Œä¾‹å¦‚ï¼Œä½ ä¸å¿…ç»§æ‰¿å­ç±»ï¼Œä½†å¯ä»¥å•ç‹¬é…ç½®å¤åˆ¶ã€‚ è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœä½ è¦ä½¿ç”¨åŸå‹ï¼Œåˆ™å¯ä»¥åˆ é™¤ä¸€å †æ ·æ¿ä»£ç ï¼ˆé…ç½®ï¼‰ã€‚ ğŸ¤”</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Paragraph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> font: <span class="type">UIFont</span></span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">UIColor</span></span><br><span class="line">    <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(font: <span class="type">UIFont</span> = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>),</span><br><span class="line">         color: <span class="type">UIColor</span> = .darkText,</span><br><span class="line">         text: <span class="type">String</span> = <span class="string">""</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.font = font</span><br><span class="line">        <span class="keyword">self</span>.color = color</span><br><span class="line">        <span class="keyword">self</span>.text = text</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">clone</span><span class="params">()</span></span> -&gt; <span class="type">Paragraph</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Paragraph</span>(font: <span class="keyword">self</span>.font, color: <span class="keyword">self</span>.color, text: <span class="keyword">self</span>.text)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> base = <span class="type">Paragraph</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> title = base.clone()</span><br><span class="line">title.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</span><br><span class="line">title.text = <span class="string">"This is the title"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> first = base.clone()</span><br><span class="line">first.text = <span class="string">"This is the first paragraph"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> second = base.clone()</span><br><span class="line">second.text = <span class="string">"This is the second paragraph"</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºï¼Œå®ç°åªæ˜¯å‡ è¡Œä»£ç ã€‚ ä½ åªéœ€è¦ä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–ç¨‹åºå’Œä¸€ä¸ªå¤åˆ¶æ–¹æ³•ã€‚ ä¸€åˆ‡éƒ½å°†åœ¨ <code>init</code> æ–¹æ³•ä¸­é’ˆå¯¹åŸå‹å¯¹è±¡è¿›è¡Œé¢„é…ç½®ï¼Œå¹¶ä¸”ä½ å¯ä»¥ä½¿ç”¨ <code>clone</code> æ–¹æ³•è¿›è¡Œå¤åˆ¶ï¼Œä½†è¿™æ—¶å¾ˆæ˜æ˜¾â€¦â€¦</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Paragraph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> font: <span class="type">UIFont</span></span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">UIColor</span></span><br><span class="line">    <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(font: <span class="type">UIFont</span> = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>),</span><br><span class="line">         color: <span class="type">UIColor</span> = .darkText,</span><br><span class="line">         text: <span class="type">String</span> = <span class="string">""</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.font = font</span><br><span class="line">        <span class="keyword">self</span>.color = color</span><br><span class="line">        <span class="keyword">self</span>.text = text</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">clone</span><span class="params">()</span></span> -&gt; <span class="type">Paragraph</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Paragraph</span>(font: <span class="keyword">self</span>.font, color: <span class="keyword">self</span>.color, text: <span class="keyword">self</span>.text)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> base = <span class="type">Paragraph</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> title = base.clone()</span><br><span class="line">title.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">18</span>)</span><br><span class="line">title.text = <span class="string">"This is the title"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> first = base.clone()</span><br><span class="line">first.text = <span class="string">"This is the first paragraph"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> second = base.clone()</span><br><span class="line">second.text = <span class="string">"This is the second paragraph"</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ æ‰“ç®—è·å–å·²çŸ¥å¯¹è±¡çŠ¶æ€çš„å¿«ç…§ï¼Œåˆ™åŸå‹è®¾è®¡æ¨¡å¼ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œåœ¨ç»˜å›¾åº”ç”¨ç¨‹åºä¸­ï¼Œä½ å¯ä»¥å°†å½¢çŠ¶ç±»ä½œä¸ºåŸå‹ï¼Œå¯ä»¥å¼€å§‹å‘å…¶æ·»åŠ è·¯å¾„ï¼Œæœ‰æ—¶ç”šè‡³å¯ä»¥ä»ä¸­åˆ›å»ºå¿«ç…§ã€‚ ä½ å¯ä»¥ç»§ç»­å¤„ç†æ–°å¯¹è±¡ï¼Œä½†è¿™å°†ä½¿ä½ èƒ½å¤Ÿåœ¨å°†æ¥çš„ä»»ä½•æ—¶é—´è¿”å›åˆ°ä¿å­˜çŠ¶æ€ã€‚ ğŸ‰</p><p>å½“ä½ çš„åº”ç”¨ç¨‹åºä¸ä¾èµ–äºåˆ›å»ºï¼Œåˆæˆå’Œè¡¨ç¤ºå¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œåº”è€ƒè™‘é€‰æ‹©å®ƒï¼Œä»¥åŠè‡³å°‘ä¸‹åˆ—å„é¡¹ä¹‹ä¸€ï¼š</p><ul><li>åœ¨è¿è¡Œæ—¶åˆ›å»ºå¯¹è±¡</li><li>ä½ æƒ³é¿å…å·¥å‚çš„å¤æ‚å±‚æ¬¡ç»“æ„</li><li>å¯¹è±¡åªèƒ½æœ‰å¾ˆå°‘çš„çŠ¶æ€</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ <code>Swift</code> ä¸­çš„åŸå‹è®¾è®¡æ¨¡å¼ã€‚ ğŸ¿</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åŸå‹è®¾è®¡æ¨¡å¼ç”¨äºåˆ›å»ºåŸºç¡€å¯¹è±¡çš„å…‹éš†ï¼Œå› æ­¤è®©æˆ‘ä»¬çœ‹ä¸€äº›ç”¨Swiftç¼–å†™çš„å®é™…ç¤ºä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åŸå‹æ¨¡å¼æ˜¯ &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%89%B5%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;åˆ›å»ºå‹æ¨¡å¼&quot;&gt;åˆ›å»ºå‹æ¨¡å¼&lt;/a&gt; çš„ä¸€ç§ï¼Œå…¶ç‰¹ç‚¹åœ¨äºé€šè¿‡â€œå¤åˆ¶â€ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹æ¥è¿”å›æ–°çš„å®ä¾‹,è€Œä¸æ˜¯æ–°å»ºå®ä¾‹ã€‚è¢«å¤åˆ¶çš„å®ä¾‹å°±æ˜¯æˆ‘ä»¬æ‰€ç§°çš„â€œåŸå‹â€ï¼Œè¿™ä¸ªåŸå‹æ˜¯å¯å®šåˆ¶çš„ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åŸå‹æ¨¡å¼å¤šç”¨äºåˆ›å»ºå¤æ‚çš„æˆ–è€…è€—æ—¶çš„å®ä¾‹ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œå¤åˆ¶ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹ä½¿ç¨‹åºè¿è¡Œæ›´é«˜æ•ˆï¼›æˆ–è€…åˆ›å»ºå€¼ç›¸ç­‰ï¼Œåªæ˜¯å‘½åä¸ä¸€æ ·çš„åŒç±»æ•°æ®ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="åŸå‹è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%8E%9F%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ¯”è¾ƒå·¥å‚è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/%E6%AF%94%E8%BE%83%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T07:38:40.000Z</published>
    <updated>2020-04-25T07:49:56.132Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨Swiftè¯­è¨€äº†è§£é™æ€å·¥å‚ï¼Œç®€å•å·¥å‚ï¼Œå·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚ä¹‹é—´çš„åŒºåˆ«ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘è®¤ä¸ºå¯¹æ‰€æœ‰å·¥å‚æ¨¡å¼è¿›è¡Œæ±‡æ€»æ¯”è¾ƒä¼šå¾ˆé«˜å…´ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä½ åº”è¯¥äº†è§£çš„æ‰€æœ‰å†…å®¹ã€‚ æ„é€ å®ƒä»¬ç›¸å¯¹ç®€å•ï¼Œåœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ä¸€äº›ç”¨ <code>Swift</code> ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ <code>UIColor</code> æ¥å‘ä½ å±•ç¤ºåŸºç¡€çŸ¥è¯†ã€‚ ğŸ§™â€â™‚ï¸</p><a id="more"></a><h1 id="é™æ€å·¥å‚"><a href="#é™æ€å·¥å‚" class="headerlink" title="é™æ€å·¥å‚"></a><strong>é™æ€å·¥å‚</strong></h1><ul><li>æ²¡æœ‰å•ç‹¬çš„å·¥å‚ç±»åˆ«</li><li>å‘½åé™æ€æ–¹æ³•æ¥åˆå§‹åŒ–å¯¹è±¡</li><li>å¯ä»¥å…·æœ‰ç¼“å­˜å¹¶å¯ä»¥è¿”å›å­ç±»å‹</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIColor</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> primary: <span class="type">UIColor</span> &#123; <span class="keyword">return</span> .black &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> secondary: <span class="type">UIColor</span> &#123; <span class="keyword">return</span> .white &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> primary = <span class="type">UIColor</span>.primary</span><br><span class="line"><span class="keyword">let</span> secondary = <span class="type">UIColor</span>.secondary</span><br></pre></td></tr></table></figure><h1 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a><strong>ç®€å•å·¥å‚</strong></h1><ul><li>ä¸€ä¸ªå·¥å‚ç±»</li><li>æšä¸¾( <code>switch-case</code> )å‡ºå…¶ä¸­çš„å®ä¾‹å¯¹è±¡</li><li>å°è£…å„ç§ä»£ç </li><li>å¦‚æœåˆ—è¡¨å¤ªå¤§ï¼Œè¯·ä½¿ç”¨å·¥å‚æ–¹æ³•</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Style</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> primary</span><br><span class="line">        <span class="keyword">case</span> secondary</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">(<span class="number">_</span> style: Style)</span></span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> style</span><br><span class="line">        <span class="keyword">case</span> .primary:</span><br><span class="line">            <span class="keyword">return</span> .black</span><br><span class="line">        <span class="keyword">case</span> .secondary:</span><br><span class="line">            <span class="keyword">return</span> .white</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">ColorFactory</span>()</span><br><span class="line"><span class="keyword">let</span> primary = factory.create(.primary)</span><br><span class="line"><span class="keyword">let</span> secondary = factory.create(.secondary)</span><br></pre></td></tr></table></figure><h1 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a><strong>å·¥å‚æ–¹æ³•</strong></h1><ul><li>å¤šä¸ªï¼ˆè§£è€¦çš„ï¼‰å·¥å‚ç±»</li><li>æ¯ä¸ªå®ä¾‹çš„å·¥å‚æ–¹æ³•</li><li>ä¸ºå·¥å‚åˆ›å»ºä¸€ä¸ªç®€å•çš„åè®®</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrimaryColorFactory</span>: <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .black</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecondaryColorFactory</span>: <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .white</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> primaryColorFactory = <span class="type">PrimaryColorFactory</span>()</span><br><span class="line"><span class="keyword">let</span> secondaryColorFactory = <span class="type">SecondaryColorFactory</span>()</span><br><span class="line"><span class="keyword">let</span> primary = primaryColorFactory.create()</span><br><span class="line"><span class="keyword">let</span> secondary = secondaryColorFactory.create()</span><br></pre></td></tr></table></figure><h1 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a><strong>æŠ½è±¡å·¥å‚</strong></h1><ul><li>ç»“åˆç®€å•çš„å·¥å‚å’Œå·¥å‚æ–¹æ³•</li><li>å¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºå…·æœ‰å…¨å±€ä½œç”¨</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// exact same factory method pattern from above</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrimaryColorFactory</span>: <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .black</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SecondaryColorFactory</span>: <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> .white</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// simple factory pattern from above using the factory methods</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppColorFactory</span>: <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Theme</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> dark</span><br><span class="line">        <span class="keyword">case</span> light</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">(<span class="number">_</span> theme: Theme)</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> theme &#123;</span><br><span class="line">        <span class="keyword">case</span> .dark:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">PrimaryColorFactory</span>().create()</span><br><span class="line">        <span class="keyword">case</span> .light:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">SecondaryColorFactory</span>().create()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">AppColorFactory</span>()</span><br><span class="line"><span class="keyword">let</span> primaryColor = factory.create(.dark)</span><br><span class="line"><span class="keyword">let</span> secondaryColor = factory.create(.light)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯ä½¿ç”¨ <code>Swift</code> ç¼–å†™çš„å®é™…ç¤ºä¾‹çš„å·¥å‚æ¨¡å¼ã€‚ ğŸ‘</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ä½¿ç”¨Swiftè¯­è¨€äº†è§£é™æ€å·¥å‚ï¼Œç®€å•å·¥å‚ï¼Œå·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚ä¹‹é—´çš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘è®¤ä¸ºå¯¹æ‰€æœ‰å·¥å‚æ¨¡å¼è¿›è¡Œæ±‡æ€»æ¯”è¾ƒä¼šå¾ˆé«˜å…´ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä½ åº”è¯¥äº†è§£çš„æ‰€æœ‰å†…å®¹ã€‚ æ„é€ å®ƒä»¬ç›¸å¯¹ç®€å•ï¼Œåœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨ä¸€äº›ç”¨ &lt;code&gt;Swift&lt;/code&gt; ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ &lt;code&gt;UIColor&lt;/code&gt; æ¥å‘ä½ å±•ç¤ºåŸºç¡€çŸ¥è¯†ã€‚ ğŸ§™â€â™‚ï¸&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å·¥å‚è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>SwiftæŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T07:26:13.000Z</published>
    <updated>2020-04-25T07:39:20.965Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬å°†å·¥å‚æ–¹æ³•ä¸ç®€å•çš„å·¥å‚å¤–è§‚ç»“åˆèµ·æ¥ï¼šè¿™æ˜¯ç”¨Swiftè¯­è¨€ç¼–å†™çš„æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ï¼</p></blockquote><p><a href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82" target="_blank" rel="noopener" title="æŠ½è±¡å·¥å‚æ¨¡å¼">æŠ½è±¡å·¥å‚æ¨¡å¼</a>ï¼ˆè‹±è¯­ï¼šAbstract factory patternï¼‰æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘è®¾è®¡æ¨¡å¼ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†ä¸€ç»„å…·æœ‰åŒä¸€ä¸»é¢˜çš„å•ç‹¬çš„å·¥å‚å°è£…èµ·æ¥ã€‚åœ¨æ­£å¸¸ä½¿ç”¨ä¸­ï¼Œå®¢æˆ·ç«¯ç¨‹åºéœ€è¦åˆ›å»ºæŠ½è±¡å·¥å‚çš„å…·ä½“å®ç°ï¼Œç„¶åä½¿ç”¨æŠ½è±¡å·¥å‚ä½œä¸ºæ¥å£æ¥åˆ›å»ºè¿™ä¸€ä¸»é¢˜çš„å…·ä½“å¯¹è±¡ã€‚å®¢æˆ·ç«¯ç¨‹åºä¸éœ€è¦çŸ¥é“ï¼ˆæˆ–å…³å¿ƒï¼‰å®ƒä»è¿™äº›å†…éƒ¨çš„å·¥å‚æ–¹æ³•ä¸­è·å¾—å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œå› ä¸ºå®¢æˆ·ç«¯ç¨‹åºä»…ä½¿ç”¨è¿™äº›å¯¹è±¡çš„é€šç”¨æ¥å£ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼å°†ä¸€ç»„å¯¹è±¡çš„å®ç°ç»†èŠ‚ä¸ä»–ä»¬çš„ä¸€èˆ¬ä½¿ç”¨åˆ†ç¦»å¼€æ¥ã€‚</p><a id="more"></a><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œæ¯”å¦‚ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»å«åšDocumentCreatorï¼ˆæ–‡æ¡£åˆ›å»ºå™¨ï¼‰ï¼Œæ­¤ç±»æä¾›åˆ›å»ºè‹¥å¹²ç§äº§å“çš„æ¥å£ï¼ŒåŒ…æ‹¬createLetter()ï¼ˆåˆ›å»ºä¿¡ä»¶ï¼‰å’ŒcreateResume()ï¼ˆåˆ›å»ºç®€å†ï¼‰ã€‚å…¶ä¸­ï¼ŒcreateLetter()è¿”å›ä¸€ä¸ªLetterï¼ˆä¿¡ä»¶ï¼‰ï¼ŒcreateResume()è¿”å›ä¸€ä¸ªResumeï¼ˆç®€å†ï¼‰ã€‚ç³»ç»Ÿä¸­è¿˜æœ‰ä¸€äº›DocumentCreatorçš„å…·ä½“å®ç°ç±»ï¼ŒåŒ…æ‹¬FancyDocumentCreatorå’ŒModernDocumentCreatorã€‚è¿™ä¸¤ä¸ªç±»å¯¹DocumentCreatorçš„ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«æœ‰ä¸åŒçš„å®ç°ï¼Œç”¨æ¥åˆ›å»ºä¸åŒçš„â€œä¿¡ä»¶â€å’Œâ€œç®€å†â€ï¼ˆç”¨FancyDocumentCreatorçš„å®ä¾‹å¯ä»¥åˆ›å»ºFancyLetterå’ŒFancyResumeï¼Œç”¨ModernDocumentCreatorçš„å®ä¾‹å¯ä»¥åˆ›å»ºModernLetterå’ŒModernResumeï¼‰ã€‚è¿™äº›å…·ä½“çš„â€œä¿¡ä»¶â€å’Œâ€œç®€å†â€ç±»å‡ç»§æ‰¿è‡ªæŠ½è±¡ç±»ï¼Œå³Letterå’ŒResumeç±»ã€‚å®¢æˆ·ç«¯éœ€è¦åˆ›å»ºâ€œä¿¡ä»¶â€æˆ–â€œç®€å†â€æ—¶ï¼Œå…ˆè¦å¾—åˆ°ä¸€ä¸ªåˆé€‚çš„DocumentCreatorå®ä¾‹ï¼Œç„¶åè°ƒç”¨å®ƒçš„æ–¹æ³•ã€‚ä¸€ä¸ªå·¥å‚ä¸­åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªä¸»é¢˜çš„ï¼ˆâ€œfancyâ€æˆ–è€…â€œmodernâ€ï¼‰ã€‚å®¢æˆ·ç«¯ç¨‹åºåªéœ€è¦çŸ¥é“å¾—åˆ°çš„å¯¹è±¡æ˜¯â€œä¿¡ä»¶â€æˆ–è€…â€œç®€å†â€ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…·ä½“çš„ä¸»é¢˜ï¼Œå› æ­¤å®¢æˆ·ç«¯ç¨‹åºä»æŠ½è±¡å·¥å‚DocumentCreatorä¸­å¾—åˆ°äº†Letteræˆ–Resumeç±»çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å…·ä½“ç±»çš„å¯¹è±¡å¼•ç”¨ã€‚<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œå·¥å‚â€æ˜¯åˆ›å»ºäº§å“ï¼ˆå¯¹è±¡ï¼‰çš„åœ°æ–¹ï¼Œå…¶ç›®çš„æ˜¯å°†äº§å“çš„åˆ›å»ºä¸äº§å“çš„ä½¿ç”¨åˆ†ç¦»ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼çš„ç›®çš„ï¼Œæ˜¯å°†è‹¥å¹²æŠ½è±¡äº§å“çš„æ¥å£ä¸ä¸åŒä¸»é¢˜äº§å“çš„å…·ä½“å®ç°åˆ†ç¦»å¼€ã€‚è¿™æ ·å°±èƒ½åœ¨å¢åŠ æ–°çš„å…·ä½“å·¥å‚çš„æ—¶å€™ï¼Œä¸ç”¨ä¿®æ”¹å¼•ç”¨æŠ½è±¡å·¥å‚çš„å®¢æˆ·ç«¯ä»£ç ã€‚<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œèƒ½å¤Ÿåœ¨å…·ä½“å·¥å‚å˜åŒ–çš„æ—¶å€™ï¼Œä¸ç”¨ä¿®æ”¹ä½¿ç”¨å·¥å‚çš„å®¢æˆ·ç«¯ä»£ç ï¼Œç”šè‡³æ˜¯åœ¨è¿è¡Œæ—¶ã€‚ç„¶è€Œï¼Œä½¿ç”¨è¿™ç§æ¨¡å¼æˆ–è€…ç›¸ä¼¼çš„è®¾è®¡æ¨¡å¼ï¼Œå¯èƒ½ç»™ç¼–å†™ä»£ç å¸¦æ¥ä¸å¿…è¦çš„å¤æ‚æ€§å’Œé¢å¤–çš„å·¥ä½œã€‚æ­£ç¡®ä½¿ç”¨è®¾è®¡æ¨¡å¼èƒ½å¤ŸæŠµæ¶ˆè¿™æ ·çš„â€œé¢å¤–å·¥ä½œâ€ã€‚</p></blockquote><h1 id="SwiftæŠ½è±¡å·¥å‚"><a href="#SwiftæŠ½è±¡å·¥å‚" class="headerlink" title="SwiftæŠ½è±¡å·¥å‚"></a><strong>SwiftæŠ½è±¡å·¥å‚</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§å°è£…ä¸€ç»„å…·æœ‰å…±åŒä¸»é¢˜çš„å•ä¸ªå·¥å‚è€Œæ— éœ€æŒ‡å®šå…¶å…·ä½“ç±»çš„æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥ä¸ºä½ åˆ›å»ºç›¸å…³å¯¹è±¡çš„æ—ã€‚ è¯¥å®ç°é€šå¸¸ç»“åˆç®€å•çš„å·¥å‚å’Œå·¥å‚æ–¹æ³•åŸç†ã€‚ å•ä¸ªå¯¹è±¡æ˜¯é€šè¿‡å·¥å‚æ–¹æ³•åˆ›å»ºçš„ï¼Œè€Œæ•´ä¸ªå¯¹è±¡éƒ½åŒ…è£…åœ¨ä¸€ä¸ªâ€œæŠ½è±¡â€çš„ç®€å•å·¥å‚ä¸­ã€‚ ç°åœ¨æ£€æŸ¥ä»£ç ï¼ ğŸ˜…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// service protocols</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url: <span class="type">URL</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// staging</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StagingService</span>: <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url: <span class="type">URL</span> &#123; <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="string">"https://dev.localhost/"</span>)! &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StagingServiceFactory</span>: <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">StagingService</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// production</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductionService</span>: <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url: <span class="type">URL</span> &#123; <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="string">"https://live.localhost/"</span>)! &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductionServiceFactory</span>: <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">ProductionService</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// abstract factory</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppServiceFactory</span>: <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Environment</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> production</span><br><span class="line">        <span class="keyword">case</span> staging</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> env: <span class="type">Environment</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(env: <span class="type">Environment</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.env = env</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span>.env &#123;</span><br><span class="line">        <span class="keyword">case</span> .production:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">ProductionServiceFactory</span>().create()</span><br><span class="line">        <span class="keyword">case</span> .staging:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">StagingServiceFactory</span>().create()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">AppServiceFactory</span>(env: .production)</span><br><span class="line"><span class="keyword">let</span> service = factory.create()</span><br><span class="line"><span class="built_in">print</span>(service.url)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä¸Šä»£ç çœ‹åˆ°çš„ï¼Œä½¿ç”¨æŠ½è±¡å·¥å‚å°†å½±å“æ•´ä¸ªåº”ç”¨ç¨‹åºé€»è¾‘ï¼Œè€Œå·¥å‚æ–¹æ³•ä»…å¯¹æœ¬åœ°éƒ¨åˆ†äº§ç”Ÿå½±å“ã€‚ å®ç°å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä¾‹å¦‚ä½ ä¹Ÿå¯ä»¥ä¸ºæŠ½è±¡å·¥å‚åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„åè®®ï¼Œä½†æ˜¯åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘æƒ³ä½¿äº‹æƒ…å°½å¯èƒ½ç®€å•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŠ½è±¡å·¥å‚é€šå¸¸ç”¨äºå®ç°å¯¹è±¡ç‹¬ç«‹æ€§ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨é€šç”¨æ¥å£ç”¨ <code>Swift</code> ç¼–å†™äº†å¤šä¸ªä¸åŒçš„ <code>SQL</code> æ•°æ®åº“è¿æ¥å™¨ï¼ˆ <code>PostgreSQL</code> ï¼Œ<code>MySQL</code> ç­‰ï¼‰ï¼Œåˆ™å¯ä»¥éšæ—¶ä½¿ç”¨æ­¤æ¨¡å¼åœ¨å®ƒä»¬ä¹‹é—´è½»æ¾åˆ‡æ¢ã€‚ å¯ä»¥å°†ç±»ä¼¼çš„é€»è¾‘åº”ç”¨äºå…·æœ‰ç±»ä¼¼æƒ…å†µçš„ä¸šåŠ¡ã€‚ ğŸ¤”</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è®©æˆ‘ä»¬å°†å·¥å‚æ–¹æ³•ä¸ç®€å•çš„å·¥å‚å¤–è§‚ç»“åˆèµ·æ¥ï¼šè¿™æ˜¯ç”¨Swiftè¯­è¨€ç¼–å†™çš„æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;æŠ½è±¡å·¥å‚æ¨¡å¼&quot;&gt;æŠ½è±¡å·¥å‚æ¨¡å¼&lt;/a&gt;ï¼ˆè‹±è¯­ï¼šAbstract factory patternï¼‰æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘è®¾è®¡æ¨¡å¼ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°†ä¸€ç»„å…·æœ‰åŒä¸€ä¸»é¢˜çš„å•ç‹¬çš„å·¥å‚å°è£…èµ·æ¥ã€‚åœ¨æ­£å¸¸ä½¿ç”¨ä¸­ï¼Œå®¢æˆ·ç«¯ç¨‹åºéœ€è¦åˆ›å»ºæŠ½è±¡å·¥å‚çš„å…·ä½“å®ç°ï¼Œç„¶åä½¿ç”¨æŠ½è±¡å·¥å‚ä½œä¸ºæ¥å£æ¥åˆ›å»ºè¿™ä¸€ä¸»é¢˜çš„å…·ä½“å¯¹è±¡ã€‚å®¢æˆ·ç«¯ç¨‹åºä¸éœ€è¦çŸ¥é“ï¼ˆæˆ–å…³å¿ƒï¼‰å®ƒä»è¿™äº›å†…éƒ¨çš„å·¥å‚æ–¹æ³•ä¸­è·å¾—å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œå› ä¸ºå®¢æˆ·ç«¯ç¨‹åºä»…ä½¿ç”¨è¿™äº›å¯¹è±¡çš„é€šç”¨æ¥å£ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼å°†ä¸€ç»„å¯¹è±¡çš„å®ç°ç»†èŠ‚ä¸ä»–ä»¬çš„ä¸€èˆ¬ä½¿ç”¨åˆ†ç¦»å¼€æ¥ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="æŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T07:16:57.000Z</published>
    <updated>2020-04-25T07:23:43.529Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼æ˜¯ä¸€ç§ä¸“ç”¨çš„éé™æ€æ–¹æ³•ï¼Œç”¨äºéšè—å¯¹è±¡çš„åˆ›å»ºé€»è¾‘ã€‚ è®©æˆ‘ä»¬ç”¨Swiftåšå§ï¼</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆè‹±è¯­ï¼šFactory method patternï¼‰æ˜¯ä¸€ç§å®ç°äº†â€œå·¥å‚â€æ¦‚å¿µçš„é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼ã€‚å°±åƒå…¶ä»–åˆ›å»ºå‹æ¨¡å¼ä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯å¤„ç†åœ¨ä¸æŒ‡å®šå¯¹è±¡å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼çš„å®è´¨æ˜¯â€œå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†è®©å®ç°è¿™ä¸ªæ¥å£çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•è®©ç±»çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚</p><a id="more"></a><h1 id="å·¥å‚æ–¹æ³•åªæ˜¯ä¸€ç§éé™æ€æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•åªæ˜¯ä¸€ç§éé™æ€æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•åªæ˜¯ä¸€ç§éé™æ€æ–¹æ³•"></a><strong>å·¥å‚æ–¹æ³•åªæ˜¯ä¸€ç§éé™æ€æ–¹æ³•</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¢å¯¹ç°å®ï¼Œè¿™ç§æ¨¡å¼åªæ˜¯é€šå¸¸ç”±ç®€å•åè®®å’Œç±»æ”¯æŒçš„ä¸€ç§æ–¹æ³•ã€‚ ä»ä¸€ä¸ªéå¸¸ç®€å•çš„ç¤ºä¾‹å¼€å§‹ï¼šæƒ³è±¡ä¸€ä¸ªå¯ä»¥ä¸ºæ‚¨çš„æœåŠ¡ç«¯ç‚¹åˆ›å»ºåŸºæœ¬URLçš„ç±»ã€‚ æˆ‘ä»¬ç§°ä¹‹ä¸ºæœåŠ¡å·¥å‚ã€‚ ğŸ˜…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">createProductionUrl</span><span class="params">()</span></span> -&gt; <span class="type">URL</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="string">"https://localhost/"</span>)!</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">ServiceFactory</span>()</span><br><span class="line">factory.createProductionUrl()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™ç”šè‡³ä¸æ¥è¿‘å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œä½†è¯·ç¨å€™â€¦è®©æˆ‘ä»¬é€šè¿‡ä¸ºæœåŠ¡ç±»åˆ›å»ºåè®®ä»¥åŠè¿”å› <code>URL</code> çš„åè®®ï¼Œä½¿äº‹æƒ…å˜å¾—æœ‰äº›å¤æ‚ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸºæœ¬ç”Ÿäº§ç¯å¢ƒurlåè®®å®ç°ä¸ºä¸€ä¸ªå•ç‹¬çš„ç±»ï¼Œå¹¶ä»ç”Ÿäº§æœåŠ¡å·¥å‚ç±»è¿”å›è¯¥ç‰¹å®šå®ä¾‹ã€‚ åªéœ€æ£€æŸ¥ä¸€ä¸‹ä»£ç å³å¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url: <span class="type">URL</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductionService</span>: <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url: <span class="type">URL</span> &#123; <span class="keyword">return</span> <span class="type">URL</span>(string: <span class="string">"https://localhost/"</span>)! &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductionServiceFactory</span>: <span class="title">ServiceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">()</span></span> -&gt; <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">ProductionService</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">ProductionServiceFactory</span>()</span><br><span class="line"><span class="keyword">let</span> request = factory.create()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºä»€ä¹ˆæˆ‘ä»¬å°†æ‰€æœ‰é€»è¾‘åˆ†ä¸ºä¸¤ç±»å’Œåè®®ï¼Ÿ è¯·ç›¸ä¿¡æˆ‘å»è€¦æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ ä»ç°åœ¨å¼€å§‹ï¼Œä½ å¯ä»¥è½»æ¾ç¼–å†™å¸¦æœ‰è™šæ‹Ÿ <code>url</code> çš„æ¨¡æ‹ŸæœåŠ¡ã€‚ æ˜¾ç„¶ï¼Œè¿™éœ€è¦ä¸€ä¸ªåŒ¹é…çš„å·¥å‚ç±»ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™äº›æ¨¡æ‹Ÿå®ä¾‹è¿˜å°†å®ç°æœåŠ¡åè®®ï¼Œå› æ­¤ä½ å¯ä»¥ä»¥ç›¸å¯¹è½»æ¾çš„æ–¹å¼æ·»åŠ æ–°ç±»å‹ï¼Œè€Œæ— éœ€æ›´æ”¹åŸå§‹ä»£ç åº“ã€‚ å·¥å‚æ–¹æ³•è§£å†³äº†ç®€å•å·¥å‚æ¨¡å¼çš„ä¸€ä¸ªç‰¹å®šé—®é¢˜ã€‚ å¦‚æœåˆ—è¡¨ï¼ˆ <code>switch-case</code> çš„åˆ—è¡¨ï¼‰å¤ªé•¿ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªå·¥å‚å°±å¾ˆéš¾ç»´æŠ¤æ–°å¯¹è±¡ã€‚ å·¥å‚æ–¹æ³•é€šè¿‡å¼•å…¥å¤šä¸ªå·¥å‚å¯¹è±¡æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼æ˜¯ä¸€ç§ä¸“ç”¨çš„éé™æ€æ–¹æ³•ï¼Œç”¨äºéšè—å¯¹è±¡çš„åˆ›å»ºé€»è¾‘ã€‚ è®©æˆ‘ä»¬ç”¨Swiftåšå§ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆè‹±è¯­ï¼šFactory method patternï¼‰æ˜¯ä¸€ç§å®ç°äº†â€œå·¥å‚â€æ¦‚å¿µçš„é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼ã€‚å°±åƒå…¶ä»–åˆ›å»ºå‹æ¨¡å¼ä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯å¤„ç†åœ¨ä¸æŒ‡å®šå¯¹è±¡å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼çš„å®è´¨æ˜¯â€œå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†è®©å®ç°è¿™ä¸ªæ¥å£çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•è®©ç±»çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å·¥å‚æ–¹æ³•è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¸­å¿«é€Ÿç®€å•çš„å·¥å‚è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E4%B8%AD%E5%BF%AB%E9%80%9F%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E4%B8%AD%E5%BF%AB%E9%80%9F%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T05:15:16.000Z</published>
    <updated>2020-04-25T07:15:19.575Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ¬¡ï¼Œæˆ‘ä»¬æ¥è®¨è®ºç®€å•çš„å·¥å‚è®¾è®¡æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä½¿ç”¨Swiftä»¥ä¸€ç§éå¸¸ç®€å•çš„æ–¹å¼å°è£…å¯¹è±¡åˆ›å»ºã€‚</p></blockquote><h1 id="ä½¿ç”¨-switch-case-å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼"><a href="#ä½¿ç”¨-switch-case-å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼" class="headerlink" title="ä½¿ç”¨ switch-case å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼"></a><strong>ä½¿ç”¨ switch-case å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ¨¡å¼çš„ç›®æ ‡æ˜¯å°è£…ä¸€äº›ç»å¸¸å˜åŒ–çš„ä¸œè¥¿ã€‚ æƒ³è±¡ä¸€ä¸‹åº”ç”¨ç¨‹åºçš„è°ƒè‰²æ¿ã€‚ ä½ å¯èƒ½å¿…é¡»æ¯å¤©æ ¹æ®è®¾è®¡å¸ˆçš„æœ€æ–°ä¹ æƒ¯æ¥æ›´æ”¹é¢œè‰²ã€‚ å¦‚æœä½ ä¸å¾—ä¸æ‰‹åŠ¨æœç´¢å’Œæ›¿æ¢æ¯ä¸ªå•ç‹¬çš„é¢œè‰²ä»£ç å®ä¾‹ï¼Œé‚£å°†ç»™ä½ å¸¦æ¥æå¤§çš„ä¸ä¾¿ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬åœ¨Swiftä¸­åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥å‚ï¼Œè¯¥å·¥å‚å¯ä»¥æ ¹æ®ç»™å®šçš„æ ·å¼è¿”å›é¢œè‰²ã€‚ ğŸ©</p><a id="more"></a><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Style</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> text</span><br><span class="line">        <span class="keyword">case</span> background</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">(<span class="number">_</span> style: Style)</span></span> -&gt; <span class="type">UIColor</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> style &#123;</span><br><span class="line">        <span class="keyword">case</span> .text:</span><br><span class="line">            <span class="keyword">return</span> .black</span><br><span class="line">        <span class="keyword">case</span> .background:</span><br><span class="line">            <span class="keyword">return</span> .white</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">ColorFactory</span>()</span><br><span class="line"><span class="keyword">let</span> textColor = factory.create(.text)</span><br><span class="line"><span class="keyword">let</span> backgroundColor = factory.create(.background)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™çœŸçš„å¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯æ¶‰åŠå¤æ‚çš„å¯¹è±¡åˆå§‹åŒ–è¿‡ç¨‹æ—¶ã€‚ æ‚¨è¿˜å¯ä»¥å®šä¹‰ä¸€ä¸ªåè®®ï¼Œå¹¶ä½¿ç”¨ <code>switch-case</code> å—è¿”å›å®ç°æ‰€éœ€æ¥å£çš„å„ç§å®ä¾‹ç±»å‹ã€‚ ğŸš¦</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Environment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> identifier: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DevEnvironment</span>: <span class="title">Environment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> identifier: <span class="type">String</span> &#123; <span class="keyword">return</span> <span class="string">"dev"</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LiveEnvironment</span>: <span class="title">Environment</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> identifier: <span class="type">String</span> &#123; <span class="keyword">return</span> <span class="string">"live"</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EnvironmentFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">EnvType</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> dev</span><br><span class="line">        <span class="keyword">case</span> live</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">(<span class="number">_</span> type: EnvType)</span></span> -&gt; <span class="type">Environment</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> type &#123;</span><br><span class="line">        <span class="keyword">case</span> .dev:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">DevEnvironment</span>()</span><br><span class="line">        <span class="keyword">case</span> .live:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">LiveEnvironment</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> factory = <span class="type">EnvironmentFactory</span>()</span><br><span class="line"><span class="keyword">let</span> dev = factory.create(.dev)</span><br><span class="line"><span class="built_in">print</span>(dev.identifier)</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œæœ‰å…³ç®€å•å·¥å‚è®¾è®¡æ¨¡å¼çš„å‡ ä»¶äº‹è¦è®°ä½ï¼š</p><ul><li>é€šè¿‡åˆ†ç¦»åˆå§‹åŒ–å’Œä½¿ç”¨é€»è¾‘ï¼Œæœ‰åŠ©äºæ¾è€¦åˆ</li><li>å®ƒåªæ˜¯åŒ…è£…å¯ä»¥ç»å¸¸æ›´æ”¹çš„ä¸œè¥¿çš„åŒ…è£…å™¨</li><li>å¯ä»¥ä½¿ç”¨æšä¸¾å’Œå¼€å…³ç›’åœ¨Swiftä¸­å®ç°ç®€å•çš„å·¥å‚</li><li>å¦‚æœæ‚¨è®¡åˆ’è¿”å›ä¸åŒçš„å¯¹è±¡ï¼ˆPOPğŸ‰ï¼‰ï¼Œè¯·ä½¿ç”¨åè®®</li><li>ä¿æŒç®€å•ğŸ­</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ç§æ¨¡å¼å°†åˆ›å»ºä¸å®é™…ç”¨æ³•åˆ†å¼€ï¼Œå¹¶å°†èŒè´£ç§»è‡³ç‰¹å®šè§’è‰²ï¼Œå› æ­¤ï¼Œå¦‚æœå‘ç”ŸæŸäº›å˜åŒ–ï¼Œä½ åªéœ€è¦ä¿®æ”¹å·¥å‚å³å¯ã€‚ ä½ å¯ä»¥ä¿ç•™æ‰€æœ‰æµ‹è¯•ï¼Œè€Œå…¶ä»–æ‰€æœ‰åŠŸèƒ½åˆ™å®Œå…¨ä¸å—å½±å“ã€‚ å¼ºå¤§è€Œç®€å•ï¼ ğŸ’ª</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è¿™æ¬¡ï¼Œæˆ‘ä»¬æ¥è®¨è®ºç®€å•çš„å·¥å‚è®¾è®¡æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä½¿ç”¨Swiftä»¥ä¸€ç§éå¸¸ç®€å•çš„æ–¹å¼å°è£…å¯¹è±¡åˆ›å»ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;ä½¿ç”¨-switch-case-å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-switch-case-å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ switch-case å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼&quot;&gt;&lt;/a&gt;&lt;strong&gt;ä½¿ç”¨ switch-case å®ç°ç®€å•çš„å·¥å‚æ¨¡å¼&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è¿™ç§æ¨¡å¼çš„ç›®æ ‡æ˜¯å°è£…ä¸€äº›ç»å¸¸å˜åŒ–çš„ä¸œè¥¿ã€‚ æƒ³è±¡ä¸€ä¸‹åº”ç”¨ç¨‹åºçš„è°ƒè‰²æ¿ã€‚ ä½ å¯èƒ½å¿…é¡»æ¯å¤©æ ¹æ®è®¾è®¡å¸ˆçš„æœ€æ–°ä¹ æƒ¯æ¥æ›´æ”¹é¢œè‰²ã€‚ å¦‚æœä½ ä¸å¾—ä¸æ‰‹åŠ¨æœç´¢å’Œæ›¿æ¢æ¯ä¸ªå•ç‹¬çš„é¢œè‰²ä»£ç å®ä¾‹ï¼Œé‚£å°†ç»™ä½ å¸¦æ¥æå¤§çš„ä¸ä¾¿ã€‚ å› æ­¤ï¼Œè®©æˆ‘ä»¬åœ¨Swiftä¸­åˆ›å»ºä¸€ä¸ªç®€å•çš„å·¥å‚ï¼Œè¯¥å·¥å‚å¯ä»¥æ ¹æ®ç»™å®šçš„æ ·å¼è¿”å›é¢œè‰²ã€‚ ğŸ©&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å·¥å‚æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="æ„é€ å‡½æ•°" scheme="http://www.xuebaonline.com/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="é™æ€å·¥å‚æ–¹æ³•" scheme="http://www.xuebaonline.com/tags/%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Swiftä¸­æ„é€ å‡½æ•°ä¸é™æ€å·¥å‚æ–¹æ³•çš„æ¯”è¾ƒ</title>
    <link href="http://www.xuebaonline.com/Swift%E4%B8%AD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83/"/>
    <id>http://www.xuebaonline.com/Swift%E4%B8%AD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83/</id>
    <published>2020-04-25T04:19:43.000Z</published>
    <updated>2020-04-25T05:12:12.961Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œå“ªä¸ªæ›´å¥½ï¼šæ„é€ å‡½æ•°è¿˜æ˜¯é™æ€å·¥å‚æ–¹æ³•ï¼Ÿ æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æˆ‘ç›¸ä¿¡Joshua Bloch åœ¨ä»–çš„éå¸¸ä¸é”™çš„ä¹¦ ã€ŠEffective Javaã€‹ ä¸­é¦–å…ˆè¯´äº†å®ƒï¼šä¸æ„é€ å‡½æ•°ç›¸æ¯”ï¼Œé™æ€å·¥å‚æ–¹æ³•æ˜¯å®ä¾‹åŒ–å¯¹è±¡çš„é¦–é€‰æ–¹æ³•ã€‚ æˆ‘ä¸åŒæ„ã€‚ ä¸ä»…å› ä¸ºæˆ‘ç›¸ä¿¡é™æ€æ–¹æ³•æ˜¯çº¯ç²¹çš„é‚ªæ¶ï¼Œè€Œä¸”ä¸»è¦æ˜¯å› ä¸ºåœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå®ƒä»¬å½¢æˆå¥½çš„æ–¹æ³•ï¼Œä½¿æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬å¿…é¡»åå‘ä½¿ç”¨å®ƒä»¬ã€‚</p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘ä»¬ä»é¢å‘å¯¹è±¡çš„è§’åº¦åˆ†ææ¨ç†å¹¶å¼„æ¸…æ¥šå…¶åŸå› ã€‚è¿™æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€ä¸ªä¸»è¦æ„é€ å‡½æ•°å’Œä¸¤ä¸ªæ¬¡è¦æ„é€ å‡½æ•°çš„ç±»ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> int hex;</span><br><span class="line">    <span class="type">Color</span>(<span class="type">String</span> rgb) &#123;</span><br><span class="line">        this(<span class="type">Integer</span>.parseInt(rgb, <span class="number">16</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Color</span>(int red, int green, int blue) &#123;</span><br><span class="line">        this(red &lt;&lt; <span class="number">16</span> + green &lt;&lt; <span class="number">8</span> + blue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">Color</span>(int h) &#123;</span><br><span class="line">        this.hex = h;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å¸¦æœ‰ä¸‰ä¸ªé™æ€å·¥å‚æ–¹æ³•çš„ç±»ä¼¼ç±»ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> int hex;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Color</span> makeFromRGB(<span class="type">String</span> rgb) &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(<span class="type">Integer</span>.parseInt(rgb, <span class="number">16</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Color</span> makeFromPalette(int red, int green, int blue) &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(red &lt;&lt; <span class="number">16</span> + green &lt;&lt; <span class="number">8</span> + blue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Color</span> makeFromHex(int h) &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Color</span>(int h) &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ æ›´å–œæ¬¢å“ªä¸€ä¸ªï¼Ÿ</p><p>æ ¹æ®Joshua Blochçš„è¯´æ³•ï¼Œä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•è€Œä¸æ˜¯æ„é€ å‡½æ•°å…·æœ‰ä¸‰ä¸ªåŸºæœ¬ä¼˜ç‚¹ï¼ˆå®é™…ä¸Šæœ‰å››ä¸ªä¼˜ç‚¹ï¼Œä½†æ˜¯ç¬¬å››ä¸ªä¸å†é€‚ç”¨äºJavaï¼‰ï¼š</p><ul><li>ä»–ä»¬æœ‰åå­—ã€‚</li><li>ä»–ä»¬å¯ä»¥ç¼“å­˜ã€‚</li><li>å®ƒä»¬å¯ä»¥æ˜¯å­ç±»å‹ã€‚</li></ul><p>æˆ‘è®¤ä¸ºï¼Œå¦‚æœè®¾è®¡é”™è¯¯ï¼Œé‚£ä¹ˆè¿™ä¸‰è€…éƒ½æ˜¯å¾ˆåˆç†çš„ã€‚ å®ƒä»¬æ˜¯è§£å†³é—®é¢˜çš„å¥½åŠæ³•ã€‚ è®©æˆ‘ä»¬ä¸€ä¸€ä»‹ç»ã€‚</p><h1 id="å‘½åå­˜åœ¨"><a href="#å‘½åå­˜åœ¨" class="headerlink" title="å‘½åå­˜åœ¨"></a><strong>å‘½åå­˜åœ¨</strong></h1><p>è¿™æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°åˆ¶ä½œ <code>red tomato</code> é¢œè‰²å¯¹è±¡çš„æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = new <span class="type">Color</span>(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•çš„æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = <span class="type">Color</span>.makeFromPalette(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>makeFromPaletteï¼ˆï¼‰</code> åœ¨è¯­ä¹‰ä¸Šæ¯”æ–°çš„ <code>Colorï¼ˆï¼‰</code> æ›´ä¸°å¯Œã€‚ å¦‚æœæˆ‘ä»¬å°†å®ƒä»¬ä¼ é€’ç»™æ„é€ å‡½æ•°ï¼Œè°çŸ¥é“è¿™ä¸‰ä¸ªæ•°å­—æ„å‘³ç€ä»€ä¹ˆã€‚ ä½†æ˜¯â€œpaletteâ€å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç«‹å³è§£å†³æ‰€æœ‰é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œæ­£ç¡®çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¤šæ€å’Œå°è£…ï¼Œä»¥å°†é—®é¢˜åˆ†è§£ä¸ºå‡ ä¸ªè¯­ä¹‰ä¸°å¯Œçš„ç±»ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="type">Color</span> &#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HexColor</span> <span class="title">implements</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> int hex;</span><br><span class="line">    <span class="type">HexColor</span>(int h) &#123;</span><br><span class="line">        this.hex = h;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RGBColor</span> <span class="title">implements</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Color</span> origin;</span><br><span class="line">    <span class="type">RGBColor</span>(int red, int green, int blue) &#123;</span><br><span class="line">        this.origin = new <span class="type">HexColor</span>(</span><br><span class="line">            red &lt;&lt; <span class="number">16</span> + green &lt;&lt; <span class="number">8</span> + blue</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ç±»çš„æ„é€ å‡½æ•°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = new <span class="type">RGBColor</span>(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure></br><h1 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a><strong>ç¼“å­˜</strong></h1><p>å‡è®¾æˆ‘åœ¨åº”ç”¨ç¨‹åºä¸­çš„å¤šä¸ªä½ç½®éœ€è¦ä¸€ä¸ª <code>red tomato</code> ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = new <span class="type">Color</span>(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br><span class="line"><span class="comment">// ... sometime later</span></span><br><span class="line"><span class="type">Color</span> red = new <span class="type">Color</span>(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æ­¤åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¾ç„¶æ˜¯ä½æ•ˆçš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚ æœ€å¥½å°†ç¬¬ä¸€ä¸ªå®ä¾‹ä¿ç•™åœ¨å†…å­˜ä¸­çš„æŸä¸ªä½ç½®ï¼Œå¹¶åœ¨ç¬¬äºŒä¸ªè°ƒç”¨åˆ°è¾¾æ—¶å°†å…¶è¿”å›ã€‚ é™æ€å·¥å‚æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = <span class="type">Color</span>.makeFromPalette(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br><span class="line"><span class="comment">// ... sometime later</span></span><br><span class="line"><span class="type">Color</span> red = <span class="type">Color</span>.makeFromPalette(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶ååœ¨ <code>Color</code> å†…çš„æŸä¸ªåœ°æ–¹ï¼Œä¿å­˜ä¸€ä¸ªç§æœ‰é™æ€ <code>Map</code> ï¼Œå…¶ä¸­å·²å®ä¾‹åŒ–äº†æ‰€æœ‰å¯¹è±¡ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Map</span> &lt; <span class="type">Integer</span>, <span class="type">Color</span> &gt; <span class="type">CACHE</span> =</span><br><span class="line">        new <span class="type">HashMap</span> &lt; &gt; ();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> int hex;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Color</span> makeFromPalette(int red, int green, int blue) &#123;</span><br><span class="line">        <span class="keyword">final</span> int hex = red &lt;&lt; <span class="number">16</span> + green &lt;&lt; <span class="number">8</span> + blue;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Color</span>.<span class="type">CACHE</span>.computeIfAbsent(</span><br><span class="line">            hex, h - &gt; new <span class="type">Color</span>(h)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Color</span>(int h) &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ˜¯éå¸¸é«˜æ•ˆçš„ã€‚ å¯¹äºåƒæˆ‘ä»¬çš„ <code>Color</code> è¿™æ ·çš„å¯¹è±¡ï¼Œé—®é¢˜å¯èƒ½ä¸ä¼šé‚£ä¹ˆæ˜æ˜¾ï¼Œä½†æ˜¯å½“å¯¹è±¡è¾ƒå¤§æ—¶ï¼Œå…¶å®ä¾‹åŒ–å’Œåƒåœ¾å›æ”¶å¯èƒ½ä¼šæµªè´¹å¤§é‡æ—¶é—´ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œæœ‰ä¸€ç§é¢å‘å¯¹è±¡çš„æ–¹æ³•å¯ä»¥è§£å†³æ­¤é—®é¢˜ã€‚ æˆ‘ä»¬åªæ˜¯ä»‹ç»äº†ä¸€ä¸ªæ–°çš„ç±» <code>Palette</code> ï¼Œå®ƒå°†å˜æˆä¸€ä¸ªé¢œè‰²å­˜å‚¨åŒºï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Palette</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Map</span> &lt; <span class="type">Integer</span>, <span class="type">Color</span> &gt; colors =</span><br><span class="line">        new <span class="type">HashMap</span> &lt; &gt; ();</span><br><span class="line">    <span class="type">Color</span> take(int red, int green, int blue) &#123;</span><br><span class="line">        <span class="keyword">final</span> int hex = red &lt;&lt; <span class="number">16</span> + green &lt;&lt; <span class="number">8</span> + blue;</span><br><span class="line">        <span class="keyword">return</span> this.computerIfAbsent(</span><br><span class="line">            hex, h - &gt; new <span class="type">Color</span>(h)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œæˆ‘ä»¬ä¸€æ¬¡åˆ›å»ºä¸€ä¸ª <code>Palette</code> å®ä¾‹ï¼Œå¹¶è¦æ±‚å®ƒåœ¨æ¯æ¬¡éœ€è¦æ—¶å‘æˆ‘ä»¬è¿”å›ä¸€ç§é¢œè‰²ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> tomato = palette.take(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br><span class="line"><span class="comment">// Later we will get the same instance:</span></span><br><span class="line"><span class="type">Color</span> red = palette.take(<span class="number">255</span>, <span class="number">99</span>, <span class="number">71</span>);</span><br></pre></td></tr></table></figure><p><strong>æ²¡æœ‰é™æ€æ–¹æ³•ï¼Œæ²¡æœ‰é™æ€å±æ€§ã€‚</strong></p></br><h1 id="å­ç±»å‹"><a href="#å­ç±»å‹" class="headerlink" title="å­ç±»å‹"></a><strong>å­ç±»å‹</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡è®¾æˆ‘ä»¬çš„ <code>Color</code> ç±»å…·æœ‰ <code>lighter()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åº”è¯¥å°†é¢œè‰²è½¬ç§»åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨çš„ <code>lighter</code> ä¸Šï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    protected <span class="keyword">final</span> int hex;</span><br><span class="line">    <span class="type">Color</span>(int h) &#123;</span><br><span class="line">        this.hex = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">Color</span> lighter() &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">Color</span>(hex + <span class="number">0x111</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œæœ‰æ—¶æ›´å¸Œæœ›é€šè¿‡ä¸€ç»„å¯ç”¨çš„ <code>Pantone</code> é¢œè‰²é€‰æ‹©ä¸‹ä¸€ç§è¾ƒæµ…çš„é¢œè‰²ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PantoneColor</span> <span class="title">extends</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">PantoneName</span> pantone;</span><br><span class="line">    <span class="type">PantoneColor</span>(<span class="type">String</span> name) &#123;</span><br><span class="line">        this(new <span class="type">PantoneName</span>(name));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">PantoneColor</span>(<span class="type">PantoneName</span> name) &#123;</span><br><span class="line">        this.pantone = name;</span><br><span class="line">    &#125;</span><br><span class="line">    @<span class="type">Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">Color</span> lighter() &#123;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">PantoneColor</span>(this.pantone.up());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé™æ€å·¥å‚æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†å†³å®šå“ªç§ <code>Color</code> å®ç°æœ€é€‚åˆæˆ‘ä»¬ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">String</span> code;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">Color</span> make(int h) &#123;</span><br><span class="line">        <span class="keyword">if</span> (h == <span class="number">0xBF1932</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> new <span class="type">PantoneColor</span>(<span class="string">"19-1664 TPX"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">RGBColor</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å¦‚æœè¦æ±‚ä½¿ç”¨çœŸæ­£çš„çº¢è‰²ï¼Œæˆ‘ä»¬å°†è¿”å› <code>PantoneColor</code> çš„ä¸€ä¸ªå®ä¾‹ã€‚ åœ¨æ‰€æœ‰å…¶ä»–æƒ…å†µä¸‹ï¼Œå®ƒåªæ˜¯æ ‡å‡†çš„ <code>RGBColor</code> ã€‚ è¯¥å†³å®šæ˜¯é€šè¿‡é™æ€å·¥å‚æ–¹æ³•åšå‡ºçš„ã€‚ è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> color = <span class="type">Color</span>.make(<span class="number">0xBF1932</span>);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç”±äºæ„é€ å‡½æ•°åªèƒ½è¿”å›åœ¨å…¶ä¸­å£°æ˜çš„ç±»ï¼Œå› æ­¤ä¸å¯èƒ½å¯¹æ„é€ å‡½æ•°æ‰§è¡Œç›¸åŒçš„ <code>â€œforkingâ€</code> ã€‚é™æ€æ–¹æ³•å…·æœ‰è¿”å› <code>Color</code> çš„ä»»ä½•å­ç±»å‹æ‰€éœ€çš„æ‰€æœ‰è‡ªç”±ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä½†æ˜¯ï¼Œåœ¨é¢å‘å¯¹è±¡çš„ä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è€Œä¸”å¿…é¡»ä»¥ä¸åŒçš„æ–¹å¼å»åšã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°† <code>Color</code> è®¾ç½®ä¸ºæ¥å£ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="type">Color</span> &#123;</span><br><span class="line">    <span class="type">Color</span> lighter();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†éœ€è¦çš„æ„é€ æ–¹æ³•ç§»è‡³å…¶è‡ªå·±çš„ç±» <code>Colors</code> ï¼Œå°±åƒåœ¨ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­æ‰€åšçš„é‚£æ ·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Colors</span> </span>&#123;</span><br><span class="line">    <span class="type">Color</span> make(int h) &#123;</span><br><span class="line">        <span class="keyword">if</span> (h == <span class="number">0xBF1932</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> new <span class="type">PantoneColor</span>(<span class="string">"19-1664-TPX"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">RGBColor</span>(h);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è€Œä¸”æˆ‘ä»¬å°†ä½¿ç”¨ <code>Colors</code> ç±»çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ <code>Color</code> å†…éƒ¨çš„é™æ€æ–¹æ³•ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">colors.make(<span class="number">0xBF1932</span>);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯ï¼Œè¿™ä»ç„¶ä¸æ˜¯çœŸæ­£çš„é¢å‘å¯¹è±¡çš„æ€ç»´æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨å°†å†³ç­–æƒä»å®ƒæ‰€å±çš„å¯¹è±¡ä¸Šç§»å¼€ã€‚ é€šè¿‡é™æ€å·¥å‚æ–¹æ³• <code>makeï¼ˆ</code>ï¼‰æˆ–æ–°ç±» <code>Colors</code> ï¼ˆå®é™…ä¸Šå¹¶ä¸é‡è¦ï¼‰ï¼Œæˆ‘ä»¬å°†å¯¹è±¡åˆ†æˆä¸¤éƒ¨åˆ†ã€‚ ç¬¬ä¸€éƒ¨åˆ†æ˜¯å¯¹è±¡æœ¬èº«ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å†³ç­–ç®—æ³•ï¼Œå®ƒä½äºå…¶ä»–åœ°æ–¹ã€‚<br>é¢å‘å¯¹è±¡çš„è®¾è®¡æ˜¯å°†é€»è¾‘æ”¾å…¥ <code>PantoneColor</code> ç±»çš„å¯¹è±¡ä¸­ï¼Œè¯¥å¯¹è±¡å°†è£…é¥°åŸå§‹çš„RGBColorï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PantoneColor</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Color</span> origin;</span><br><span class="line">    <span class="type">PantoneColor</span>(<span class="type">Color</span> color) &#123;</span><br><span class="line">        this.origin = color;</span><br><span class="line">    &#125;</span><br><span class="line">    @<span class="type">Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">Color</span> lighter() &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Color</span> next;</span><br><span class="line">        <span class="keyword">if</span> (this.origin.hex() == <span class="number">0xBF1932</span>) &#123;</span><br><span class="line">            next = new <span class="type">RGBColor</span>(<span class="number">0xD12631</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            next = this.origin.lighter();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> new <span class="type">PantoneColor</span>(next);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>RGBColor</code> å®ä¾‹ï¼Œå¹¶ä½¿ç”¨ <code>PantoneColor</code> è£…é¥°å®ƒï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> red = new <span class="type">PantoneColor</span>(</span><br><span class="line">    new <span class="type">RGBColor</span>(<span class="number">0xBF1932</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è¦æ±‚çº¢è‰²è¿”å›è¾ƒæµ…çš„é¢œè‰²ï¼Œå®ƒè¿”å› <code>Pantone</code> è°ƒè‰²æ¿ä¸­çš„ä¸€ç§ï¼Œè€Œä¸æ˜¯ä»…åœ¨ <code>RGB</code> åæ ‡ä¸­è¾ƒæµ…çš„é¢œè‰²ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Color</span> lighter = red.lighter(); <span class="comment">// 0xD12631</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç„¶ï¼Œè¿™ä¸ªç¤ºä¾‹æ˜¯åŸå§‹çš„ï¼Œå¦‚æœæˆ‘ä»¬çœŸçš„å¸Œæœ›å®ƒé€‚ç”¨äºæ‰€æœ‰ <code>Pantone</code> é¢œè‰²ï¼Œåˆ™éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ã€‚ é€»è¾‘å¿…é¡»ä¿ç•™åœ¨ç±»å†…éƒ¨ï¼Œè€Œä¸æ˜¯å¤–éƒ¨ï¼Œé™æ€å·¥å‚æ–¹æ³•ç”šè‡³å…¶ä»–è¡¥å……ç±»ä¸­ã€‚ å½“ç„¶ï¼Œæˆ‘åœ¨è¯´çš„æ˜¯å±äºè¿™ä¸ªç‰¹å®šç±»çš„é€»è¾‘ã€‚ å¦‚æœä¸ç±»å®ä¾‹çš„ç®¡ç†æœ‰å…³ï¼Œåˆ™å¯ä»¥æœ‰å®¹å™¨å’Œå­˜å‚¨ï¼Œå°±åƒä¸Šé¢çš„ä¸Šä¸€ä¸ªç¤ºä¾‹ä¸€æ ·ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨ä¸è¦ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œå°¤å…¶æ˜¯å½“å®ƒä»¬è¦æ›¿æ¢å¯¹è±¡æ„é€ å‡½æ•°æ—¶ã€‚ é€šè¿‡å…¶æ„é€ å‡½æ•°ç”Ÿæˆå¯¹è±¡æ˜¯ä»»ä½•é¢å‘å¯¹è±¡è½¯ä»¶ä¸­æœ€â€œç¥åœ£â€çš„æ—¶åˆ»ï¼Œè¯·ä¸è¦é”™è¿‡å®ƒçš„ç¾ä¸½ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å½“å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œå“ªä¸ªæ›´å¥½ï¼šæ„é€ å‡½æ•°è¿˜æ˜¯é™æ€å·¥å‚æ–¹æ³•ï¼Ÿ æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æˆ‘ç›¸ä¿¡Joshua Bloch åœ¨ä»–çš„éå¸¸ä¸é”™çš„ä¹¦ ã€ŠEffective Javaã€‹ ä¸­é¦–å…ˆè¯´äº†å®ƒï¼šä¸æ„é€ å‡½æ•°ç›¸æ¯”ï¼Œé™æ€å·¥å‚æ–¹æ³•æ˜¯å®ä¾‹åŒ–å¯¹è±¡çš„é¦–é€‰æ–¹æ³•ã€‚ æˆ‘ä¸åŒæ„ã€‚ ä¸ä»…å› ä¸ºæˆ‘ç›¸ä¿¡é™æ€æ–¹æ³•æ˜¯çº¯ç²¹çš„é‚ªæ¶ï¼Œè€Œä¸”ä¸»è¦æ˜¯å› ä¸ºåœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå®ƒä»¬å½¢æˆå¥½çš„æ–¹æ³•ï¼Œä½¿æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬å¿…é¡»åå‘ä½¿ç”¨å®ƒä»¬ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å·¥å‚æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="æ„é€ å‡½æ•°" scheme="http://www.xuebaonline.com/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="é™æ€å·¥å‚æ–¹æ³•" scheme="http://www.xuebaonline.com/tags/%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Swifté™æ€å·¥å‚è®¾è®¡æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T03:48:39.000Z</published>
    <updated>2020-04-25T04:21:36.398Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹æœ‰å…³ <a href="https://zh.wikipedia.org/wiki/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95" target="_blank" rel="noopener" title="é™æ€å·¥å‚è®¾è®¡æ¨¡å¼">é™æ€å·¥å‚è®¾è®¡æ¨¡å¼</a> çš„çŸ¥è¯†ï¼Œå¹¶å±•ç¤ºä¸€äº›ä½¿ç”¨Swiftç¼–ç¨‹è¯­è¨€çš„ç”¨ä¾‹ã€‚</p></blockquote><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆè‹±è¯­ï¼šFactory method patternï¼‰æ˜¯ä¸€ç§å®ç°äº†â€œå·¥å‚â€æ¦‚å¿µçš„é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼ã€‚å°±åƒå…¶ä»–åˆ›å»ºå‹æ¨¡å¼ä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯å¤„ç†åœ¨ä¸æŒ‡å®šå¯¹è±¡å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼çš„å®è´¨æ˜¯â€œå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†è®©å®ç°è¿™ä¸ªæ¥å£çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•è®©ç±»çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚â€ </p></blockquote><a id="more"></a><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¸¸å¸¸éœ€è¦å¤æ‚çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ä¸é€‚åˆåŒ…å«åœ¨ä¸€ä¸ªå¤åˆå¯¹è±¡ä¸­ã€‚åˆ›å»ºå¯¹è±¡å¯èƒ½ä¼šå¯¼è‡´å¤§é‡çš„é‡å¤ä»£ç ï¼Œå¯èƒ½ä¼šéœ€è¦å¤åˆå¯¹è±¡è®¿é—®ä¸åˆ°çš„ä¿¡æ¯ï¼Œä¹Ÿå¯èƒ½æä¾›ä¸äº†è¶³å¤Ÿçº§åˆ«çš„æŠ½è±¡ï¼Œè¿˜å¯èƒ½å¹¶ä¸æ˜¯å¤åˆå¯¹è±¡æ¦‚å¿µçš„ä¸€éƒ¨åˆ†ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼é€šè¿‡å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚ç”±å­ç±»å®ç°è¿™ä¸ªæ–¹æ³•æ¥åˆ›å»ºå…·ä½“ç±»å‹çš„å¯¹è±¡ã€‚</p></blockquote></br><h1 id="é™æ€å·¥å‚æ¨¡å¼ç¤ºä¾‹"><a href="#é™æ€å·¥å‚æ¨¡å¼ç¤ºä¾‹" class="headerlink" title="é™æ€å·¥å‚æ¨¡å¼ç¤ºä¾‹"></a><strong>é™æ€å·¥å‚æ¨¡å¼ç¤ºä¾‹</strong></h1><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹è±¡åˆ›å»ºä¸­çš„æœ‰äº›è¿‡ç¨‹åŒ…æ‹¬å†³å®šåˆ›å»ºå“ªä¸ªå¯¹è±¡ã€ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠç®¡ç†ç‰¹å®šå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯çš„æ¦‚å¿µã€‚</p></blockquote><h2 id="å‘½åæ„é€ å‡½æ•°"><a href="#å‘½åæ„é€ å‡½æ•°" class="headerlink" title="å‘½åæ„é€ å‡½æ•°"></a><strong>å‘½åæ„é€ å‡½æ•°</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³äºé™æ€è£…é¥°æ¨¡å¼çš„ç¬¬ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæ¯ä¸ªé™æ€è£…é¥°æ–¹æ³•éƒ½å¯ä»¥æœ‰ä¸€ä¸ªåç§°ã€‚ <code>Apple</code> åœ¨å…¶ <code>UIColor</code> ç±»å®ç°ä¸­ä½¿ç”¨æ­¤æ¨¡å¼æ¥åˆ›å»ºè¯¸å¦‚ <code>.red</code> ï¼Œ<code>.yellow</code> ç­‰çš„å‘½åé¢œè‰²ã€‚è¯·æ³¨æ„ï¼Œ<code>Swift</code> ä¸­çš„å®ç°å®é™…ä¸Šä¸æ˜¯æ–¹æ³•ï¼Œè€Œæ˜¯é™æ€å±æ€§ï¼Œå®ƒè¿”å›å®é™…å®ä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">TimeInterval</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> second: <span class="type">TimeInterval</span> &#123; <span class="keyword">return</span> <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> minute: <span class="type">TimeInterval</span> &#123; <span class="keyword">return</span> <span class="number">60</span> &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> hour: <span class="type">TimeInterval</span> &#123; <span class="keyword">return</span> <span class="number">3_600</span> &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> day: <span class="type">TimeInterval</span> &#123; <span class="keyword">return</span> <span class="number">86_400</span> &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> week: <span class="type">TimeInterval</span> &#123; <span class="keyword">return</span> <span class="number">604_800</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå¾ˆéš¾è®°ä½ä¸€å¤©æˆ–ä¸€å‘¨æ˜¯å‡ ç§’é’Ÿï¼Œä¸ºä»€ä¹ˆä¸ä¸ºå®ƒåˆ›å»ºä¸€ä¸ªå‘½ååˆå§‹åŒ–å™¨ã€‚ çœ‹åˆ° <code>TimeInterval.week</code> æ¯” <code>604_800</code> å¥½å¾—å¤šã€‚ ğŸ˜…</p></br><h2 id="ç¼“å­˜å¯¹è±¡"><a href="#ç¼“å­˜å¯¹è±¡" class="headerlink" title="ç¼“å­˜å¯¹è±¡"></a><strong>ç¼“å­˜å¯¹è±¡</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™æ€å·¥å‚æ¨¡å¼çš„ä¸‹ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œä¸ºäº†æ›´å¥½åœ°ä½¿ç”¨å†…å­˜ï¼Œå®ƒå¯ä»¥æ”¯æŒç¼“å­˜ã€‚ è¿™æ ·ï¼Œå¦‚æœä½ é€šè¿‡é™æ€æ„é€ å‡½æ•°ï¼ˆä¹Ÿç§°ä¸º<a href="http://www.xuebaonline.com/Swift%E4%B8%AD%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8E%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83/" title="Swiftä¸­æ„é€ å‡½æ•°ä¸é™æ€å·¥å‚æ–¹æ³•çš„æ¯”è¾ƒ">é™æ€å·¥å‚æ–¹æ³•</a>ï¼‰å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™å¯ä»¥é™åˆ¶æ‰€åˆ›å»ºå¯¹è±¡çš„æ•°é‡ã€‚ ğŸ­</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - cache</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">var</span> cache: [<span class="type">String</span>:<span class="type">Service</span>] = [:]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">cached</span><span class="params">(name: String)</span></span> -&gt; <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="type">Service</span>.cache[name] == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="type">Service</span>.cache[name] = <span class="type">Service</span>(named: name)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Service</span>.cache[name]!</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - static factory</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> local: <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Service</span>.cached(name: <span class="string">"local"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> remote: <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Service</span>.cached(name: <span class="string">"remote"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - init</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(named name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><h2 id="æœ¬åœ°åˆå§‹åŒ–èŒƒå›´"><a href="#æœ¬åœ°åˆå§‹åŒ–èŒƒå›´" class="headerlink" title="æœ¬åœ°åˆå§‹åŒ–èŒƒå›´"></a><strong>æœ¬åœ°åˆå§‹åŒ–èŒƒå›´</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³äºé™æ€å·¥å‚æ–¹æ³•çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥å°†ç±»çš„åˆå§‹åŒ–é™åˆ¶ä¸ºç§æœ‰ä½œç”¨åŸŸã€‚ æ¢å¥è¯è¯´ï¼Œåªèƒ½é€šè¿‡é™æ€å·¥å‚æ–¹æ³•è¿›è¡Œå¯¹è±¡åˆ›å»ºã€‚ ä½ åªéœ€è¦å°† <code>init</code> æ–¹æ³•è®¾ä¸ºç§æœ‰ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">init</span>(name: <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> local: <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Service</span>(name: <span class="string">"local"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> remote: <span class="type">Service</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Service</span>(name: <span class="string">"remote"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>è¯·æ³¨æ„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>finalï¼†static</code> å…³é”®å­—é™åˆ¶å­ç±»åŒ–ã€‚ å¦‚æœè¦å…è®¸å­ç±»åŒ–ï¼Œåˆ™åº”åˆ é™¤ <code>final</code> å¹¶ä¸ºå±æ€§ä½¿ç”¨ <code>class</code> å…³é”®å­—è€Œä¸æ˜¯ <code>static</code> ï¼Œè¿™æ ·å­ç±»å¯ä»¥è¦†ç›–å·¥å‚æ–¹æ³•ã€‚</strong> ğŸ¤”</p></br><h2 id="é™æ€è¿”å›ä»»ä½•æ•°æ®"><a href="#é™æ€è¿”å›ä»»ä½•æ•°æ®" class="headerlink" title="é™æ€è¿”å›ä»»ä½•æ•°æ®"></a><strong>é™æ€è¿”å›ä»»ä½•æ•°æ®</strong></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é™æ€å·¥å‚ä¹Ÿå¯ä»¥è¿”å›ç»™å®šå¯¹è±¡çš„å­ç±»å‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸æ›´è¿›ä¸€æ­¥å‘¢ï¼Ÿ ä½ è¿˜å¯ä»¥ä»é™æ€æ–¹æ³•è¿”å›ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œæˆ‘çŸ¥é“è¿™ä¼¼ä¹æ˜¯ä¸€ç§ä½œå¼Šï¼Œå› ä¸ºæˆ‘ä¸æ˜¯åœ¨è¿™é‡Œåˆ›å»º <code>UIColor</code> çš„å®ä¾‹ï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡åœ¨è¿™é‡Œå€¼å¾—ä¸€æè¿™ä¸ªæ–¹æ³•ï¼Œé™æ€å·¥å‚ã€‚ æœ‰æ—¶ï¼Œè¿™ä¸ªæŠ€æœ¯å¯èƒ½éå¸¸æœ‰ç”¨ã€‚ ğŸ˜›</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIColor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">image</span><span class="params">(with color: UIColor)</span></span> -&gt; <span class="type">UIImage</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> rect = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">1</span>, height: <span class="number">1</span>)</span><br><span class="line">        <span class="type">UIGraphicsBeginImageContext</span>(rect.size)</span><br><span class="line">        <span class="keyword">let</span> context = <span class="type">UIGraphicsGetCurrentContext</span>()!</span><br><span class="line">        context.setFillColor(color.cgColor)</span><br><span class="line">        context.fill(rect)</span><br><span class="line">        <span class="keyword">let</span> img = <span class="type">UIGraphicsGetImageFromCurrentImageContext</span>()</span><br><span class="line">        <span class="type">UIGraphicsEndImageContext</span>()</span><br><span class="line">        <span class="keyword">return</span> img!</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> redImage: <span class="type">UIImage</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIColor</span>.image(with: .red)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹æœ‰å…³ &lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;é™æ€å·¥å‚è®¾è®¡æ¨¡å¼&quot;&gt;é™æ€å·¥å‚è®¾è®¡æ¨¡å¼&lt;/a&gt; çš„çŸ¥è¯†ï¼Œå¹¶å±•ç¤ºä¸€äº›ä½¿ç”¨Swiftç¼–ç¨‹è¯­è¨€çš„ç”¨ä¾‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆè‹±è¯­ï¼šFactory method patternï¼‰æ˜¯ä¸€ç§å®ç°äº†â€œå·¥å‚â€æ¦‚å¿µçš„é¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼ã€‚å°±åƒå…¶ä»–åˆ›å»ºå‹æ¨¡å¼ä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯å¤„ç†åœ¨ä¸æŒ‡å®šå¯¹è±¡å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼çš„å®è´¨æ˜¯â€œå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†è®©å®ç°è¿™ä¸ªæ¥å£çš„ç±»æ¥å†³å®šå®ä¾‹åŒ–å“ªä¸ªç±»ã€‚å·¥å‚æ–¹æ³•è®©ç±»çš„å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»ä¸­è¿›è¡Œã€‚â€ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å·¥å‚æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftç”Ÿæˆå™¨æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T03:24:29.000Z</published>
    <updated>2020-04-25T03:49:52.656Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>äº†è§£å¦‚ä½•åœ¨Swiftä¸­å®ç°ç”Ÿæˆå™¨æ¨¡å¼ï¼Œä»¥éšè—åˆ›å»ºå…·æœ‰è®¸å¤šå•ç‹¬å±æ€§çš„å¯¹è±¡çš„å¤æ‚æ€§ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>iOS</code> å¼€å‘ä¸­ï¼Œä¼šä½¿ç”¨åˆ°å¾ˆå¤šè®¾è®¡æ¨¡å¼ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="ç”Ÿæˆå™¨æ¨¡å¼">ç”Ÿæˆå™¨æ¨¡å¼</a> ä¹Ÿå«æ„å»ºå™¨æ¨¡å¼ï¼Œæˆ‘ä»¬ä¹Ÿä¼šç»å¸¸ç”¨åˆ°ã€‚åœ¨ä»¥ä¸‹çš„è¡Œæ–‡è¿‡ç¨‹ä¸­å‡ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ¥è¡¨è¿°ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆè‹±ï¼šBuilder Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œåˆåï¼šå»ºé€ æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¯¹è±¡æ„å»ºæ¨¡å¼ã€‚å®ƒå¯ä»¥å°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼ˆæŠ½è±¡ç±»åˆ«ï¼‰ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡ã€‚</p><a id="more"></a></br><h1 id="ç”Ÿæˆå™¨æ¨¡å¼å¦‚ä½•å·¥ä½œï¼Ÿ"><a href="#ç”Ÿæˆå™¨æ¨¡å¼å¦‚ä½•å·¥ä½œï¼Ÿ" class="headerlink" title="ç”Ÿæˆå™¨æ¨¡å¼å¦‚ä½•å·¥ä½œï¼Ÿ"></a><strong>ç”Ÿæˆå™¨æ¨¡å¼å¦‚ä½•å·¥ä½œï¼Ÿ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”Ÿæˆå™¨æ¨¡å¼å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ï¼Œä½†æ˜¯å¦‚æœä½ äº†è§£è¯¥æ¨¡å¼çš„ä¸»è¦ç›®æ ‡ï¼Œé‚£å®é™…ä¸Šå°±æ²¡æœ‰å…³ç³»ï¼š</p><blockquote><p><strong>Builderè®¾è®¡æ¨¡å¼çš„ç›®çš„æ˜¯å°†å¤æ‚å¯¹è±¡çš„æ„é€ ä¸å…¶è¡¨ç¤ºåˆ†å¼€ã€‚</strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå…·æœ‰å¾ˆå¤šå±æ€§çš„å¯¹è±¡ï¼Œæƒ³éšè—åˆå§‹åŒ–è¿‡ç¨‹çš„å¤æ‚æ€§ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªç”Ÿæˆå™¨å¹¶é€šè¿‡è¯¥ç”Ÿæˆå™¨æ„é€ è¯¥å¯¹è±¡ã€‚ å®ƒå¯ä»¥åƒæ§åˆ¶æ•´ä¸ªæ„å»ºè¿‡ç¨‹çš„æ„å»ºæ–¹æ³•æˆ–å¤–éƒ¨ç±»ä¸€æ ·ç®€å•ã€‚ è¿™å®Œå…¨å–å†³äºç»™å®šçš„ç¯å¢ƒã€‚ ğŸ—</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¯¹è¯¥è®¾è®¡æ¨¡å¼æœ‰ä¸€ä¸ªè¯¦ç»†çš„è®¤çŸ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨å®ä¾‹å’Œå¼ºå¤§çš„ <code>Swift</code> ç¼–ç¨‹è¯­è¨€çš„ç”Ÿæˆå™¨æ¨¡å¼ï¼ ğŸ’ª</p></br><h1 id="ç®€å•çš„-Emitter-ç”Ÿæˆå™¨"><a href="#ç®€å•çš„-Emitter-ç”Ÿæˆå™¨" class="headerlink" title="ç®€å•çš„ Emitter ç”Ÿæˆå™¨"></a><strong>ç®€å•çš„ Emitter ç”Ÿæˆå™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>SKEmitterNode</code> æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚ å¦‚æœè¦åˆ›å»ºè‡ªå®šä¹‰ <code>Emitter</code> å¹¶ä»¥ç¼–ç¨‹æ–¹å¼è®¾ç½®å±æ€§ï¼ˆé€šå¸¸ç”¨äº <code>SpriteKit</code> æ¸¸æˆï¼‰ï¼Œåˆ™åƒè¿™æ ·çš„ <code>Emitter</code> ç”Ÿæˆå™¨ç±»å¯èƒ½æ˜¯ä¸€ä¸ªåˆç†çš„è§£å†³æ–¹æ¡ˆã€‚ ğŸ‘¾</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmitterBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">SKEmitterNode</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> emitter = <span class="type">SKEmitterNode</span>()</span><br><span class="line">        emitter.particleTexture = <span class="type">SKTexture</span>(imageNamed: <span class="string">"MyTexture"</span>)</span><br><span class="line">        emitter.particleBirthRate = <span class="number">100</span></span><br><span class="line">        emitter.particleLifetime = <span class="number">60</span></span><br><span class="line">        emitter.particlePositionRange = <span class="type">CGVector</span>(dx: <span class="number">100</span>, dy: <span class="number">100</span>)</span><br><span class="line">        emitter.particleSpeed = <span class="number">10</span></span><br><span class="line">        emitter.particleColor = .red</span><br><span class="line">        emitter.particleColorBlendFactor = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> emitter</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">EmitterBuilder</span>().build()</span><br></pre></td></tr></table></figure></br><h1 id="ç®€å•çš„-theme-ç”Ÿæˆå™¨"><a href="#ç®€å•çš„-theme-ç”Ÿæˆå™¨" class="headerlink" title="ç®€å•çš„ theme ç”Ÿæˆå™¨"></a><strong>ç®€å•çš„ theme ç”Ÿæˆå™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è®©æˆ‘ä»¬è¿œç¦»æ¸¸æˆï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æ­£åœ¨ä¸ºUIKitåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªä¸»é¢˜å¼•æ“ï¼Œè¯¥å¼•æ“å…·æœ‰è®¸å¤šè‡ªå®šä¹‰å­—ä½“ï¼Œé¢œè‰²ç­‰ã€‚ç”Ÿæˆå™¨å¯¹äºæ„é€ ç‹¬ç«‹ä¸»é¢˜å¯èƒ½å¾ˆæœ‰ç”¨ã€‚ ğŸ”¨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Theme</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> textColor: <span class="type">UIColor?</span></span><br><span class="line">    <span class="keyword">let</span> backgroundColor: <span class="type">UIColor?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThemeBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Style</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> light</span><br><span class="line">        <span class="keyword">case</span> dark</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">(<span class="number">_</span> style: Style)</span></span> -&gt; <span class="type">Theme</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> style &#123;</span><br><span class="line">        <span class="keyword">case</span> .light:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Theme</span>(textColor: .black, backgroundColor: .white)</span><br><span class="line">        <span class="keyword">case</span> .dark:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Theme</span>(textColor: .white, backgroundColor: .black)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> builder = <span class="type">ThemeBuilder</span>()</span><br><span class="line"><span class="keyword">let</span> light = builder.build(.light)</span><br><span class="line"><span class="keyword">let</span> dark = builder.build(.dark)</span><br></pre></td></tr></table></figure></br><h1 id="â€œChainedâ€-URLæ„å»ºå™¨"><a href="#â€œChainedâ€-URLæ„å»ºå™¨" class="headerlink" title="â€œChainedâ€ URLæ„å»ºå™¨"></a><strong>â€œChainedâ€ URLæ„å»ºå™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥é€šè¿‡å¤šç§æ–¹æ³•é…ç½®å¯¹è±¡ï¼Œå¹¶ä¸”æ¯ä¸ªæ–¹æ³•éƒ½å°†è¿”å›ç›¸åŒçš„ç”Ÿæˆå™¨å¯¹è±¡ã€‚ è¿™æ ·ï¼Œæ‚¨å¯ä»¥é“¾æ¥é…ç½®ï¼Œå¹¶åœ¨æœ€åä¸€æ­¥æ„å»ºæœ€ç»ˆå¯¹è±¡å®ä¾‹ã€‚ â›“</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">URLBuilder</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> components: <span class="type">URLComponents</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">self</span>.components = <span class="type">URLComponents</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">set</span><span class="params">(scheme: String)</span></span> -&gt; <span class="type">URLBuilder</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.components.scheme = scheme</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">set</span><span class="params">(host: String)</span></span> -&gt; <span class="type">URLBuilder</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.components.host = host</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">set</span><span class="params">(port: Int)</span></span> -&gt; <span class="type">URLBuilder</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.components.port = port</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">set</span><span class="params">(path: String)</span></span> -&gt; <span class="type">URLBuilder</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> path = path</span><br><span class="line">        <span class="keyword">if</span> !path.hasPrefix(<span class="string">"/"</span>) &#123;</span><br><span class="line">            path = <span class="string">"/"</span> + path</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">self</span>.components.path = path</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">addQueryItem</span><span class="params">(name: String, value: String)</span></span> -&gt; <span class="type">URLBuilder</span>  &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.components.queryItems == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.components.queryItems = []</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">self</span>.components.queryItems?.append(<span class="type">URLQueryItem</span>(name: name, value: value))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">URL?</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.components.url</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> url = <span class="type">URLBuilder</span>()</span><br><span class="line">    .<span class="keyword">set</span>(scheme: <span class="string">"https"</span>)</span><br><span class="line">    .<span class="keyword">set</span>(host: <span class="string">"localhost"</span>)</span><br><span class="line">    .<span class="keyword">set</span>(path: <span class="string">"api/v1"</span>)</span><br><span class="line">    .addQueryItem(name: <span class="string">"sort"</span>, value: <span class="string">"name"</span>)</span><br><span class="line">    .addQueryItem(name: <span class="string">"order"</span>, value: <span class="string">"asc"</span>)</span><br><span class="line">    .build()</span><br></pre></td></tr></table></figure></br><h1 id="director-ç±»çš„ç”Ÿæˆå™¨æ¨¡å¼"><a href="#director-ç±»çš„ç”Ÿæˆå™¨æ¨¡å¼" class="headerlink" title="director ç±»çš„ç”Ÿæˆå™¨æ¨¡å¼"></a><strong>director ç±»çš„ç”Ÿæˆå™¨æ¨¡å¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è®©æˆ‘ä»¬è®¤è¯†ä¸€ä¸‹ <code>director</code> å®ä¾‹ã€‚ ä½¿æ„å»ºå™¨ä¸ç¡®åˆ‡çš„é…ç½®éƒ¨åˆ†è§£è€¦ã€‚ å› æ­¤ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯ä»¥åˆ¶ä½œå¸¦æœ‰åœ†åœˆçš„æ¸¸æˆï¼Œä½†æ˜¯åæ¥å¦‚æœä½ æ”¹å˜ä¸»æ„å¹¶æƒ³ä½¿ç”¨æ­£æ–¹å½¢ï¼Œé‚£ç›¸å¯¹å®¹æ˜“ã€‚ ä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„ç”Ÿæˆå™¨ï¼Œå…¶ä»–æ‰€æœ‰å†…å®¹éƒ½å¯ä»¥ç›¸åŒã€‚ ğŸ¬</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">NodeBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">SKColor</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">CGFloat</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">SKShapeNode</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">NodeDirector</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> builder: <span class="type">NodeBuilder</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">SKShapeNode</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircleNodeBuilder</span>: <span class="title">NodeBuilder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">SKColor</span> = .clear</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">CGFloat</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">SKShapeNode</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> node = <span class="type">SKShapeNode</span>(circleOfRadius: <span class="keyword">self</span>.size)</span><br><span class="line">        node.name = <span class="keyword">self</span>.name</span><br><span class="line">        node.fillColor = <span class="keyword">self</span>.color</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlayerNodeDirector</span>: <span class="title">NodeDirector</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> builder: <span class="type">NodeBuilder</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(builder: <span class="type">NodeBuilder</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.builder = builder</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">()</span></span> -&gt; <span class="type">SKShapeNode</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.builder.name = <span class="string">"Hello"</span></span><br><span class="line">        <span class="keyword">self</span>.builder.size = <span class="number">32</span></span><br><span class="line">        <span class="keyword">self</span>.builder.color = .red</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.builder.build()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> builder = <span class="type">CircleNodeBuilder</span>()</span><br><span class="line"><span class="keyword">let</span> director = <span class="type">PlayerNodeDirector</span>(builder: builder)</span><br><span class="line"><span class="keyword">let</span> player = director.build()</span><br></pre></td></tr></table></figure><h1 id="åŸºäºBlockçš„æ„å»ºå™¨"><a href="#åŸºäºBlockçš„æ„å»ºå™¨" class="headerlink" title="åŸºäºBlockçš„æ„å»ºå™¨"></a><strong>åŸºäºBlockçš„æ„å»ºå™¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä¸€ç§æ›´å¿«æ·çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>Block</code> è€Œä¸æ˜¯ç”Ÿæˆå™¨ç±»æ¥é…ç½®å¯¹è±¡ã€‚ å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥äº‰è®ºè¿™æ˜¯å¦ä»ç„¶æ˜¯ç”Ÿæˆå™¨æ¨¡å¼â€¦ğŸ˜›</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UILabel</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">build</span><span class="params">(block: <span class="params">(<span class="params">(UILabel)</span></span></span></span> -&gt; <span class="type">Void</span>)) -&gt; <span class="type">UILabel</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">        block(label)</span><br><span class="line">        <span class="keyword">return</span> label</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> label = <span class="type">UILabel</span>.build &#123; label <span class="keyword">in</span></span><br><span class="line">    label.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    label.text = <span class="string">"Hello wold!"</span></span><br><span class="line">    label.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¯·æ³¨æ„ï¼Œç”Ÿæˆå™¨çš„å®ç°å¯èƒ½ä¼šå› å…·ä½“å®ä¾‹è€Œå¼‚ã€‚ æœ‰æ—¶ï¼Œç”Ÿæˆå™¨æ¨¡å¼ä¸å·¥å‚æ¨¡å¼ç»“åˆåœ¨ä¸€èµ·ã€‚ å¯¹æ­¤ï¼Œå‡ ä¹æ¯ä¸ªäººéƒ½ä»¥ä¸åŒçš„æ–¹å¼è§£é‡Šå®ƒï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™ä¸æ˜¯é—®é¢˜ã€‚ è®¾è®¡æ¨¡å¼æ˜¯ç²¾å¿ƒè®¾è®¡çš„å‡†åˆ™ï¼Œä½†æœ‰æ—¶ä½ å¿…é¡»è¿™ä¹ˆåšã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;äº†è§£å¦‚ä½•åœ¨Swiftä¸­å®ç°ç”Ÿæˆå™¨æ¨¡å¼ï¼Œä»¥éšè—åˆ›å»ºå…·æœ‰è®¸å¤šå•ç‹¬å±æ€§çš„å¯¹è±¡çš„å¤æ‚æ€§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨ &lt;code&gt;iOS&lt;/code&gt; å¼€å‘ä¸­ï¼Œä¼šä½¿ç”¨åˆ°å¾ˆå¤šè®¾è®¡æ¨¡å¼ï¼Œ&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;ç”Ÿæˆå™¨æ¨¡å¼&quot;&gt;ç”Ÿæˆå™¨æ¨¡å¼&lt;/a&gt; ä¹Ÿå«æ„å»ºå™¨æ¨¡å¼ï¼Œæˆ‘ä»¬ä¹Ÿä¼šç»å¸¸ç”¨åˆ°ã€‚åœ¨ä»¥ä¸‹çš„è¡Œæ–‡è¿‡ç¨‹ä¸­å‡ä½¿ç”¨ç”Ÿæˆå™¨æ¨¡å¼æ¥è¡¨è¿°ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆè‹±ï¼šBuilder Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œåˆåï¼šå»ºé€ æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¯¹è±¡æ„å»ºæ¨¡å¼ã€‚å®ƒå¯ä»¥å°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼ˆæŠ½è±¡ç±»åˆ«ï¼‰ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="ç”Ÿæˆå™¨æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Swiftä¸­é‡æ„å•ä¾‹æ¨¡å¼ç”¨æ³•</title>
    <link href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E9%87%8D%E6%9E%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%94%A8%E6%B3%95/"/>
    <id>http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E9%87%8D%E6%9E%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%94%A8%E6%B3%95/</id>
    <published>2020-04-25T02:38:47.000Z</published>
    <updated>2020-04-25T03:52:42.485Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ¸…æ´ï¼Œæ¨¡å—åŒ–å’Œå¯æµ‹è¯•ä»£ç åº“çš„å°æŠ€å·§ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œä¸é¼“åŠ±ä½¿ç”¨å•ä¾‹ï¼Œå¹¶ä¸”å¯¹æ­¤è¡¨ç¤ºåå¯¹ï¼Œä½†è¿™æ˜¯æœ‰å……åˆ†ç†ç”±çš„ã€‚ å®ƒä»¬å¾ˆéš¾æµ‹è¯•æˆ–æ— æ³•æµ‹è¯•ï¼Œå¹¶ä¸”åœ¨å…¶ä»–ç±»ä¸­éšå¼ä½¿ç”¨å®ƒä»¬æ—¶ä¼šçº ç¼ ä½ çš„ä»£ç åº“ï¼Œä»è€Œä½¿ä»£ç é‡ç”¨å˜å¾—å›°éš¾ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå•ä¾‹æ¨¡å¼æ— éæ˜¯å¯¹å…¨å±€æ˜“å˜çŠ¶æ€çš„ä¿å­˜ã€‚ æ¯ä¸ªäººè‡³å°‘çŸ¥é“è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ä¸»æ„ã€‚ ä½†æ˜¯ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener" title="å•ä¾‹æ¨¡å¼">å•ä¾‹æ¨¡å¼</a> æœ‰æ—¶æ˜¯ä¸å¯é¿å…å’Œå¿…è¦çš„é”™è¯¯ã€‚ æˆ‘ä»¬å¦‚ä½•ä»¥ä¸€ç§å¹²å‡€ï¼Œæ¨¡å—åŒ–å’Œå¯æµ‹è¯•çš„æ–¹å¼å°†å®ƒä»¬åˆå¹¶åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Ÿ</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å•ä¾‹æ¨¡å¼ï¼Œä¹Ÿå«å•å­æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼çš„ä¸€ç§ã€‚åœ¨åº”ç”¨è¿™ä¸ªæ¨¡å¼æ—¶ï¼Œå•ä¾‹å¯¹è±¡çš„ç±»å¿…é¡»ä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚è®¸å¤šæ—¶å€™æ•´ä¸ªç³»ç»Ÿåªéœ€è¦æ‹¥æœ‰ä¸€ä¸ªçš„å…¨å±€å¯¹è±¡ï¼Œè¿™æ ·æœ‰åˆ©äºæˆ‘ä»¬åè°ƒç³»ç»Ÿæ•´ä½“çš„è¡Œä¸ºã€‚æ¯”å¦‚åœ¨æŸä¸ªæœåŠ¡å™¨ç¨‹åºä¸­ï¼Œè¯¥æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™äº›é…ç½®æ•°æ®ç”±ä¸€ä¸ªå•ä¾‹å¯¹è±¡ç»Ÿä¸€è¯»å–ï¼Œç„¶åæœåŠ¡è¿›ç¨‹ä¸­çš„å…¶ä»–å¯¹è±¡å†é€šè¿‡è¿™ä¸ªå•ä¾‹å¯¹è±¡è·å–è¿™äº›é…ç½®ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼ç®€åŒ–äº†åœ¨å¤æ‚ç¯å¢ƒä¸‹çš„é…ç½®ç®¡ç†ã€‚ </p></blockquote><a id="more"></a><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®ç°å•ä¾‹æ¨¡å¼çš„æ€è·¯æ˜¯ï¼šä¸€ä¸ªç±»èƒ½è¿”å›å¯¹è±¡ä¸€ä¸ªå¼•ç”¨(æ°¸è¿œæ˜¯åŒä¸€ä¸ª)å’Œä¸€ä¸ªè·å¾—è¯¥å®ä¾‹çš„æ–¹æ³•ï¼ˆå¿…é¡»æ˜¯é™æ€æ–¹æ³•ï¼Œé€šå¸¸ä½¿ç”¨getInstanceè¿™ä¸ªåç§°ï¼‰ï¼›å½“æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå¦‚æœç±»æŒæœ‰çš„å¼•ç”¨ä¸ä¸ºç©ºå°±è¿”å›è¿™ä¸ªå¼•ç”¨ï¼Œå¦‚æœç±»ä¿æŒçš„å¼•ç”¨ä¸ºç©ºå°±åˆ›å»ºè¯¥ç±»çš„å®ä¾‹å¹¶å°†å®ä¾‹çš„å¼•ç”¨èµ‹äºˆè¯¥ç±»ä¿æŒçš„å¼•ç”¨ï¼›åŒæ—¶æˆ‘ä»¬è¿˜å°†è¯¥ç±»çš„æ„é€ å‡½æ•°å®šä¹‰ä¸ºç§æœ‰æ–¹æ³•ï¼Œè¿™æ ·å…¶ä»–å¤„çš„ä»£ç å°±æ— æ³•é€šè¿‡è°ƒç”¨è¯¥ç±»çš„æ„é€ å‡½æ•°æ¥å®ä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ï¼Œåªæœ‰é€šè¿‡è¯¥ç±»æä¾›çš„é™æ€æ–¹æ³•æ¥å¾—åˆ°è¯¥ç±»çš„å”¯ä¸€å®ä¾‹ã€‚</p></blockquote><h1 id="å•ä¾‹æ¨¡å¼æ— å¤„ä¸åœ¨"><a href="#å•ä¾‹æ¨¡å¼æ— å¤„ä¸åœ¨" class="headerlink" title="å•ä¾‹æ¨¡å¼æ— å¤„ä¸åœ¨"></a><strong>å•ä¾‹æ¨¡å¼æ— å¤„ä¸åœ¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; åœ¨ <code>Apple</code> å¹³å°ä¸Šï¼Œ<code>Cocoa</code> å’Œ <code>Cocoa Touch</code> æ¡†æ¶ä¸­åˆ°å¤„éƒ½æœ‰å•ä¾‹ã€‚ æœ‰ <code>UIApplication.shared</code>ï¼Œ<code>FileManager.default</code>ï¼Œ<code>NotificationCenter.default</code>ï¼Œ<code>UserDefaults.standard</code>ï¼Œ<code>URLSession.shared</code> ç­‰ã€‚ è®¾è®¡æ¨¡å¼ç”šè‡³åœ¨ <code>Cocoa</code> æ ¸å¿ƒèƒ½åŠ›æŒ‡å—ä¸­éƒ½æœ‰è‡ªå·±çš„éƒ¨åˆ†ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å½“ä½ éšå¼å¼•ç”¨è¿™äº›ï¼ˆä»¥åŠä½ è‡ªå·±çš„ï¼‰å•ä¾‹æ—¶ï¼Œå°†å¢åŠ æ›´æ”¹ä»£ç æ‰€éœ€çš„å·¥ä½œé‡ã€‚ è¿™ä¹Ÿä½¿æµ‹è¯•ä»£ç å˜å¾—å›°éš¾æˆ–ä¸å¯èƒ½ï¼Œå› ä¸ºæ— æ³•ä»ä½¿ç”¨å®ƒä»¬çš„ç±»ä¹‹å¤–æ›´æ”¹æˆ–æ¨¡æ‹Ÿè¿™äº›å•ä¾‹ã€‚ è¿™æ˜¯ä½ åœ¨iOSåº”ç”¨ä¸­éƒ½ä¼šçœ‹åˆ°çš„å†…å®¹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> currentUser = <span class="type">CurrentUserManager</span>.shared.user</span><br><span class="line">        <span class="keyword">if</span> currentUser != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="comment">// do something with current user</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> mySetting = <span class="type">UserDefaults</span>.standard.bool(forKey: <span class="string">"mySetting"</span>)</span><br><span class="line">        <span class="keyword">if</span> mySetting &#123;</span><br><span class="line">            <span class="comment">// do something with setting</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">URLSession</span>.shared.dataTask(with: <span class="type">URL</span>(string: <span class="string">"http://someResource"</span>)!) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">            <span class="comment">// handle response</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></br><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¿™å°±æ˜¯æˆ‘æ‰€è¯´ éšå¼å¼•ç”¨ çš„æ„æ€-ä½ åªéœ€åœ¨ç±»ä¸­ç›´æ¥ä½¿ç”¨å•ä¾‹ã€‚ æˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚ åœ¨Swiftä¸­ï¼Œæœ‰ä¸€ç§è½»é‡çº§ï¼Œç®€ä¾¿ä¸”å½±å“å°çš„æ–¹å¼æ¥æ”¹å–„è¿™ä¸€ç‚¹ã€‚ Swiftä¹Ÿä½¿å…¶ä½¿ç”¨èµ·æ¥æ›´åŠ ä¼˜é›…ã€‚</p><h1 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a><strong>ä¾èµ–æ³¨å…¥</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç®€è€Œè¨€ä¹‹ï¼Œç­”æ¡ˆæ˜¯ <a href="https://en.wikipedia.org/wiki/Dependency_injection" target="_blank" rel="noopener" title="ä¾èµ–æ³¨å…¥"><strong>ä¾èµ–æ³¨å…¥</strong></a> ã€‚ è¯¥åŸåˆ™è¡¨æ˜ä½ åº”è¯¥è®¾è®¡ç±»å’Œå‡½æ•°ï¼Œä»¥ä½¿æ‰€æœ‰è¾“å…¥éƒ½æ˜¯æ˜¾å¼çš„ã€‚ å¦‚æœä½ é‡æ„ä¸Šé¢çš„ä»£ç ç‰‡æ®µä»¥ä½¿ç”¨ä¾èµ–é¡¹æ³¨å…¥ï¼Œå®ƒå°†çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> userManager: <span class="type">CurrentUserManager</span></span><br><span class="line">    <span class="keyword">let</span> defaults: <span class="type">UserDefaults</span></span><br><span class="line">    <span class="keyword">let</span> urlSession: <span class="type">URLSession</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(userManager: <span class="type">CurrentUserManager</span>, defaults: <span class="type">UserDefaults</span>, urlSession: <span class="type">URLSession</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.userManager = userManager</span><br><span class="line">        <span class="keyword">self</span>.defaults = defaults</span><br><span class="line">        <span class="keyword">self</span>.urlSession = urlSession</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> currentUser = userManager.user</span><br><span class="line">        <span class="keyword">if</span> currentUser != <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="comment">// do something with current user</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> mySetting = defaults.bool(forKey: <span class="string">"mySetting"</span>)</span><br><span class="line">        <span class="keyword">if</span> mySetting &#123;</span><br><span class="line">            <span class="comment">// do something with setting</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        urlSession.dataTask(with: <span class="type">URL</span>(string: <span class="string">"http://someResource"</span>)!) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">            <span class="comment">// handle response</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤ç±»ä¸å†éšå¼ï¼ˆæˆ–æ˜¾å¼ï¼‰ä¾èµ–äºä»»ä½•å•ä¾‹ã€‚ å®ƒæ˜¾å¼ä¾èµ–äº <code>CurrentUserManager</code>ï¼Œ <code>UserDefaults</code> å’Œ <code>URLSession</code> ï¼Œä½†æ˜¯æœ‰å…³è¿™äº›ä¾èµ–é¡¹çš„ä»»ä½•å†…å®¹å‡è¡¨ç¤ºå®ƒä»¬æ˜¯å•ä¾‹ã€‚ è¿™ä¸ªç»†èŠ‚ä¸å†é‡è¦ï¼Œä½†æ˜¯åŠŸèƒ½ä¿æŒä¸å˜ã€‚ è§†å›¾æ§åˆ¶å™¨ä»…çŸ¥é“è¿™äº›å¯¹è±¡çš„å®ä¾‹å­˜åœ¨ã€‚ åœ¨éœ€è¦ä½¿ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œä½ å¯ä»¥ä¼ é€’å•ä¾‹ã€‚ åŒæ ·ï¼Œä»ç±»çš„è§’åº¦æ¥çœ‹ï¼Œæ­¤ç»†èŠ‚æ— å…³ç´§è¦ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> controller = <span class="type">MyViewController</span>(userManager: .shared, defaults: .standard, urlSession: .shared)</span><br><span class="line"></span><br><span class="line">present(controller, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure><p><strong>ç‰¹åˆ«æç¤ºï¼š<code>Swift</code> ç±»å‹æ¨æ–­åœ¨è¿™é‡Œèµ·ä½œç”¨ã€‚ é™¤äº†ç¼–å†™ <code>URLSession.shared</code>ï¼Œæ‚¨è¿˜å¯ä»¥ç¼–å†™ <code>.shared</code> ã€‚</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä½ éœ€è¦æä¾›å…¶ä»–é»˜è®¤å€¼ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦ä¸<a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/ExtensionScenarios.html#//apple_ref/doc/uid/TP40014214-CH21-SW6" target="_blank" rel="noopener" title="åº”ç”¨ç»„å†…å…±äº«æ•°æ®">åº”ç”¨ç»„å…±äº«æ•°æ®</a>ï¼‰ï¼Œåˆ™æ›´æ”¹èµ·æ¥å¾ˆå®¹æ˜“ã€‚ å®é™…ä¸Šï¼Œä½ ä¸å¿…æ›´æ”¹æ­¤ç±»ä¸­çš„ä»»ä½•ä»£ç ã€‚ è€Œä¸ä¼ é€’ <code>UserDefaults.standard</code>ï¼Œè€Œæ˜¯ä¼ é€’ <code>UserDefaultsï¼ˆsuiteNameï¼šâ€œ com.myAppâ€ï¼‰</code>ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤å¤–ï¼Œåœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œä½ ç°åœ¨å¯ä»¥ä¼ é€’è¿™äº›ç±»çš„å…¶ä»–å®ä¾‹ã€‚ åœ¨Swiftä¸­æ— æ³•è¿›è¡ŒçœŸæ­£çš„æ¨¡æ‹Ÿï¼Œä½†æ˜¯æœ‰ä¸€äº›è§£å†³æ–¹æ³•ã€‚ è¿™å–å†³äºæ‚¨è¦å¦‚ä½•æ„é€ ä»£ç ã€‚ ä½ å¯ä»¥ä¸º <code>CurrentUserManager</code> ä½¿ç”¨åè®®ï¼Œç„¶åå¯ä»¥åœ¨æµ‹è¯•ä¸­â€œæ¨¡æ‹Ÿâ€è¯¥åè®®ã€‚ ä½ å¯ä»¥ä¸º <code>UserDefaults</code> æä¾›æ„é€ çš„æ–¹æ³•ç±»è¿›è¡Œæµ‹è¯•ã€‚ ä½ å¯ä»¥å°† <code>URLSession</code> è®¾ç½®ä¸ºå¯é€‰ï¼Œå¹¶åœ¨æµ‹è¯•ä¸­ä¼ é€’ <code>nil</code>ã€‚</p><h1 id="é‡æ„é™·é˜±"><a href="#é‡æ„é™·é˜±" class="headerlink" title="é‡æ„é™·é˜±"></a><strong>é‡æ„é™·é˜±</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯èƒ½å¯¹è¿™ä¸ªæƒ³æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œç°åœ¨ä½ æƒ³è§£å¼€å¹¶è§£æ”¾é™·å…¥å›°å¢ƒçš„ä»£ç åº“ã€‚å°½ç®¡ä¾èµ–æ³¨å…¥æ˜¯ç†æƒ³çš„é€‰æ‹©ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºä½ æä¾›æ›´çº¯å‡€çš„å¯¹è±¡æ¨¡å‹ï¼Œä½†æ˜¯å®ç°å®ƒé€šå¸¸å¾ˆå›°éš¾ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨é¦–æ¬¡ç¼–å†™ä»£ç æ—¶ï¼Œå¾ˆå°‘ä¼šè®¾è®¡å‡ºé€‚åº”è¿™ç§æƒ…å†µçš„ä»£ç ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬ä¸Šé¢é‡æ„çš„å†…å®¹ç°åœ¨æ›´å…·æ¨¡å—åŒ–å’Œå¯æµ‹è¯•æ€§-ä½†ç¡®å®å­˜åœ¨é—®é¢˜ã€‚ <code>MyViewController</code> çš„åˆå§‹å€¼è®¾å®šé¡¹æ›¾ç»æ˜¯ç©ºçš„ <code>ï¼ˆinitï¼ˆï¼‰ï¼‰</code> ï¼Œä½†ç°åœ¨éœ€è¦ä¸‰ä¸ªå‚æ•°ã€‚æ¯ä¸ªè°ƒç”¨ä½ç½®éƒ½å¿…é¡»æ›´æ”¹ã€‚æ„é€ æ­¤æ–¹æ³•çš„å¹²å‡€è€Œæ­£ç¡®çš„æ–¹æ³•æ˜¯å°†å®ä¾‹ä»ä¸Šåˆ°ä¸‹æˆ–ä»ä»¥å‰çš„è§†å›¾æ§åˆ¶å™¨ä¼ é€’åˆ°æ­¤å®ä¾‹ã€‚è¿™å°†éœ€è¦å°†æ•°æ®ä»å¯¹è±¡å›¾çš„æ ¹ä¼ é€’åˆ°æ‰€æœ‰å­ç±»ã€‚ç‰¹åˆ«æ˜¯åœ¨iOSä¸­ï¼Œå½“ä½ å°†æ•°æ®ä»è§†å›¾æ§åˆ¶å™¨ä¼ é€’åˆ°è§†å›¾æ§åˆ¶å™¨æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¼•èµ·å¾ˆå¤šéº»çƒ¦ã€‚å°¤å…¶æ˜¯ä¼ ç»Ÿä»£ç åº“å°†éš¾ä»¥ç«‹å³å®ç°å¦‚æ­¤å¤§çš„æ›´æ”¹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¤§å¤šæ•°ç±»ï¼ˆå°¤å…¶æ˜¯è§†å›¾æ§åˆ¶å™¨ï¼‰çš„åˆå§‹åŒ–ç¨‹åºéƒ½éœ€è¦æ›´æ”¹ã€‚å½“ä½ æ„è¯†åˆ°å¿…é¡»é‡æ„æ•´ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œè¿™ç§æ›´æ”¹å˜å¾—å¼‚å¸¸å›°éš¾ã€‚è¦ä¹ˆä¸€åˆ‡éƒ½å°†è¢«ç ´åï¼Œè¦ä¹ˆä»…æŸäº›ç±»å°†è¢«æ›´æ–°ä»¥è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œè€Œå…¶ä»–ä¸€äº›ç±»å°†ç»§ç»­éšå¼å¼•ç”¨å•ä¾‹ã€‚è¿™ç§ä¸ä¸€è‡´å¯èƒ½åœ¨å°†æ¥å¼•èµ·é—®é¢˜ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œåœ¨å¤æ‚ã€å¤§å‹çš„æ—§ç‰ˆä»£ç åº“ä¸­ï¼Œè¿™æ ·çš„é‡æ„å¯èƒ½æ ¹æœ¬ä¸å¯è¡Œ-è‡³å°‘ä¸èƒ½åŒæ—¶è¿›è¡Œï¼Œè€Œä¸”ä¹Ÿä¸èƒ½æ²¡æœ‰å›å½’ã€‚å› æ­¤ï¼Œä½ å¯èƒ½ä¼šäº‰è¾©è¯´ï¼Œä½ æ ¹æœ¬ä¸åº”è¯¥é‡æ„å¹¶å¿å—è¿™ç§æƒ…å†µã€‚ç„¶åéœ€è¦å‡ ä¸ªæœˆæˆ–å‡ å¹´çš„æ—¶é—´ä½ æ‚¨å¿…é¡»æ”¯æŒå¤šä¸ªç”¨æˆ·-ç°åœ¨åœ¨å®ç°åˆ‡æ¢å¸æˆ·æ—¶ <code>CurrentUserManager</code> æ— æ³•æ­£å¸¸å·¥ä½œã€‚ä½ å¦‚ä½•åº”å¯¹ï¼Ÿ</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰ä¸€ç§æ›´ä¸ºå…ˆè¿›çš„æ–¹å¼ï¼Œä¹Ÿæœ‰ä¸€ç§ä»ä¸€å¼€å§‹å°±è®¾è®¡ä½ è¦ä½¿ç”¨çš„ç±»ä»¥é€‚åº”ä¸‹ä¸€æ¬¡æ­¤ç±»å˜åŒ–çš„æ–¹æ³•ã€‚</p><h1 id="é»˜è®¤å‚æ•°å€¼"><a href="#é»˜è®¤å‚æ•°å€¼" class="headerlink" title="é»˜è®¤å‚æ•°å€¼"></a><strong>é»˜è®¤å‚æ•°å€¼</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘æœ€å–œæ¬¢çš„SwiftåŠŸèƒ½ä¹‹ä¸€æ˜¯é»˜è®¤å‚æ•°å€¼ã€‚ å®ƒä»¬éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥ä¸ºä½ çš„ä»£ç å¸¦æ¥å¾ˆå¤§çš„çµæ´»æ€§ã€‚ ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œä½ å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè€Œä¸å¿…æ‹…å¿ƒä¾èµ–æ³¨å…¥é—®é¢˜ï¼Œä¹Ÿä¸ä¼šåœ¨ä»£ç åº“ä¸­å¼•å…¥è¿‡å¤šçš„å¤æ‚æ€§ã€‚ ä¹Ÿè®¸ä½ çš„åº”ç”¨ç¨‹åºå®é™…ä¸Šåªæœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œæ‰€ä»¥å®ç°æ‰€æœ‰è¿™ç§ä¾èµ–æ³¨å…¥æ˜¯ä¸å¿…è¦çš„å¼€é”€ã€‚</p><p>ä½ å¯ä»¥ç»™å•ä¾‹è®¾ç½®é»˜è®¤å‚æ•°ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(userManager: <span class="type">CurrentUserManager</span> = .shared, defaults: <span class="type">UserDefaults</span> = .standard, urlSession: <span class="type">URLSession</span> = .shared) &#123;</span><br><span class="line">        <span class="keyword">self</span>.userManager = userManager</span><br><span class="line">        <span class="keyword">self</span>.defaults = defaults</span><br><span class="line">        <span class="keyword">self</span>.urlSession = urlSession</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œä»æ–¹æ³•è°ƒç”¨çš„è§’åº¦æ¥çœ‹ï¼Œåˆå§‹åŒ–ç¨‹åºæ²¡æœ‰æ”¹å˜ã€‚ ä½†æ˜¯ç±»æœ¬èº«å­˜åœ¨å¾ˆå¤§çš„å·®å¼‚ï¼Œå®ƒç°åœ¨ä½¿ç”¨ä¾èµ–é¡¹æ³¨å…¥ï¼Œä¸å†å¼•ç”¨å•ä¾‹ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> controller = <span class="type">MyViewController</span>()</span><br><span class="line"></span><br><span class="line">present(controller, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ ä»æ­¤æ›´æ”¹ä¸­å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿä½ å¯ä»¥ä½¿ç”¨æ­¤æ¨¡å¼é‡æ„æ¯ä¸ªç±»ï¼Œè€Œæ— éœ€æ›´æ–°ä»»ä½•è°ƒç”¨çš„åœ°æ–¹ã€‚è¯­ä¹‰ä¸Šæˆ–åŠŸèƒ½ä¸Šéƒ½æ²¡æœ‰æ”¹å˜ã€‚ä½†æ˜¯ï¼Œä½ çš„ç±»ä¹Ÿåœ¨ä½¿ç”¨ä¾èµ–æ³¨å…¥ã€‚ä»–ä»¬åªæ˜¯åœ¨å†…éƒ¨ä½¿ç”¨å®ä¾‹ã€‚ä½ å¯ä»¥å¦‚ä¸Šæ‰€è¿°æµ‹è¯•å®ƒä»¬å¹¶ç»´æŠ¤ä¸€ä¸ªçµæ´»çš„æ¨¡å—åŒ–APIï¼ŒåŒæ—¶å…¬å…±æ¥å£ä¿æŒä¸å˜ã€‚æœ¬è´¨ä¸Šï¼Œä½ å¯ä»¥ç»§ç»­åœ¨ä»£ç åº“ä¸­å·¥ä½œï¼Œå°±å¥½åƒä»€ä¹ˆéƒ½æ²¡æœ‰æ”¹å˜ä¸€æ ·ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæœ‰æ—¶é—´ä¼ å…¥è‡ªå®šä¹‰éç©ºå‚æ•°ï¼Œä½ å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œè€Œæ— éœ€æ›´æ”¹ä»»ä½•ç±»ã€‚ä½ åªéœ€è¦æ›´æ–°è°ƒç”¨çš„ä½ç½®å³å¯ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ å†³å®šä½¿ç”¨æˆç†Ÿçš„ä¾èµ–å…³ç³»æ³¨å…¥å¹¶ä»ä¸Šè‡³ä¸‹ä¼ é€’æ¯ä¸ªå•ä¸ªä¾èµ–å…³ç³»ï¼Œåˆ™åªéœ€åˆ é™¤é»˜è®¤å‚æ•°å¹¶ä»ä¸Šæ–¹ä¼ é€’ä¾èµ–å…³ç³»ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœéœ€è¦ï¼Œä½ ç”šè‡³å¯ä»¥é€‰æ‹©åŠ å…¥æˆ–é€‰æ‹©é€€å‡ºä»»ä½•é»˜è®¤å€¼ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†è‡ªå®šä¹‰ <code>UserDefaults</code>ï¼Œä½†ä¿ç•™äº† <code>CurrentUserManager</code> å’Œ <code>URLSession</code> çš„é»˜è®¤å‚æ•°ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> appGroupDefaults = <span class="type">UserDefaults</span>(suiteName: <span class="string">"com.myApp"</span>)!</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> controller = <span class="type">MyViewController</span>(defaults: appGroupDefaults)</span><br><span class="line"></span><br><span class="line">present(controller, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></bar><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a><strong>ç»“è®º</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>Swift</code> ä½¿è¿™ç§â€œéƒ¨åˆ†â€ä¾èµ–æ³¨å…¥å˜å¾—å¾ˆæ–¹ä¾¿å®ç”¨ã€‚é€šè¿‡ä¸ºç±»æ·»åŠ æ–°å±æ€§å’Œå¸¦æœ‰é»˜è®¤å€¼çš„åˆå§‹åŒ–å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ä½ çš„ä»£ç å…·æœ‰æ›´å¤§çš„æ¨¡å—åŒ–å’Œå¯æµ‹è¯•æ€§ï¼Œè€Œä¸å¿…é‡æ„ï¼Œä¹Ÿä¸å¿…å®Œå…¨ä½¿ç”¨æˆç†Ÿçš„ä¾èµ–é¡¹æ³¨å…¥ã€‚å¦‚æœä»ä¸€å¼€å§‹å°±è®¾è®¡è¿™æ ·çš„ç±»ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç°è‡ªå·±å†™å‡º <code>bug</code> çš„æ¦‚ç‡é™ä½äº†å¾ˆå¤š-å½“ä½ é‡åˆ° <code>bug</code> æ˜¯ï¼Œå°†æ›´å®¹æ˜“å®šä½å’Œè§£å†³ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; é™¤äº†æ­¤å¤„çš„ç®€å•ç¤ºä¾‹ï¼ˆç±»ï¼Œç»“æ„ï¼Œæšä¸¾ï¼Œå‡½æ•°ï¼‰ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥å°†è¿™äº›æ¦‚å¿µå’Œè®¾è®¡åº”ç”¨äºä»£ç çš„æ‰€æœ‰åŒºåŸŸã€‚ <code>Swift</code> ä¸­çš„æ¯ä¸ªå‡½æ•°éƒ½å¯ä»¥é‡‡ç”¨é»˜è®¤å‚æ•°å€¼ã€‚é€šè¿‡èŠ±ä¸€äº›æ—¶é—´æ¥æ€è€ƒæœªæ¥å¯èƒ½å‘ç”Ÿçš„å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¯ä»¥è½»æ¾é€‚åº”å˜åŒ–çš„ç±»å‹å’ŒåŠŸèƒ½ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æ„å»ºå’Œè®¾è®¡å¥½çš„è½¯ä»¶æ„å‘³ç€ç¼–å†™<strong>æ˜“äºæ›´æ”¹</strong>ä½†<strong>éš¾ä»¥ç ´è§£çš„ä»£ç </strong>ã€‚è¿™å°±æ˜¯ä¾èµ–é¡¹æ³¨å…¥çš„åŠ¨æœºï¼Œè€Œ <code>Swift</code> çš„é»˜è®¤å‚æ•°å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿï¼Œè½»æ¾ä¸”ä¼˜é›…åœ°å®ç°è¿™ä¸€ç›®æ ‡ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ¸…æ´ï¼Œæ¨¡å—åŒ–å’Œå¯æµ‹è¯•ä»£ç åº“çš„å°æŠ€å·§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œä¸é¼“åŠ±ä½¿ç”¨å•ä¾‹ï¼Œå¹¶ä¸”å¯¹æ­¤è¡¨ç¤ºåå¯¹ï¼Œä½†è¿™æ˜¯æœ‰å……åˆ†ç†ç”±çš„ã€‚ å®ƒä»¬å¾ˆéš¾æµ‹è¯•æˆ–æ— æ³•æµ‹è¯•ï¼Œå¹¶ä¸”åœ¨å…¶ä»–ç±»ä¸­éšå¼ä½¿ç”¨å®ƒä»¬æ—¶ä¼šçº ç¼ ä½ çš„ä»£ç åº“ï¼Œä»è€Œä½¿ä»£ç é‡ç”¨å˜å¾—å›°éš¾ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå•ä¾‹æ¨¡å¼æ— éæ˜¯å¯¹å…¨å±€æ˜“å˜çŠ¶æ€çš„ä¿å­˜ã€‚ æ¯ä¸ªäººè‡³å°‘çŸ¥é“è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ä¸»æ„ã€‚ ä½†æ˜¯ï¼Œ&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot; title=&quot;å•ä¾‹æ¨¡å¼&quot;&gt;å•ä¾‹æ¨¡å¼&lt;/a&gt; æœ‰æ—¶æ˜¯ä¸å¯é¿å…å’Œå¿…è¦çš„é”™è¯¯ã€‚ æˆ‘ä»¬å¦‚ä½•ä»¥ä¸€ç§å¹²å‡€ï¼Œæ¨¡å—åŒ–å’Œå¯æµ‹è¯•çš„æ–¹å¼å°†å®ƒä»¬åˆå¹¶åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å•ä¾‹æ¨¡å¼ï¼Œä¹Ÿå«å•å­æ¨¡å¼ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼çš„ä¸€ç§ã€‚åœ¨åº”ç”¨è¿™ä¸ªæ¨¡å¼æ—¶ï¼Œå•ä¾‹å¯¹è±¡çš„ç±»å¿…é¡»ä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚è®¸å¤šæ—¶å€™æ•´ä¸ªç³»ç»Ÿåªéœ€è¦æ‹¥æœ‰ä¸€ä¸ªçš„å…¨å±€å¯¹è±¡ï¼Œè¿™æ ·æœ‰åˆ©äºæˆ‘ä»¬åè°ƒç³»ç»Ÿæ•´ä½“çš„è¡Œä¸ºã€‚æ¯”å¦‚åœ¨æŸä¸ªæœåŠ¡å™¨ç¨‹åºä¸­ï¼Œè¯¥æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™äº›é…ç½®æ•°æ®ç”±ä¸€ä¸ªå•ä¾‹å¯¹è±¡ç»Ÿä¸€è¯»å–ï¼Œç„¶åæœåŠ¡è¿›ç¨‹ä¸­çš„å…¶ä»–å¯¹è±¡å†é€šè¿‡è¿™ä¸ªå•ä¾‹å¯¹è±¡è·å–è¿™äº›é…ç½®ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼ç®€åŒ–äº†åœ¨å¤æ‚ç¯å¢ƒä¸‹çš„é…ç½®ç®¡ç†ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å•ä¾‹æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Swiftå•ä¾‹æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/Swift%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/Swift%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T02:13:37.000Z</published>
    <updated>2020-04-25T03:13:50.738Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Singleto</code>n æ˜¯æœ‰å²ä»¥æ¥æœ€å—äº‰è®®çš„è®¾è®¡æ¨¡å¼ã€‚äº†è§£åœ¨ <code>iOS</code> é¡¹ç›®ä¸­ä½¿ç”¨ <code>Swift</code> å•ä¾‹ç±»çš„æ­£ç¡®æ–¹æ³•ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æ¯ä¸ªäººéƒ½åœ¨æ‰¹è¯„çš„å•ä¾‹æ¨¡å¼ï¼Œå¤§å¤šæ•°äººéƒ½å°†å…¶ç§°ä¸ºåæ¨¡å¼ã€‚ä½†æ˜¯å•ä¾‹æ¨¡å¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆå·®å‘¢ï¼Ÿ</p><a id="more"></a><h1 id="Singleton-æ˜¯ä»€ä¹ˆ"><a href="#Singleton-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Singleton æ˜¯ä»€ä¹ˆ?"></a><strong>Singleton æ˜¯ä»€ä¹ˆ?</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºç®€å•ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸æµè¡Œä¸”æ™®éé‡‡ç”¨çš„æ¨¡å¼ã€‚åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚å•ä¸ªå®ä¾‹åªèƒ½é€šè¿‡é™æ€å±æ€§è®¿é—®ï¼Œå¹¶ä¸”åˆå§‹åŒ–åçš„å¯¹è±¡é€šå¸¸åœ¨å…¨å±€èŒƒå›´å†…å…±äº«ã€‚è¿™å°±åƒä¸€ä¸ªå…¨å±€å˜é‡ã€‚ ğŸŒ</p><h1 id="å…¨å±€å˜é‡å’ŒçŠ¶æ€"><a href="#å…¨å±€å˜é‡å’ŒçŠ¶æ€" class="headerlink" title="å…¨å±€å˜é‡å’ŒçŠ¶æ€"></a><strong>å…¨å±€å˜é‡å’ŒçŠ¶æ€</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å•ä¾‹æ¨¡å¼çš„å£°èª‰å¾ˆå·®ï¼Œå› ä¸ºä»–ä»¬å…±äº«å…¨å±€å¯å˜çš„çŠ¶æ€ã€‚å³ä½¿åœ¨ç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜åœˆå­ä¸­ï¼Œå§‹ç»ˆä¼šæ‹…å¿ƒä½¿ç”¨ <code>global</code> å…³é”®å­—ã€‚å…¨å±€çŠ¶æ€å’Œå˜é‡æ˜¯å‰¯ä½œç”¨çš„æ¸©åºŠã€‚å¯ä»¥ä»ç¨‹åºçš„ä»»ä½•ä½ç½®è®¿é—®å…¨å±€å˜é‡ï¼Œå› æ­¤ä½¿ç”¨å®ƒä»¬çš„ç±»å°†å˜ä¸ºæœ‰çŠ¶æ€ï¼Œä¸å®‰å…¨ï¼Œç´§å¯†è€¦åˆä¸”éš¾ä»¥è°ƒè¯•ã€‚å‡ºäºæ˜æ˜¾çš„åŸå› ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ä¸å¯¹è±¡å…±äº«çŠ¶æ€ä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚ ğŸ¤®</p><h1 id="Singleton-çš„å‰¯ä½œç”¨"><a href="#Singleton-çš„å‰¯ä½œç”¨" class="headerlink" title="Singleton çš„å‰¯ä½œç”¨"></a><strong>Singleton çš„å‰¯ä½œç”¨</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ä½ åº”è¯¥å°½å¯èƒ½ç¡®å®šèŒƒå›´å’Œéš”ç¦»å˜é‡ï¼Œå¹¶æœ€å¤§ç¨‹åº¦åœ°å‡å°‘ä»£ç çš„çŠ¶æ€æ€§ã€‚è¿™å°†æ¶ˆé™¤å‰¯ä½œç”¨ï¼Œä½¿æ‚¨çš„ä»£ç æ›´å®‰å…¨åœ°ä½¿ç”¨ã€‚è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> global = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// method is written by someone else</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">square</span><span class="params">(<span class="number">_</span> x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    global = x</span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">global = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> result = square(<span class="number">5</span>)</span><br><span class="line">result += global <span class="comment">//we assume that global is 1</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">//wtf 30 it should be 26</span></span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>square</code> æ–¹æ³•ç”±å…¶ä»–äººç¼–å†™ï¼Œç”±äºæŸç§åŸå› ï¼Œä»–ä»¬å¸Œæœ›å°†è¾“å…¥å­˜å‚¨åœ¨ç›¸åŒçš„å…¨å±€å˜é‡ä¸­ã€‚ç°åœ¨ï¼Œå½“æ‚¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œé™¤éæ‚¨æŸ¥çœ‹ä»–çš„ä»£ç ï¼Œå¦åˆ™æ‚¨å°†ä¸€æ— æ‰€è·ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä¸€ä¸ªç”±å¤šä¸ªä»£ç ä½œè€…ç¼–å†™çš„å…·æœ‰å¤§é‡oopç±»çš„é¡¹ç›®ä¸­çš„æ­¤ç±»é—®é¢˜â€¦â€¦GOOD LUCK! ğŸ›ğŸ›ğŸ›</p><h1 id="å•ä¾‹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#å•ä¾‹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å•ä¾‹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"></a><strong>å•ä¾‹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å•ä¾‹åˆ›å»ºä¸€æ¬¡å¹¶æ°¸ä¹…å­˜åœ¨ï¼Œå®ƒä»¬çš„å·¥ä½œå‡ ä¹å°±åƒå…¨å±€å˜é‡ä¸€æ ·ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¿…é¡»æ ¼å¤–å°å¿ƒã€‚ä½ åº”è¯¥ä»…ä½¿ç”¨åœ¨åº”ç”¨ç¨‹åºæ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éƒ½èƒ½ç»´æŒçš„å•ä¾‹çŠ¶æ€æ¥ç®¡ç†è¿™äº›çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œç‰¹å®šäºç”¨æˆ·çš„ä¼šè¯é€šå¸¸æ˜¯ä¸å¥½çš„åšæ³•ï¼Œä½ åº”è¯¥é‡æ–°è€ƒè™‘è®¾è®¡ã€‚å¦å¤–ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒSwiftä¹Ÿä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤ï¼Œå¦‚æœä½ ä½¿ç”¨å•ä¾‹ï¼Œåˆ™è¿˜å¿…é¡»ä¸ºå¤šçº¿ç¨‹é—®é¢˜åšå¥½å‡†å¤‡ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬å› æ­¤é€ æˆé—®é¢˜ï¼Œæˆ‘ä»¬éš¾é“ä¸åº”è¯¥å®Œå…¨é¿å…å®ƒä»¬å—ï¼Ÿç­”æ¡ˆæ˜¯ä¸ã€‚ ğŸš«</p><h1 id="æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å•ä¾‹ç±»"><a href="#æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å•ä¾‹ç±»" class="headerlink" title="æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å•ä¾‹ç±»"></a><strong>æˆ‘ä»¬åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å•ä¾‹ç±»</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¾‹å¦‚ï¼Œ<code>UIApplication</code> å¾ˆå¯èƒ½æ˜¯å•ä¾‹çš„ï¼Œå› ä¸ºåº”è¯¥åªæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºå®ä¾‹ï¼Œå¹¶ä¸”è¯¥å®ä¾‹åº”è¯¥ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ä½ å°†å…¶å…³é—­ä¸ºæ­¢ã€‚è¿™å°±æ˜¯å•ä¾‹çš„å®Œç¾ä¾‹å­ã€‚å¦ä¸€ä¸ªç”¨ä¾‹å¯ä»¥æ˜¯ <code>Logger</code> ç±»ã€‚ä½¿ç”¨å•ä¾‹æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæ— è®ºè®°å½•å™¨æ˜¯å¦æ‰“å¼€ï¼Œä½ çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºéƒ½ä¸ä¼šæœ‰æ‰€ä¸åŒã€‚æ²¡æœ‰å…¶ä»–äººä¼šæ‹¥æœ‰æˆ–ç®¡ç†è®°å½•å™¨ï¼Œå¹¶ä¸”ä½ åªä¼šå°†ä¿¡æ¯ä¼ é€’åˆ°è®°å½•å™¨ä¸­ï¼Œå› æ­¤çŠ¶æ€ä¸ä¼šæ··ä¹±ã€‚<strong>ç»“è®ºï¼šå¯¹äºå•ä¾‹æ¨¡å¼çš„ä½¿ç”¨ï¼Œæ§åˆ¶å°æˆ–è®°å½•å™¨ç±»æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„æ–¹æ¡ˆã€‚</strong> ğŸ‘</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Console</span>.<span class="keyword">default</span>.notice(<span class="string">"Hello I'm a singleton!"</span>)</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apple æ¡†æ¶ä¸­æœ‰å¾ˆå¤šâ€œå•ä¸€â€ï¼ˆå¹¶éä¸€åˆ‡éƒ½æ˜¯çœŸæ­£çš„å•ä¾‹å¯¹è±¡ï¼‰ç”¨ä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€çŸ­åˆ—è¡¨ï¼Œå› æ­¤æ‚¨å¯ä»¥ä»ä¸­è·å¾—ä¸€äº›å¯å‘ï¼š</p><ul><li>HTTPCookieStorage.shared</li><li>URLCredentialStorage.shared</li><li>URLSessionConfiguration.default</li><li>URLSession.shared</li><li>FileManager.default</li><li>Bundle.main</li><li>UserDefaults.standard</li><li>NotificationCenter.default</li><li>UIScreen.main</li><li>UIDevice.current</li><li>UIApplication.shared</li><li>MPMusicPlayerController.systemMusicPlayer</li><li>GKLocalPlayer.localPlayerï¼ˆï¼‰</li><li>SKPaymentQueue.defaultï¼ˆï¼‰</li><li>WCSession.default</li><li>CKContainer.defaultï¼ˆï¼‰</li><li>etc</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å·²ç»çœ‹åˆ°è®¸å¤šç®¡ç†å™¨ç±»ä»¥å•ä¾‹å½¢å¼å®ç°ï¼Œä¾‹å¦‚ç½‘ç»œï¼Œä½ç½®æˆ–æ ¸å¿ƒæ•°æ®ç®¡ç†å™¨ï¼Œä½†æ˜¯è¿™äº›å¯¹è±¡é€šå¸¸ä¸åº”è¯¥æ˜¯å•ä¾‹ï¼Œä»…ä»…æ˜¯å› ä¸ºå®ƒå¯ä»¥æ˜¯å¤šä¸ªå•ä¾‹ã€‚ ğŸ’©</p><p><strong>å•ä¾‹æ¨¡å¼å¯èƒ½éå¸¸æœ‰ç”¨ï¼Œä½†åº”è°¨æ…ä½¿ç”¨ã€‚</strong></p><p>å¦‚æœè¦å°†æŸä¸ªç±»å˜æˆå•ä¾‹ï¼Œè¯·é—®è‡ªå·±ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>è¿˜æœ‰å…¶ä»–ä»»ä½•ä¸œè¥¿æ‹¥æœ‰ï¼Œç®¡ç†æˆ–è´Ÿè´£å—ï¼Ÿ</li><li>æ˜¯å¦å°†åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Ÿ</li><li>å®ƒä¼šæ˜¯ä¸€ä¸ªå…¨å±€çŠ¶æ€å˜é‡å—ï¼Ÿ</li><li>æˆ‘çœŸçš„åº”è¯¥ä½¿ç”¨å…¨å±€å…±äº«å¯¹è±¡å—ï¼Ÿ</li><li>æ˜¯å¦åº”è¯¥è´¯ç©¿æ•´ä¸ªåº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸï¼Ÿ</li><li>æœ‰å…¶ä»–é€‰æ‹©å—ï¼Ÿ</li></ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœä»¥ä¸Šæ‰€æœ‰å†…å®¹çš„ç­”æ¡ˆéƒ½æ˜¯è‚¯å®šçš„ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥â€œå®‰å…¨åœ°â€ä½¿ç”¨å•ä¾‹æˆ–å…¨å±€å˜é‡æ¥å­˜å‚¨æ•°æ®ã€‚ ğŸ‰ğŸ‰ğŸ‰</p><h1 id="å¦‚ä½•ä½¿ç”¨Swiftåˆ›å»ºä¸€ä¸ªå•ä¾‹"><a href="#å¦‚ä½•ä½¿ç”¨Swiftåˆ›å»ºä¸€ä¸ªå•ä¾‹" class="headerlink" title="å¦‚ä½•ä½¿ç”¨Swiftåˆ›å»ºä¸€ä¸ªå•ä¾‹?"></a><strong>å¦‚ä½•ä½¿ç”¨Swiftåˆ›å»ºä¸€ä¸ªå•ä¾‹?</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ <code>Swift</code> ä¸­åˆ›å»ºå•ä¾‹å¯¹è±¡ç¡®å®å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯åœ¨åº”ç”¨æ­¤è®¾è®¡æ¨¡å¼ä¹‹å‰ï¼Œè¯·åŠ¡å¿…ä¸‰æ€è€Œåè¡Œï¼Œå¹¶è€ƒè™‘å…¶ä»–é€‰æ‹©ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> shared = <span class="type">Singleton</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="comment">// don't forget to make this private</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> singleton = <span class="type">Singleton</span>.shared</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚ä»Šï¼Œæˆ‘æ€»æ˜¯åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„å•ä¾‹å¯¹è±¡ï¼Œç§°ä¸ºAppã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘å¯ä»¥å°†ä¸åº”ç”¨ç¨‹åºç›¸å…³çš„å…¨å±€çŠ¶æ€å±æ€§è¿æ¥åˆ°é‚£ä¸ªå•ä¾‹ä¸­ã€‚å‘½åçº¦å®šä¹Ÿæœ‰åŠ©äºå…³è”å’Œç†è§£å…¶ä¸­çš„å†…å®¹ã€‚ ğŸ’¡</p><h1 id="å¦‚ä½•æ¶ˆé™¤å•ä¾‹"><a href="#å¦‚ä½•æ¶ˆé™¤å•ä¾‹" class="headerlink" title="å¦‚ä½•æ¶ˆé™¤å•ä¾‹?"></a><strong>å¦‚ä½•æ¶ˆé™¤å•ä¾‹?</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœè¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼Œåˆ™åº”åœ¨å¤§çº¦90ï¼…çš„æƒ…å†µä¸‹ä½¿ç”¨è¯¥æ–¹æ³•ã€‚å•ä¾‹æ¨¡å¼æœ€å¸¸è§çš„æ›¿ä»£è§£å†³æ–¹æ¡ˆæ˜¯ä¾èµ–æ³¨å…¥ã€‚é¦–å…ˆï¼Œä½ åº”è¯¥å°†å•ä¾‹æ–¹æ³•æŠ½è±¡ä¸ºåè®®ï¼Œç„¶åï¼Œå¦‚æœä»ç„¶éœ€è¦ï¼Œå¯ä»¥å°†å…¶ç”¨ä½œé»˜è®¤å®ç°ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†å•ä¾‹æˆ–<a href="http://www.xuebaonline.com/%E5%9C%A8Swift%E4%B8%AD%E9%87%8D%E6%9E%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%94%A8%E6%B3%95/" title="é‡æ„å¯¹è±¡">é‡æ„çš„å¯¹è±¡</a>æ³¨å…¥æ­£ç¡®çš„ä½ç½®ã€‚è¿™æ ·ï¼Œä½ çš„ä»£ç å°±å¯ä»¥ä½¿ç”¨åè®®çš„æ¨¡æ‹Ÿå¯¹è±¡è¿›è¡Œæµ‹è¯•ï¼Œç”šè‡³å¯ä»¥å¿½ç•¥å•ä¾‹æœ¬èº«ã€‚ ğŸ˜</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">DataCompletionBlock</span> = (<span class="type">Data?</span>) -&gt; <span class="type">Void</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. abstract away the required functions</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Session</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">make</span><span class="params">(request: URLRequest, completionHandler: @escaping DataCompletionBlock)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. make your "singleton" conform to the protocol</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">URLSession</span>: <span class="title">Session</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">make</span><span class="params">(request: URLRequest, completionHandler: @escaping DataCompletionBlock)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> task = <span class="keyword">self</span>.dataTask(with: request) &#123; data, <span class="number">_</span>, <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">            completionHandler(data)</span><br><span class="line">        &#125;</span><br><span class="line">        task.resume()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApiService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> session: <span class="type">Session</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. using dependency injection with the "singleton" object</span></span><br><span class="line">    <span class="keyword">init</span>(session: <span class="type">Session</span> = <span class="type">URLSession</span>.shared) &#123;</span><br><span class="line">        <span class="keyword">self</span>.session = session</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">load</span><span class="params">(<span class="number">_</span> request: URLRequest, completionHandler: @escaping DataCompletionBlock)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.session.make(request: request, completionHandler: completionHandler)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. create mock object</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MockedSession</span>: <span class="title">Session</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">make</span><span class="params">(request: URLRequest, completionHandler: @escaping DataCompletionBlock)</span></span> &#123;</span><br><span class="line">        completionHandler(<span class="string">"Mocked data response"</span>.data(using: .utf8))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. write your tests</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> api = <span class="type">ApiService</span>(session: <span class="type">MockedSession</span>())</span><br><span class="line">    <span class="keyword">let</span> request = <span class="type">URLRequest</span>(url: <span class="type">URL</span>(string: <span class="string">"https://localhost/"</span>)!)</span><br><span class="line">    api.load(request) &#123; data <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="type">String</span>(data: data!, encoding: .utf8)!)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°±åƒä½ çœ‹åˆ°çš„ï¼Œå•ä¾‹æ¨¡å¼éå¸¸å®¹æ˜“å®ç°ï¼Œä½†æ˜¯å¾ˆéš¾å†³å®šå…¶åº”ç”¨ç¨‹åºå½¢å¼ã€‚æˆ‘å¹¶ä¸æ˜¯è¯´è¿™æ˜¯ä¸€ç§åæ¨¡å¼ï¼Œå› ä¸ºæ˜¾ç„¶ä¸æ˜¯è¿™æ ·ï¼Œä½†æ˜¯å¦‚æœä½ æ‰“ç®—ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œè¯·å½“å¿ƒã€‚ ğŸ˜‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;Singleto&lt;/code&gt;n æ˜¯æœ‰å²ä»¥æ¥æœ€å—äº‰è®®çš„è®¾è®¡æ¨¡å¼ã€‚äº†è§£åœ¨ &lt;code&gt;iOS&lt;/code&gt; é¡¹ç›®ä¸­ä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; å•ä¾‹ç±»çš„æ­£ç¡®æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; æ¯ä¸ªäººéƒ½åœ¨æ‰¹è¯„çš„å•ä¾‹æ¨¡å¼ï¼Œå¤§å¤šæ•°äººéƒ½å°†å…¶ç§°ä¸ºåæ¨¡å¼ã€‚ä½†æ˜¯å•ä¾‹æ¨¡å¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆå·®å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="å•ä¾‹æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>NSCODERå’ŒSWIFTåˆå§‹åŒ–</title>
    <link href="http://www.xuebaonline.com/NSCODER%E5%92%8CSWIFT%E5%88%9D%E5%A7%8B%E5%8C%96/"/>
    <id>http://www.xuebaonline.com/NSCODER%E5%92%8CSWIFT%E5%88%9D%E5%A7%8B%E5%8C%96/</id>
    <published>2020-04-25T01:36:42.000Z</published>
    <updated>2020-04-25T01:53:24.699Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ <code>Swift</code> å¹¶æƒ³å¯¹å®ç° <code>NSCoding</code> çš„ä¸œè¥¿è¿›è¡Œå­ç±»åŒ–ï¼ˆä¾‹å¦‚ <code>UIView</code>ï¼Œ<code>UIViewController</code> ç­‰ï¼‰ï¼Œåˆ™å¯èƒ½ä¼šé‡åˆ°éº»çƒ¦çš„æƒ…å†µã€‚å³ï¼Œ<code>NSCoding</code> åè®®éœ€è¦ <code>init(coderï¼šaDecoder)</code> åˆå§‹åŒ–ç¨‹åºï¼Œè¿™æ„å‘³ç€å¦‚æœä½ ä¸ºè¶…ç±»é‡å†™äº†æŒ‡å®šçš„åˆå§‹åŒ–ç¨‹åºï¼Œåˆ™éœ€è¦å®ç°è¯¥åˆå§‹åŒ–ç¨‹åºã€‚</p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£å°±å¥½äº†ï¼Œä½†æ˜¯ <code>Swift</code> åœ¨ç¡®ä¿å¯¹ç±»çš„æ‰€æœ‰å±æ€§è¿›è¡Œè¶…çº§ä¸¥æ ¼çš„è°ƒç”¨ä¹‹å‰ï¼Œéƒ½è¦ç¡®ä¿åœ¨ <code>init()</code> ä¸­åˆ†é…äº†ä¸€ä¸ªå€¼ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨æƒ³æä¾›è‡ªå·±çš„åˆå§‹åŒ–ç¨‹åºï¼Œåˆ™æ— æ³•æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooViewController</span>: <span class="title">UIViewController</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>() &#123;</span><br><span class="line">    name = <span class="string">"Bar"</span></span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle:<span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>(coder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: coder)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>initï¼ˆcoder :)</code> åˆå§‹å€¼è®¾å®šé¡¹æœªè®¾ç½® <code>name</code> å±æ€§ï¼Œå› æ­¤ä¸ä¼šè¿›è¡Œç¼–è¯‘ã€‚ä½ å¯ä»¥åœ¨ä¸¤ä¸ªåˆå§‹å€¼è®¾å®šé¡¹ä¸­éƒ½é‡å¤åˆå§‹åŒ–å’Œè®¾ç½®åç§°ï¼Œä½†æ˜¯å½“ä½ åœ¨initä¸­è¿›è¡Œäº†å¾ˆå¤šå·¥ä½œæ—¶ï¼Œè¿™å¾ˆç³Ÿç³•ï¼ˆå¦‚æœå¸Œæœ›å°½å¯èƒ½é¿å…ä½¿ç”¨å¯é€‰å±æ€§ï¼Œåˆ™åº”è¯¥è¿™æ ·åšï¼‰ã€‚</p><p>åœ¨ Objective-C ä¸­ï¼Œå¦‚æœè¦åœ¨å¤šä¸ª <code>init</code> æ–¹æ³•ä¹‹é—´å…±äº«åˆå§‹åŒ–é€»è¾‘ï¼Œåˆ™åªéœ€å®šä¹‰ä¸€ä¸ªé€šç”¨çš„ <strong>â€œsetupâ€</strong> æ–¹æ³•å³å¯æ‰§è¡Œæ‰€æœ‰å…±äº«çš„ä¸œè¥¿ï¼Œå¹¶ä»ä¸¤ä¸ªåˆå§‹åŒ–å™¨ä¸­è°ƒç”¨å®ƒï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- (instancetype) <span class="keyword">init</span> &#123;</span><br><span class="line">  <span class="keyword">self</span> = [<span class="keyword">super</span> <span class="keyword">init</span>];</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">self</span>) &#123; <span class="keyword">return</span> <span class="keyword">self</span>; &#125;</span><br><span class="line"></span><br><span class="line">  [<span class="keyword">self</span> setup];</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (instancetype) initWithCoder:(<span class="type">NSCoder</span> *)aDecoder &#123;</span><br><span class="line">  <span class="keyword">self</span> = [<span class="keyword">super</span> initWithCoder:aDecoder];</span><br><span class="line">  <span class="keyword">if</span> (!<span class="keyword">self</span>) &#123; <span class="keyword">return</span> <span class="keyword">self</span>; &#125;</span><br><span class="line"></span><br><span class="line">  [<span class="keyword">self</span> setup];</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void) setup &#123;</span><br><span class="line">  <span class="keyword">self</span>.name = @<span class="string">"Foo"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  è¿™ç§æ–¹å¼ä¸ä¼šç«‹å³å°±åˆ›å»ºå‡ºä½ æƒ³è¦çš„å¯¹è±¡ã€‚é—®é¢˜åœ¨äºï¼Œåœ¨è¿™ä¸¤ä¸ªåˆå§‹åŒ–ç¨‹åºä¸­ï¼Œæˆ‘ä»¬éƒ½åœ¨è°ƒç”¨    <code>[super init]</code> ä¹‹å‰ï¼Œå…ˆç»™ <code>self.name</code> åˆ†é…äº†ä¸€ä¸ªå€¼ï¼Œä½†è¿™åœ¨ <code>Swift</code> è¯­æ³•ä¸­æ˜¯ä¸å¯è¡Œçš„ã€‚æˆ‘ä»¬ä¹Ÿä¸èƒ½å°†å¯¹ <code>self.setup</code> çš„è°ƒç”¨ç§»åˆ°å¯¹ <code>super.initï¼ˆï¼‰</code> çš„è°ƒç”¨ä¹‹ä¸Šï¼Œå› ä¸ºåœ¨ç±»é€šè¿‡è°ƒç”¨ <code>super.initï¼ˆï¼‰</code> å®Œå…¨åˆå§‹åŒ–ä¹‹åï¼Œæ‰å…è®¸æ‚¨å¼•ç”¨ <code>self</code> ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  é‚£ä¹ˆï¼Œå¦‚ä½•å°†è¿™åªé¸¡ä»é¸¡è›‹ä¸­å–å‡ºå¹¶æ”¾åˆ°ç›˜å­ä¸Šå‘¢ï¼Ÿå¥½å§ï¼Œæˆ‘ä»¬è¦ç­‰åˆ°åˆå§‹åŒ–åæ‰èƒ½å¯¹ <code>self</code> è°ƒç”¨æ–¹æ³•ï¼Œä½†æ˜¯åªè¦æˆ‘ä»¬ä» <strong>â€œconvienienceâ€</strong> åˆå§‹åŒ–ç¨‹åºä¸­è°ƒç”¨å®ƒï¼Œå°±å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ª <code>init</code> ã€‚ä»…é€šè¿‡ç¤ºä¾‹è¿›è¡Œè§£é‡Šå¯èƒ½æ›´å®¹æ˜“ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooViewController</span>: <span class="title">UIViewController</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(<span class="number">_</span> coder: <span class="type">NSCoder?</span> = <span class="literal">nil</span>) &#123;</span><br><span class="line">    name = <span class="string">"Bar"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> coder = coder &#123;</span><br><span class="line">      <span class="keyword">super</span>.<span class="keyword">init</span>(coder: coder)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle:<span class="literal">nil</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(coder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.<span class="keyword">init</span>(coder)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬åœ¨æŒ‡å®šçš„åˆå§‹åŒ–ç¨‹åºä¸­æ·»åŠ äº†ä¸€ä¸ªå¯é€‰çš„ <code>NSCoder</code> å‚æ•°ï¼Œå¹¶å°†å…¶é»˜è®¤è®¾ç½®ä¸º <code>nil</code> ï¼Œå› æ­¤æˆ‘ä»¬ä»ç„¶å¯ä»¥åƒä»¥å‰ä¸€æ ·åœ¨æ²¡æœ‰ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹è°ƒç”¨å®ƒã€‚ä½†æ˜¯ï¼Œç°åœ¨å·²å°†<code>NSCoding</code> åè®®ä¸­è¦æ±‚çš„ <code>initï¼ˆcoder :)</code> åˆå§‹å€¼è®¾å®šé¡¹æ ‡è®°ä¸º<strong>convienience</strong>ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è°ƒç”¨æŒ‡å®šçš„åˆå§‹å€¼è®¾å®šé¡¹å¹¶ä¼ å…¥ç¼–ç å™¨ã€‚</p><p>åœ¨æŒ‡å®šçš„ <code>init</code> ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥ <code>coder</code> æ˜¯å¦ä¸ºé <code>nil</code> ï¼ˆå¦‚æœè®©coder = conditionalä¸ºæ¡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è°ƒç”¨ <code>super.initï¼ˆcoder :)</code> ã€‚å¦‚æœä¸º <code>nil</code>ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œæœ¬æ¥åº”è¯¥åšçš„äº‹æƒ…ï¼Œå¹¶è°ƒç”¨ <code>super.initï¼ˆnibNameï¼šnilï¼Œbundleï¼šnilï¼‰</code>ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ï¼Œç¼–è¯‘å™¨å¾ˆé«˜å…´åœ¨è°ƒç”¨ <code>super.initï¼ˆï¼‰</code> ä¹‹å‰ä¸ºå±æ€§åˆ†é…å€¼ï¼Œå¹¶ä¸”å¯ä»¥å°†åˆå§‹åŒ–é€»è¾‘æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚å¦‚æœè¦åœ¨æƒ…èŠ‚æè¦ä¸­ä½¿ç”¨ <code>ViewController</code> ï¼Œåˆ™æ¡†æ¶å°†è°ƒç”¨initï¼ˆcoder :)ï¼Œå¦‚æœè¦ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºä¸€ä¸ªï¼Œåˆ™å¯ä»¥è¯´ <code>let fooVC = FooViewControllerï¼ˆï¼‰</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ &lt;code&gt;Swift&lt;/code&gt; å¹¶æƒ³å¯¹å®ç° &lt;code&gt;NSCoding&lt;/code&gt; çš„ä¸œè¥¿è¿›è¡Œå­ç±»åŒ–ï¼ˆä¾‹å¦‚ &lt;code&gt;UIView&lt;/code&gt;ï¼Œ&lt;code&gt;UIViewController&lt;/code&gt; ç­‰ï¼‰ï¼Œåˆ™å¯èƒ½ä¼šé‡åˆ°éº»çƒ¦çš„æƒ…å†µã€‚å³ï¼Œ&lt;code&gt;NSCoding&lt;/code&gt; åè®®éœ€è¦ &lt;code&gt;init(coderï¼šaDecoder)&lt;/code&gt; åˆå§‹åŒ–ç¨‹åºï¼Œè¿™æ„å‘³ç€å¦‚æœä½ ä¸ºè¶…ç±»é‡å†™äº†æŒ‡å®šçš„åˆå§‹åŒ–ç¨‹åºï¼Œåˆ™éœ€è¦å®ç°è¯¥åˆå§‹åŒ–ç¨‹åºã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>UIKitåˆå§‹åŒ–æ¨¡å¼</title>
    <link href="http://www.xuebaonline.com/UIKit%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A8%A1%E5%BC%8F/"/>
    <id>http://www.xuebaonline.com/UIKit%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A8%A1%E5%BC%8F/</id>
    <published>2020-04-25T00:05:14.000Z</published>
    <updated>2020-04-25T02:12:15.476Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>äº†è§£UIKitä¸­ä¸¤ä¸ªå¸¸ç”¨ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚äº†è§£UIViewcontrollerå’ŒUIViewåˆå§‹åŒ–æ¨¡å¼ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>UIKit</code> æ˜¯åœ¨iOSå¼€å‘è¿‡ç¨‹ä¸­å¿…é¡»ä¹Ÿæ˜¯ä½¿ç”¨é¢‘æ¬¡æœ€é«˜çš„ä¸€ä¸ªç±»åº“ï¼Œé‡Œé¢åŒ…å«äº†è®¸å¤šä¸ç”¨æˆ·ç›´æ¥äº¤äº’çš„æ§ä»¶æ¯”å¦‚ï¼š<code>UIView</code>, <code>UITableView</code>, <code>UIScrollView</code> ç­‰ã€‚åœ¨æ”¶åˆ°ç”¨æˆ·äº¤äº’çš„è®¾è®¡å›¾ä¹‹åï¼Œæˆ‘ä»¬è¦åˆç†çš„ä½¿ç”¨è¿™äº›æ§ä»¶ï¼Œå°±èƒ½ç¼–å†™å‡ºäº¤äº’è‰¯å¥½çš„åº”ç”¨ã€‚</p><a id="more"></a><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™¤äº†ç±»åº“ä¸­åŒ…å«çš„åŸºç¡€æ§ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿå¯¹æ§ä»¶æ ¹æ®ä¸šåŠ¡éœ€è¦è¿›è¡Œæ•´åˆï¼Œä¹Ÿå°±æ˜¯è®¾è®¡å‡ºä¸€å¥—é€‚ç”¨äºæœ¬å…¬å¸çš„ç»„ä»¶ï¼Œæé«˜å¼€å‘é€Ÿåº¦ã€‚</p><h1 id="UIViewController-åˆå§‹åŒ–"><a href="#UIViewController-åˆå§‹åŒ–" class="headerlink" title="UIViewController åˆå§‹åŒ–"></a><strong>UIViewController åˆå§‹åŒ–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®é™…ä¸Šï¼Œ<code>UIViewController</code> çš„åˆå§‹åŒ–éå¸¸ç®€å•ã€‚å¦‚æœè¦å®Œå…¨æ§åˆ¶ï¼Œåˆ™åªéœ€è¦é‡å†™ä¸€äº›æ–¹æ³•ã€‚è¿™å–å†³äºä½ ä½¿ç”¨ä½•ç§æ–¹å¼è°ƒç”¨ <code>init</code> ï¼Œå¦‚æœä½ ä½¿ç”¨ä¸€ä¸ª <code>storyboard</code> åˆå§‹åŒ–æ§åˆ¶å™¨ï¼Œé‚£ä¹ˆ <a href="http://www.xuebaonline.com/NSCODER%E5%92%8CSWIFT%E5%88%9D%E5%A7%8B%E5%8C%96/" title="NSCODERå’ŒSWIFTåˆå§‹åŒ–">init(coder)</a> æ˜¯ä½ æ‰€éœ€è¦çš„ã€‚å¦‚æœä½ å°è¯•ä»å¤–éƒ¨ <code>nib</code> æ–‡ä»¶å¯åŠ¨æ§åˆ¶å™¨ï¼Œåˆ™å°†è°ƒç”¨ <code>initï¼ˆnibï¼Œbundleï¼‰</code> ã€‚ä½ è¿˜æœ‰ç¬¬ä¸‰ä¸ªé€‰æ‹©ï¼Œä½ å¯ä»¥é€šè¿‡ä»£ç ä»¥ç¼–ç¨‹æ–¹å¼åˆå§‹åŒ–æ§åˆ¶å™¨ã€‚ç®€è€Œè¨€ä¹‹ï¼Œä¸ºäº†è¿›è¡Œåˆç†çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œè¿™æ˜¯ä½ å¿…é¡»è¦åšçš„ã€‚</p></br><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸‹é¢ä»‹ç»ä¸¤ç§ <code>UIViewControllers</code> çš„åˆå§‹åŒ–æ¨¡å¼ï¼Œç¬¬ä¸€ç§åªæ˜¯ä¸€ä¸ªå¸¸è§çš„initå‡½æ•°ï¼Œåœ¨æ¯ç§æƒ…å†µä¸‹éƒ½å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°æ¥åˆå§‹åŒ–æ§åˆ¶å™¨ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(nibName nibNameOrNil: <span class="type">String?</span>, bundle nibBundleOrNil: <span class="type">Bundle?</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: nibNameOrNil, bundle: nibBundleOrNil)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">initialize</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//do your stuff here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯ä»¥åœ¨ä¹‹åçš„å­ç±»ä¸­éšè— <code>initï¼ˆnibï¼Œbundleï¼‰</code> å’Œ <code>initï¼ˆcoderï¼‰</code> æ–¹æ³•ã€‚åœ¨å­ç±»ä¸­ä¸å¿…é‡å†™ <code>initï¼ˆnibï¼Œbundleï¼‰</code>ï¼Œå¹¶ä¸”å¯ä»¥å°† <code>initï¼ˆcoderï¼‰</code> æ ‡è®°ä¸ºé»˜è®¤åˆå§‹åŒ–ç¨‹åºã€‚è¿™ä¸ªä¼¼ä¹æ˜¯æœ‰ç‚¹æ£˜æ‰‹çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨èµ·æ¥ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä½†ç¡®å®å¯ä»¥å®Œæˆ <code>ViewController</code> çš„åˆå§‹åŒ–ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">convenience</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">initialize</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//do your stuff here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFutureViewController</span>: <span class="title">ViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> vc = <span class="type">MyFutureViewController</span>()</span><br></pre></td></tr></table></figure><hr></br><h1 id="UIView-åˆå§‹åŒ–"><a href="#UIView-åˆå§‹åŒ–" class="headerlink" title="UIView åˆå§‹åŒ–"></a><strong>UIView åˆå§‹åŒ–</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬é€šå¸¸ä¸º <code>UIView</code> åˆ›å»ºä¸€ä¸ªé€šç”¨çš„åˆå§‹åŒ–ç¨‹åºï¼Œä»¥ä½¿åˆå§‹åŒ–è¿‡ç¨‹æ›´åŠ è½»æ¾ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æ–¹ä¾¿ã€‚è¿˜ä¼šåœ¨è¯¥åˆå§‹å€¼è®¾å®šé¡¹æ–¹æ³•ä¸­å°† <code>translate autoresizing mask</code> å±æ€§è®¾ç½®ä¸º <code>false</code> ï¼Œå› ä¸ºå®ƒæ˜¯2017å¹´ï¼Œæ²¡æœ‰äººå†ä½¿ç”¨ <code>springï¼†struts</code> äº†ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">View</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: .zero)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.initialize()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">initialize</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€åŠ©æ‰‹ä¹Ÿå¾ˆä¸é”™ï¼Œå¦‚æœä½ æƒ³ä»nibæ–‡ä»¶ä¸­åˆå§‹åŒ–è§†å›¾ï¼Œé‚£ä¹ˆæœ‰ä¸€äº›ä¾¿åˆ©çš„æ–¹æ³•ä¹Ÿå¾ˆå¥½ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIView</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">convenience</span> <span class="keyword">init</span>(autolayout: <span class="type">Bool</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(frame: .zero)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = !autolayout</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">create</span><span class="params">(autolayout: Bool = <span class="literal">true</span>)</span></span> -&gt; <span class="type">Self</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> _self = <span class="keyword">self</span>.<span class="keyword">init</span>()</span><br><span class="line">        <span class="keyword">let</span> view  = _self <span class="keyword">as</span> <span class="type">UIView</span></span><br><span class="line">        view.translatesAutoresizingMaskIntoConstraints = !autolayout</span><br><span class="line">        <span class="keyword">return</span> _self</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">createFromNib</span><span class="params">(owner: <span class="keyword">Any</span>? = <span class="literal">nil</span>, options: [AnyHashable: <span class="keyword">Any</span>]? = <span class="literal">nil</span>)</span></span> -&gt; <span class="type">UIView</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Bundle</span>.main.loadNibNamed(<span class="type">String</span>(describing: <span class="keyword">self</span>), owner: owner, options: options)?.last <span class="keyword">as</span>! <span class="type">UIView</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> view = <span class="type">UIView</span>(autolayout: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™äº›ä»£ç ç‰‡æ®µï¼Œä¸ºæ‰€æœ‰ <code>UIKit</code> ç±»ç»´æŠ¤ä¸€ä¸ªåˆç†çš„åˆå§‹åŒ–è¿‡ç¨‹ç¡®å®å¾ˆå®¹æ˜“ï¼Œå› ä¸ºå…¶ä¸­å¤§å¤šæ•°éƒ½æ˜¯ä»è¿™ä¸¤ä¸ª â€œä¸»è¦â€ ç±»æ´¾ç”Ÿçš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;äº†è§£UIKitä¸­ä¸¤ä¸ªå¸¸ç”¨ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚äº†è§£UIViewcontrollerå’ŒUIViewåˆå§‹åŒ–æ¨¡å¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;UIKit&lt;/code&gt; æ˜¯åœ¨iOSå¼€å‘è¿‡ç¨‹ä¸­å¿…é¡»ä¹Ÿæ˜¯ä½¿ç”¨é¢‘æ¬¡æœ€é«˜çš„ä¸€ä¸ªç±»åº“ï¼Œé‡Œé¢åŒ…å«äº†è®¸å¤šä¸ç”¨æˆ·ç›´æ¥äº¤äº’çš„æ§ä»¶æ¯”å¦‚ï¼š&lt;code&gt;UIView&lt;/code&gt;, &lt;code&gt;UITableView&lt;/code&gt;, &lt;code&gt;UIScrollView&lt;/code&gt; ç­‰ã€‚åœ¨æ”¶åˆ°ç”¨æˆ·äº¤äº’çš„è®¾è®¡å›¾ä¹‹åï¼Œæˆ‘ä»¬è¦åˆç†çš„ä½¿ç”¨è¿™äº›æ§ä»¶ï¼Œå°±èƒ½ç¼–å†™å‡ºäº¤äº’è‰¯å¥½çš„åº”ç”¨ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/categories/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/categories/Swift/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/categories/UIKit/"/>
    
    
      <category term="iOS" scheme="http://www.xuebaonline.com/tags/iOS/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://www.xuebaonline.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="UIKit" scheme="http://www.xuebaonline.com/tags/UIKit/"/>
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>åç«¯å®è·µä¸‰:Ubuntu18.04å®‰è£…Vapor4.0</title>
    <link href="http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%89:Ubuntu18.04%E5%AE%89%E8%A3%85Vapor4.0/"/>
    <id>http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%89:Ubuntu18.04%E5%AE%89%E8%A3%85Vapor4.0/</id>
    <published>2020-04-17T08:52:46.000Z</published>
    <updated>2020-04-25T01:11:06.910Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡æ–‡ç« ã€Š<a href="http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%BA%8C:Ubuntu18.04%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%89%88Swift5.2/" title="åç«¯å®è·µäºŒ:Ubuntu18.04å®‰è£…æœ€æ–°ç‰ˆSwift5.2">åç«¯å®è·µäºŒ:Ubuntu18.04å®‰è£…æœ€æ–°ç‰ˆSwift5.2</a>ã€‹å¯ä»¥åœ¨ Ubuntu18.04 çš„æœåŠ¡å™¨ä¸Šé¡ºåˆ©å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ <code>Swift</code> ã€‚æˆ‘ä»¬å‚ç…§ <a href="https://docs.vapor.codes/3.0/install/ubuntu/" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£</a> å®‰è£… <code>Vapor4.0</code> çš„å¼€å‘ç¯å¢ƒã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®˜ç½‘ä¸Šçš„æ–‡æ¡£è·Ÿå¼€å‘ç»´æŠ¤çš„é€Ÿåº¦æœ‰ä¸€å®šçš„ç‰ˆæœ¬è¯¯å·®ï¼Œæ‰€ä»¥ç°åœ¨åœ¨å®˜ç½‘ä¸Šçœ‹åˆ°çš„å®‰è£…æ–¹æ³•æ˜¯é’ˆå¯¹ <code>Vapor(&gt;3.0 &amp;&amp; &lt; 4.0)</code> çš„ç‰ˆæœ¬ã€‚ç”±äºç‰ˆæœ¬é—´å·®å¼‚æ¯”è¾ƒå¤§ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œåªä¼šå…³æ³¨åˆ° <code>Vapor(&gt;=4.0)</code> ä»¥ä¸Šç‰ˆæœ¬çš„æ–°ç‰¹æ€§ã€‚åœ¨åˆ›å»ºå·¥ç¨‹å’Œå¼•å…¥ä¾èµ–åº“çš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šå‡ºç°å¾®å°çš„å·®åˆ«ï¼Œæˆ‘ä»¬åœ¨åç»­çš„å®è·µä¸­ä¼šæ€»ç»“åˆ°ã€‚</p></blockquote><h1 id="éªŒè¯-Swift-å®‰è£…"><a href="#éªŒè¯-Swift-å®‰è£…" class="headerlink" title="éªŒè¯ Swift å®‰è£…"></a><strong>éªŒè¯ Swift å®‰è£…</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬é€šè¿‡è®¿é—® <code>Swift.org</code>ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä»½å¦‚ä½•åœ¨ <code>Linux</code> ä¸Šå®‰è£… <code>Swift</code> çš„æ–‡æ¡£ã€‚æˆ‘ä»¬å®Œæˆå¯¹ <code>Swift</code> çš„å®‰è£…ä¹‹åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><a id="more"></a><p>å¦‚æœåœ¨ç»ˆç«¯ä¸­è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Apple</span> <span class="type">Swift</span> version <span class="number">4.1</span>.<span class="number">0</span> (swiftlang-<span class="number">900.0</span>.<span class="number">69.2</span> clang-<span class="number">900.0</span>.<span class="number">38</span>)</span><br><span class="line"><span class="type">Target</span>: x86_64-apple-macosx10.<span class="number">9</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ ‡è¯†æˆ‘ä»¬åœ¨ <code>Linux</code> ä¸ŠæˆåŠŸå®‰è£… <code>Swift</code>ã€‚</p><h1 id="å®‰è£…-Vapor-Toolbox"><a href="#å®‰è£…-Vapor-Toolbox" class="headerlink" title="å®‰è£… Vapor Toolbox"></a><strong>å®‰è£… Vapor Toolbox</strong></h1><p>åœ¨ <code>Vapor 4.0</code> å‘å¸ƒä¹‹å‰ï¼Œåœ¨ <code>Linux</code> ä¸Šå®‰è£…ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯ä¸­æ•²å…¥å¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL apt.vapor.sh -o apt.vapor.sh</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ‰§è¡Œå®‰è£…çš„å‘½ä»¤å·²ç»è¢«åºŸå¼ƒã€‚</p><h2 id="Toolbox-æºä»£ç "><a href="#Toolbox-æºä»£ç " class="headerlink" title="Toolbox æºä»£ç "></a><code>Toolbox</code> æºä»£ç </h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œä¸åœ¨å°†è¯¥æ–‡ä»¶æ‰˜ç®¡è‡³è½¯ä»¶æºï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®‰è£…æ—¶éœ€è¦åšå‡ºå¦‚ä¸‹æ“ä½œè·å–åˆ° <code>Toolbox</code> æºä»£ç åˆ°æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ï¼š</p><p>ä¸‹è½½ <code>Toolbox</code> æºä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/vapor/toolbox.git</span><br></pre></td></tr></table></figure><p><img src="http://q8wtfza4q.bkt.clouddn.com/tl-1stp.png" alt="Toolbox"></p><h2 id="ç¼–è¯‘-Vapor-å¯æ‰§è¡Œæ–‡ä»¶"><a href="#ç¼–è¯‘-Vapor-å¯æ‰§è¡Œæ–‡ä»¶" class="headerlink" title="ç¼–è¯‘ Vapor å¯æ‰§è¡Œæ–‡ä»¶"></a>ç¼–è¯‘ <code>Vapor</code> å¯æ‰§è¡Œæ–‡ä»¶</h2><p>è¿›å…¥åˆ° <code>Toolbox</code> å·¥ç¨‹çš„æ ¹ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> toolbox/</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ <code>Toolbox</code>  å‘å¸ƒç‰ˆæœ¬ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swift build -<span class="built_in">c</span> release</span><br></pre></td></tr></table></figure><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºè·å–çš„æºä»£ç ä¸­ç¼ºå°‘éƒ¨åˆ†æ–‡ä»¶ï¼ŒæœŸé—´æˆ–å­˜åœ¨æŠ¥é”™å‘ç° <code>Toolbox</code> ä¸­æ²¡æœ‰ <code>LinuxMain.swift</code> æ–‡ä»¶åœ¨ <code>Tests</code> æ–‡ä»¶å¤¹ä¸­ï¼Œè¿™æ—¶æˆ‘ä»¬è¿›å…¥åˆ° <code>XCTest</code> æ–‡ä»¶å¤¹ä¸­ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/tl-2stp.png" alt="Vapor"></p><p>åˆ›å»º <code>LinuxMain.swift</code> æ–‡ä»¶:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch LinuxMain.swift</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>LinuxMain.swift</code> æ–‡ä»¶:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim LinuxMain.swift</span><br></pre></td></tr></table></figure><p>å‘ <code>LinuxMain.swift</code> æ–‡ä»¶ä¸­æ·»åŠ æµ‹è¯•ä»£ç :</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> XCTest</span><br><span class="line"><span class="meta">@testable</span> <span class="keyword">import</span> AppTests</span><br><span class="line"></span><br><span class="line"><span class="type">XCTMain</span>([testCase(<span class="type">AppTests</span>.allTests)])</span><br></pre></td></tr></table></figure><p>ä¿å­˜ä¿®æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq!</span><br></pre></td></tr></table></figure><p>é‡æ–°æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆç¼–è¯‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swift build -c release</span><br></pre></td></tr></table></figure><p><img src="http://q8wtfza4q.bkt.clouddn.com/tl-3stp.png" alt="Vapor"></p><p>æ‰¾åˆ°ç¼–è¯‘æˆåŠŸçš„ <code>Vapor</code> æ–‡ä»¶</p><blockquote><p>æ‰§è¡Œå®Œ <code>build</code> å‘½ä»¤ä¹‹åï¼Œä¼šåœ¨è¾“å‡ºçš„æ–‡ä»¶ä¸­ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p></blockquote><p>æŸ¥æ‰¾ <code>Vapor</code> æ‰€åœ¨çš„ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name vapor</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ—¶ä¼šçœ‹åˆ°è¾“å‡ºä¸€ä¸ªç±»ä¼¼å¦‚ä¸‹çš„æ–‡ä»¶å¤¹ <code>.build/x86_64-unknown-linux/release/vapor</code> ,è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œå°±æ˜¯æˆ‘ä»¬è¦ä½¿ç”¨åˆ°çš„æ–‡ä»¶ <code>Vapor</code> ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/tl-4stp.png" alt="Vapor"></p><p>é…ç½® <code>Vapor</code> çš„ç¯å¢ƒå˜é‡</p><p>å°†åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶ <code>Vapor</code> çš„æ–‡ä»¶ç›®å½•æ·»åŠ åœ¨ <code>PATH</code> ä¸­ã€‚</p><p>é…ç½® <code>Vapor</code> ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp vapor /usr/<span class="built_in">local</span>/bin/</span><br></pre></td></tr></table></figure><p>éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vapor --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><p><img src="http://q8wtfza4q.bkt.clouddn.com/tl-5stp.png" alt="Vaporhelp"></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡³æ­¤ <code>Vapor 4.0</code> çš„ç¯å¢ƒé…ç½®å·²ç»å®Œæˆã€‚ç”±äº <code>3.0</code> å’Œ <code>4.0</code> ç‰ˆæœ¬å·®å¼‚æ¯”è¾ƒå¤§ï¼Œåœ¨é…ç½®æ–¹é¢ä¹Ÿæœ‰å·®å¼‚ã€‚åœ¨åˆ›å»ºé¡¹ç›®æ—¶æ›´éœ€è¦åŠ ä¸Š <code>branch=4</code> ç­‰ã€‚åç»­ä¼šåŠ å…¥ï¼šåˆ›å»ºç¬¬ä¸€ä¸ª <code>Hello World</code> å·¥ç¨‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡æ–‡ç« ã€Š&lt;a href=&quot;http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%BA%8C:Ubuntu18.04%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%89%88Swift5.2/&quot; title=&quot;åç«¯å®è·µäºŒ:Ubuntu18.04å®‰è£…æœ€æ–°ç‰ˆSwift5.2&quot;&gt;åç«¯å®è·µäºŒ:Ubuntu18.04å®‰è£…æœ€æ–°ç‰ˆSwift5.2&lt;/a&gt;ã€‹å¯ä»¥åœ¨ Ubuntu18.04 çš„æœåŠ¡å™¨ä¸Šé¡ºåˆ©å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ &lt;code&gt;Swift&lt;/code&gt; ã€‚æˆ‘ä»¬å‚ç…§ &lt;a href=&quot;https://docs.vapor.codes/3.0/install/ubuntu/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜ç½‘æ–‡æ¡£&lt;/a&gt; å®‰è£… &lt;code&gt;Vapor4.0&lt;/code&gt; çš„å¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å®˜ç½‘ä¸Šçš„æ–‡æ¡£è·Ÿå¼€å‘ç»´æŠ¤çš„é€Ÿåº¦æœ‰ä¸€å®šçš„ç‰ˆæœ¬è¯¯å·®ï¼Œæ‰€ä»¥ç°åœ¨åœ¨å®˜ç½‘ä¸Šçœ‹åˆ°çš„å®‰è£…æ–¹æ³•æ˜¯é’ˆå¯¹ &lt;code&gt;Vapor(&amp;gt;3.0 &amp;amp;&amp;amp; &amp;lt; 4.0)&lt;/code&gt; çš„ç‰ˆæœ¬ã€‚ç”±äºç‰ˆæœ¬é—´å·®å¼‚æ¯”è¾ƒå¤§ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œåªä¼šå…³æ³¨åˆ° &lt;code&gt;Vapor(&amp;gt;=4.0)&lt;/code&gt; ä»¥ä¸Šç‰ˆæœ¬çš„æ–°ç‰¹æ€§ã€‚åœ¨åˆ›å»ºå·¥ç¨‹å’Œå¼•å…¥ä¾èµ–åº“çš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šå‡ºç°å¾®å°çš„å·®åˆ«ï¼Œæˆ‘ä»¬åœ¨åç»­çš„å®è·µä¸­ä¼šæ€»ç»“åˆ°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;éªŒè¯-Swift-å®‰è£…&quot;&gt;&lt;a href=&quot;#éªŒè¯-Swift-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;éªŒè¯ Swift å®‰è£…&quot;&gt;&lt;/a&gt;&lt;strong&gt;éªŒè¯ Swift å®‰è£…&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;æˆ‘ä»¬é€šè¿‡è®¿é—® &lt;code&gt;Swift.org&lt;/code&gt;ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä»½å¦‚ä½•åœ¨ &lt;code&gt;Linux&lt;/code&gt; ä¸Šå®‰è£… &lt;code&gt;Swift&lt;/code&gt; çš„æ–‡æ¡£ã€‚æˆ‘ä»¬å®Œæˆå¯¹ &lt;code&gt;Swift&lt;/code&gt; çš„å®‰è£…ä¹‹åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/categories/Server/"/>
    
      <category term="Vapor4.0" scheme="http://www.xuebaonline.com/categories/Vapor4-0/"/>
    
      <category term="Ubuntu18.04" scheme="http://www.xuebaonline.com/categories/Ubuntu18-04/"/>
    
      <category term="Swift5.2" scheme="http://www.xuebaonline.com/categories/Swift5-2/"/>
    
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="Server" scheme="http://www.xuebaonline.com/tags/Server/"/>
    
      <category term="Ubuntu" scheme="http://www.xuebaonline.com/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>åç«¯å®è·µäºŒ:Ubuntu18.04å®‰è£…æœ€æ–°ç‰ˆSwift5.2</title>
    <link href="http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%BA%8C:Ubuntu18.04%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%89%88Swift5.2/"/>
    <id>http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%BA%8C:Ubuntu18.04%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%89%88Swift5.2/</id>
    <published>2020-04-17T06:51:16.000Z</published>
    <updated>2020-04-25T01:06:57.345Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡æ–‡ç« ã€Š<a href="http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%80:%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAVMware%E4%B8%8B%E5%AE%89%E8%A3%85Ubuntu18.04/" title="åç«¯å®è·µä¸€:å¼€å‘ç¯å¢ƒæ­å»ºVMwareä¸‹å®‰è£…Ubuntu18.04">åç«¯å®è·µä¸€:å¼€å‘ç¯å¢ƒæ­å»ºVMwareä¸‹å®‰è£…Ubuntu18.04</a>ã€‹å¯ä»¥å®Œæˆåœ¨  <code>mac</code> ä¸Šæ­å»ºèµ·å¯ç”¨çš„ <code>Ubuntu 18.04</code> çš„æœåŠ¡å™¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¦åœ¨æ­¤åŸºç¡€ä¸Šå®Œå–„ <code>Vapor 4.0</code> çš„å¼€å‘ç¯å¢ƒã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ubuntu 18.04 å®‰è£… Swift 5.2.2 ï¼Œå¯åœ¨ Vapor å®˜ç½‘çš„å¼•å¯¼å®Œæˆã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯è®²è§£å¦‚ä½•å®Œæˆåœ¨ Ubuntu ä¸Šå®‰è£…æœ€æ–°ç‰ˆæœ¬ Swiftï¼Œæ„å»ºå‡ºä¸€ä¸ªå¼ºå¤§çš„äº‘ç«¯æœåŠ¡å™¨ã€‚</p></blockquote><h1 id="Ubuntu-ç³»ç»Ÿç¯å¢ƒæ­å»º"><a href="#Ubuntu-ç³»ç»Ÿç¯å¢ƒæ­å»º" class="headerlink" title="Ubuntu ç³»ç»Ÿç¯å¢ƒæ­å»º"></a><strong><code>Ubuntu</code> ç³»ç»Ÿç¯å¢ƒæ­å»º</strong></h1><h2 id="è¿æ¥æœåŠ¡å™¨"><a href="#è¿æ¥æœåŠ¡å™¨" class="headerlink" title="è¿æ¥æœåŠ¡å™¨"></a>è¿æ¥æœåŠ¡å™¨</h2><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œä½¿ç”¨çš„SecureCRTä½œä¸ºç»ˆç«¯è¿æ¥æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>iTerm2</code> è¿æ¥æœåŠ¡å™¨ã€‚</p></blockquote><a id="more"></a><p>ä½¿ç”¨ <code>SecureCRT</code> æä¾›çš„è¿œç¨‹ç™»å½•åŠŸèƒ½è¿æ¥ <code>Ubuntu</code> æœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-1stop.png" alt="SecureCRT"></p><p>ä½¿ç”¨ <code>SecureCRT</code> ç»ˆç«¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è¿œç¨‹ç™»å½•åŠŸèƒ½è¿æ¥ <code>Ubuntu</code> æœåŠ¡å™¨ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-2stp.png" alt="ä½¿ç”¨SecureCRT"></p><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-3stp.png" alt="ä½¿ç”¨SecureCRT"></p><p>ä½¿ç”¨ <code>iTerm2</code> ç»ˆç«¯ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è¿œç¨‹ç™»å½•åŠŸèƒ½è¿æ¥Ubuntu æœåŠ¡å™¨ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-4stp.png" alt="iTerm2"></p><p>æŸ¥çœ‹å½“å‰æœåŠ¡å™¨ç³»ç»Ÿç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ä¾èµ–åº“"><a href="#å®‰è£…ä¾èµ–åº“" class="headerlink" title="å®‰è£…ä¾èµ–åº“"></a>å®‰è£…ä¾èµ–åº“</h2><blockquote><p>Swift ä¾èµ–ä¸€äº›ä¸‰æ–¹ç±»åº“ã€‚</p></blockquote><p>å¿…é¡»å®‰è£…çš„ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install clang libicu-dev -y</span><br><span class="line">sudo apt-get install libcurl3 libpython2.7 libpython2.7-dev</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Swift"><a href="#å®‰è£…-Swift" class="headerlink" title="å®‰è£… Swift"></a>å®‰è£… <code>Swift</code></h2><p>åœ¨ <a href="https://swift.org/download/#releases" target="_blank" rel="noopener">Swift.org</a> æŸ¥æ‰¾æˆ‘ä»¬è¦å®‰è£…çš„Swiftå¯¹åº”ç‰ˆæœ¬çš„Toolchainï¼Œå¤åˆ¶ä¸‹è½½é“¾æ¥ã€‚</p><blockquote><p>åœ¨å†™è¿™ç¯‡æ–‡ç« æ—¶æœ€æ–°ç‰ˆçš„Swiftæ˜¯v5.2.2ã€‚</p></blockquote><p>æ‰¾åˆ°å¯¹åº”ç³»ç»Ÿä»¥åŠå¯¹åº”ç‰ˆæœ¬<a href="https://swift.org/builds/swift-5.2.2-release/ubuntu1804/swift-5.2.2-RELEASE/swift-5.2.2-RELEASE-ubuntu18.04.tar.gz" target="_blank" rel="noopener">ä¸‹è½½é“¾æ¥</a>ï¼š</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-5stp.png" alt="ä¸‹è½½é“¾æ¥"></p><p>å¯ä»¥é‡‡ç”¨ä¸¤ç§ä¸‹è½½æ–¹å¼ï¼š</p><ul><li>åœ¨æœ¬æœºä¸Šä½¿ç”¨ä¸Šæ–¹é“¾æ¥ï¼Œä¸‹è½½ <code>Toolchain</code> ï¼Œä¸Šä¼ åˆ° <code>Ubuntu</code> æœåŠ¡å™¨ä¸Šï¼Œå®Œæˆåç»­å®‰è£…ï¼›</li><li>åœ¨ <code>Ubuntu</code> ä¸Šä½¿ç”¨ <code>wget url</code> çš„æ–¹å¼ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ã€‚</li></ul><p>æ¥ä¸‹æ¥ ä½¿ç”¨  <code>wget url</code> ä¸‹è½½ <code>swift</code> å®‰è£…åŒ…ï¼Œå¹¶è§£å‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://swift.org/builds/swift-5.2.2-release/ubuntu1804/swift-5.2.2-RELEASE/swift-5.2.2-RELEASE-ubuntu18.04.tar.gz</span><br></pre></td></tr></table></figure><p>è§£å‹ <code>swift</code> åˆ°æ–‡ä»¶å¤¹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf swift-5.2.2-RELEASE-ubuntu18.04.tar.gz</span><br></pre></td></tr></table></figure><p>å°†è§£å‹çš„æ–‡ä»¶ä¿å­˜åœ¨ <code>share</code> ç›®å½•ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv swift-5.2.2-RELEASE-ubuntu18.04 /usr/share/swift</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-Swift-ç¯å¢ƒå˜é‡"><a href="#é…ç½®-Swift-ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½® Swift ç¯å¢ƒå˜é‡"></a>é…ç½® <code>Swift</code> ç¯å¢ƒå˜é‡</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®Œæˆä»¥ä¸Šæ“ä½œå³å®Œæˆäº† <code>swift</code> çš„çš„å®‰è£…ï¼Œä¸ºäº†æ›´æ–¹ä¾¿çš„ä½¿ç”¨ <code>Swift</code> ï¼Œéœ€è¦é…ç½®å…¶åœ¨å…¨å±€ä»»æ„ç›®å½•ä¸‹å¯ä½¿ç”¨ã€‚</p><p>é…ç½® <code>Swift</code> ç¯å¢ƒå˜é‡:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"export PATH=/usr/share/swift/usr/bin:<span class="variable">$PATH</span>"</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure><h2 id="éªŒè¯æ˜¯å¦æˆåŠŸ"><a href="#éªŒè¯æ˜¯å¦æˆåŠŸ" class="headerlink" title="éªŒè¯æ˜¯å¦æˆåŠŸ"></a>éªŒè¯æ˜¯å¦æˆåŠŸ</h2><p>æ£€æŸ¥å½“å‰ç³»ç»Ÿçš„ <code>Swift</code> ç‰ˆæœ¬:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swift -version</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœå‡ºç° <code>Command &#39;swift&#39; not found ...</code> è¯¥æç¤ºï¼Œå…³é—­è¿æ¥ç»ˆç«¯ï¼Œé‡æ–°è¿æ¥æœåŠ¡å™¨ï¼Œå†æ¬¡æ‰§è¡Œä¸Šè¿°å‘½ä»¤ã€‚</li></ul><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-6stp.png" alt="installSuccess"></p><h1 id="è¿è¡Œ-Swift-ç¨‹åº"><a href="#è¿è¡Œ-Swift-ç¨‹åº" class="headerlink" title="è¿è¡Œ Swift ç¨‹åº"></a><strong>è¿è¡Œ <code>Swift</code> ç¨‹åº</strong></h1><h2 id="åœ¨ç»ˆç«¯è¿è¡Œç¨‹åºï¼Œç®€å•æµ‹è¯•ç¯å¢ƒæ˜¯å¦è¾¾å»ºæˆåŠŸã€‚"><a href="#åœ¨ç»ˆç«¯è¿è¡Œç¨‹åºï¼Œç®€å•æµ‹è¯•ç¯å¢ƒæ˜¯å¦è¾¾å»ºæˆåŠŸã€‚" class="headerlink" title="åœ¨ç»ˆç«¯è¿è¡Œç¨‹åºï¼Œç®€å•æµ‹è¯•ç¯å¢ƒæ˜¯å¦è¾¾å»ºæˆåŠŸã€‚"></a>åœ¨ç»ˆç«¯è¿è¡Œç¨‹åºï¼Œç®€å•æµ‹è¯•ç¯å¢ƒæ˜¯å¦è¾¾å»ºæˆåŠŸã€‚</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swift</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¿›å…¥åˆ°ç»ˆç«¯ç•Œé¢ã€‚</p><p>ç¼–è¾‘ä¸€æ®µ <code>Swift</code> ç¨‹åºä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">12</span>, b = <span class="number">13</span>, <span class="built_in">c</span> = a + b</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:exit</span><br></pre></td></tr></table></figure><p><img src="http://q8wtfza4q.bkt.clouddn.com/swift-7stp.png" alt="Swift"></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®Œæˆ <code>Swift</code> åœ¨ <code>Ubuntu</code> ç¯å¢ƒä¸‹çš„é…ç½®ï¼Œæ¥ä¸‹æ¥å¯ä»¥é…ç½® <code>Vapor 4.0</code> çš„å¼€å‘ç¯å¢ƒã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;é€šè¿‡æ–‡ç« ã€Š&lt;a href=&quot;http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%80:%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAVMware%E4%B8%8B%E5%AE%89%E8%A3%85Ubuntu18.04/&quot; title=&quot;åç«¯å®è·µä¸€:å¼€å‘ç¯å¢ƒæ­å»ºVMwareä¸‹å®‰è£…Ubuntu18.04&quot;&gt;åç«¯å®è·µä¸€:å¼€å‘ç¯å¢ƒæ­å»ºVMwareä¸‹å®‰è£…Ubuntu18.04&lt;/a&gt;ã€‹å¯ä»¥å®Œæˆåœ¨  &lt;code&gt;mac&lt;/code&gt; ä¸Šæ­å»ºèµ·å¯ç”¨çš„ &lt;code&gt;Ubuntu 18.04&lt;/code&gt; çš„æœåŠ¡å™¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¦åœ¨æ­¤åŸºç¡€ä¸Šå®Œå–„ &lt;code&gt;Vapor 4.0&lt;/code&gt; çš„å¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Ubuntu 18.04 å®‰è£… Swift 5.2.2 ï¼Œå¯åœ¨ Vapor å®˜ç½‘çš„å¼•å¯¼å®Œæˆã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯è®²è§£å¦‚ä½•å®Œæˆåœ¨ Ubuntu ä¸Šå®‰è£…æœ€æ–°ç‰ˆæœ¬ Swiftï¼Œæ„å»ºå‡ºä¸€ä¸ªå¼ºå¤§çš„äº‘ç«¯æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Ubuntu-ç³»ç»Ÿç¯å¢ƒæ­å»º&quot;&gt;&lt;a href=&quot;#Ubuntu-ç³»ç»Ÿç¯å¢ƒæ­å»º&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu ç³»ç»Ÿç¯å¢ƒæ­å»º&quot;&gt;&lt;/a&gt;&lt;strong&gt;&lt;code&gt;Ubuntu&lt;/code&gt; ç³»ç»Ÿç¯å¢ƒæ­å»º&lt;/strong&gt;&lt;/h1&gt;&lt;h2 id=&quot;è¿æ¥æœåŠ¡å™¨&quot;&gt;&lt;a href=&quot;#è¿æ¥æœåŠ¡å™¨&quot; class=&quot;headerlink&quot; title=&quot;è¿æ¥æœåŠ¡å™¨&quot;&gt;&lt;/a&gt;è¿æ¥æœåŠ¡å™¨&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;è¿™é‡Œä½¿ç”¨çš„SecureCRTä½œä¸ºç»ˆç«¯è¿æ¥æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;iTerm2&lt;/code&gt; è¿æ¥æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/categories/Server/"/>
    
      <category term="Vapor4.0" scheme="http://www.xuebaonline.com/categories/Vapor4-0/"/>
    
      <category term="Ubuntu18.04" scheme="http://www.xuebaonline.com/categories/Ubuntu18-04/"/>
    
      <category term="Swift5.2" scheme="http://www.xuebaonline.com/categories/Swift5-2/"/>
    
    
      <category term="Swift" scheme="http://www.xuebaonline.com/tags/Swift/"/>
    
      <category term="Server" scheme="http://www.xuebaonline.com/tags/Server/"/>
    
      <category term="Ubuntu" scheme="http://www.xuebaonline.com/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu18.04æ›¿æ¢å›½å†…æº</title>
    <link href="http://www.xuebaonline.com/Ubuntu18.04%E6%9B%BF%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90/"/>
    <id>http://www.xuebaonline.com/Ubuntu18.04%E6%9B%BF%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90/</id>
    <published>2020-04-17T04:58:13.000Z</published>
    <updated>2020-04-25T01:10:03.748Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†å›½å†…ä½¿ç”¨å›½å¤–çš„è½¯ä»¶æºæ™®éä¼šæ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯å›½å†…ä¹Ÿæœ‰å¾ˆå¤šçš„è½¯ä»¶æºå¯ä¾›é€‰æ‹©ã€‚åœ¨ä¿®æ”¹è½¯ä»¶æºä¹‹å‰ï¼ŒæŸ¥çœ‹ç³»ç»Ÿè½¯ä»¶æºç‰ˆæœ¬ï¼š</p><p><strong><em>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</em></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -c</span><br></pre></td></tr></table></figure><a id="more"></a><p><strong><em>å¤‡ä»½ç³»ç»Ÿæºé…ç½®æ–‡ä»¶ï¼š</em></strong></p><p>åœ¨ä¿®æ”¹ä¹‹å‰è¦å¯¹ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶åšå¥½å¤‡ä»½ï¼Œè¿™æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></pre></td></tr></table></figure><h1 id="é˜¿é‡Œæº"><a href="#é˜¿é‡Œæº" class="headerlink" title="é˜¿é‡Œæº"></a><strong>é˜¿é‡Œæº</strong></h1><h2 id="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶"><a href="#æ›´æ–°æºçš„é…ç½®æ–‡ä»¶" class="headerlink" title="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶"></a>æ›´æ–°æºçš„é…ç½®æ–‡ä»¶</h2><p>ä¸‹é¢æ˜¯è½¯ä»¶æºçš„é…ç½®æ–‡ä»¶ï¼Œå°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°sources.listä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multivers</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆç³»ç»Ÿæºçš„æ›´æ–°ï¼š<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure></p><h1 id="ä¸­ç§‘å¤§æº"><a href="#ä¸­ç§‘å¤§æº" class="headerlink" title="ä¸­ç§‘å¤§æº"></a><strong>ä¸­ç§‘å¤§æº</strong></h1><h2 id="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-1"><a href="#æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-1" class="headerlink" title="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶"></a>æ›´æ–°æºçš„é…ç½®æ–‡ä»¶</h2><p>ä¸‹é¢æ˜¯è½¯ä»¶æºçš„é…ç½®æ–‡ä»¶ï¼Œå°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°sources.listä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°-1"><a href="#æ›´æ–°-1" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆç³»ç»Ÿæºçš„æ›´æ–°ï¼š<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure></p><h1 id="163æº"><a href="#163æº" class="headerlink" title="163æº"></a><strong>163æº</strong></h1><h2 id="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-2"><a href="#æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-2" class="headerlink" title="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶"></a>æ›´æ–°æºçš„é…ç½®æ–‡ä»¶</h2><p>ä¸‹é¢æ˜¯è½¯ä»¶æºçš„é…ç½®æ–‡ä»¶ï¼Œå°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°sources.listä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°-2"><a href="#æ›´æ–°-2" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆç³»ç»Ÿæºçš„æ›´æ–°ï¼š<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure></p><h1 id="æ¸…åæº"><a href="#æ¸…åæº" class="headerlink" title="æ¸…åæº"></a><strong>æ¸…åæº</strong></h1><h2 id="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-3"><a href="#æ›´æ–°æºçš„é…ç½®æ–‡ä»¶-3" class="headerlink" title="æ›´æ–°æºçš„é…ç½®æ–‡ä»¶"></a>æ›´æ–°æºçš„é…ç½®æ–‡ä»¶</h2><p>ä¸‹é¢æ˜¯è½¯ä»¶æºçš„é…ç½®æ–‡ä»¶ï¼Œå°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ°sources.listä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°-3"><a href="#æ›´æ–°-3" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p> æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®Œæˆç³»ç»Ÿæºçš„æ›´æ–°ï¼š</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨Ubuntu18.04çš„é…ç½®ä¸­ï¼Œæ›´æ–°äº†ç³»ç»Ÿçš„è½¯ä»¶æºï¼Œå›½å†…æºæ¨èä½¿ç”¨æ¸…åæºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;å†å›½å†…ä½¿ç”¨å›½å¤–çš„è½¯ä»¶æºæ™®éä¼šæ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯å›½å†…ä¹Ÿæœ‰å¾ˆå¤šçš„è½¯ä»¶æºå¯ä¾›é€‰æ‹©ã€‚åœ¨ä¿®æ”¹è½¯ä»¶æºä¹‹å‰ï¼ŒæŸ¥çœ‹ç³»ç»Ÿè½¯ä»¶æºç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;æŸ¥çœ‹ç‰ˆæœ¬ï¼š&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lsb_release -c&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/categories/Server/"/>
    
      <category term="Vapor4.0" scheme="http://www.xuebaonline.com/categories/Vapor4-0/"/>
    
      <category term="Ubuntu18.04" scheme="http://www.xuebaonline.com/categories/Ubuntu18-04/"/>
    
      <category term="Ubuntuè½¯ä»¶æº" scheme="http://www.xuebaonline.com/categories/Ubuntu%E8%BD%AF%E4%BB%B6%E6%BA%90/"/>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/tags/Server/"/>
    
      <category term="Ubuntu" scheme="http://www.xuebaonline.com/tags/Ubuntu/"/>
    
      <category term="VMware" scheme="http://www.xuebaonline.com/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title>åç«¯å®è·µä¸€:å¼€å‘ç¯å¢ƒæ­å»ºVMwareä¸‹å®‰è£…Ubuntu18.04</title>
    <link href="http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%80:%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAVMware%E4%B8%8B%E5%AE%89%E8%A3%85Ubuntu18.04/"/>
    <id>http://www.xuebaonline.com/%E5%90%8E%E7%AB%AF%E5%AE%9E%E8%B7%B5%E4%B8%80:%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAVMware%E4%B8%8B%E5%AE%89%E8%A3%85Ubuntu18.04/</id>
    <published>2020-04-17T01:17:13.000Z</published>
    <updated>2020-04-25T01:08:41.946Z</updated>
    
    <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>Mac</code> ç¯å¢ƒä¸‹ä½¿ç”¨ <code>VMware</code> å®‰è£… <code>Ubuntu 18.04</code> çš„ä¸»è¦ç›®çš„æ˜¯ç”¨äºå¯¹åç«¯å¼€å‘æ¡†æ¶ï¼š<code>Vapor 4.0</code> çš„å®è·µã€‚ç”±äº <code>Vapor 4.0</code> æ¡†æ¶æ”¯æŒ <code>MacOS</code> å’Œ <code>Ubuntu</code> ï¼Œæ‰€ä»¥å®è·µæ—¶é—´ï¼Œä»¥ä½¿ç”¨ <code>Ubuntu</code> ä¸ºä¸»ã€‚</p><a id="more"></a><blockquote><p>VMware  çš„ä¸‹è½½å’Œå®‰è£…è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ï¼Œè‡ªè¡Œä¸‹è½½å®‰è£…å³å¯ã€‚</p></blockquote><h1 id="ä¸‹è½½-Ubuntu-çš„-ISO-æ–‡ä»¶"><a href="#ä¸‹è½½-Ubuntu-çš„-ISO-æ–‡ä»¶" class="headerlink" title="ä¸‹è½½ Ubuntu çš„ ISO æ–‡ä»¶"></a><strong>ä¸‹è½½ <code>Ubuntu</code> çš„ <code>ISO</code> æ–‡ä»¶</strong></h1><h2 id="å›½å†…æœ‰å¾ˆå¤šé•œåƒæºï¼Œè¿™é‡Œé€‰ç”¨ç½‘æ˜“çš„é•œåƒæºã€‚"><a href="#å›½å†…æœ‰å¾ˆå¤šé•œåƒæºï¼Œè¿™é‡Œé€‰ç”¨ç½‘æ˜“çš„é•œåƒæºã€‚" class="headerlink" title="å›½å†…æœ‰å¾ˆå¤šé•œåƒæºï¼Œè¿™é‡Œé€‰ç”¨ç½‘æ˜“çš„é•œåƒæºã€‚"></a>å›½å†…æœ‰å¾ˆå¤šé•œåƒæºï¼Œè¿™é‡Œé€‰ç”¨<a href="http://mirrors.163.com/ubuntu-releases/" target="_blank" rel="noopener" title="ç½‘æ˜“çš„é•œåƒæº">ç½‘æ˜“çš„é•œåƒæº</a>ã€‚</h2><p>è¿™é‡Œå»ºè®®ä½¿ç”¨ <code>Ubuntu 18.04</code> ç‰ˆæœ¬ï¼ŒæŒ‰ç…§å›¾ç¤ºä¸‹è½½å³å¯ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/163-source.png" alt="ç½‘æ˜“é•œåƒæº"></p><p>æœ¬æ¬¡å®‰è£…ä¸­ä½¿ç”¨çš„é•œåƒä¸ºï¼š<a href="http://mirrors.163.com/ubuntu-releases/18.04/ubuntu-18.04.4-live-server-amd64.iso" target="_blank" rel="noopener" title="Ubuntu18.04"><code>ubuntu-18.04.4-live-server-amd64.iso</code></a>ã€‚</p><p><img src="http://q8wtfza4q.bkt.clouddn.com/Ubuntu-1804-server.png" alt="Ubuntu1804"></p><h1 id="VMware-è™šæ‹Ÿæœºé…ç½®"><a href="#VMware-è™šæ‹Ÿæœºé…ç½®" class="headerlink" title="VMware è™šæ‹Ÿæœºé…ç½®"></a><strong><code>VMware</code> è™šæ‹Ÿæœºé…ç½®</strong></h1><p>åœ¨ä½¿ç”¨ <code>VMware</code> å®‰è£… <code>Ubuntu</code>è™šæ‹Ÿæœºæ—¶ï¼ŒæŒ‰ç…§å¼•å¯¼å®‰è£…å³å¯ã€‚</p><h2 id="æ‰“å¼€-VMware-è½¯ä»¶"><a href="#æ‰“å¼€-VMware-è½¯ä»¶" class="headerlink" title="æ‰“å¼€ VMware è½¯ä»¶"></a>æ‰“å¼€ <code>VMware</code> è½¯ä»¶</h2><blockquote><p>æ ¹æ®æç¤ºæˆ‘ä»¬åœ¨å‡†å¤‡å®‰è£…æ—¶ï¼Œé€‰æ‹©<strong>è‡ªå®šä¹‰å®‰è£…</strong>ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-1stp.png" alt="è‡ªå®šä¹‰å®‰è£…"></p><h2 id="é€‰æ‹©è™šæ‹Ÿçš„æ“ä½œç³»ç»Ÿ"><a href="#é€‰æ‹©è™šæ‹Ÿçš„æ“ä½œç³»ç»Ÿ" class="headerlink" title="é€‰æ‹©è™šæ‹Ÿçš„æ“ä½œç³»ç»Ÿ"></a>é€‰æ‹©è™šæ‹Ÿçš„æ“ä½œç³»ç»Ÿ</h2><p>è¿™é‡Œé€‰æ‹© <code>Linux</code> -&gt; <code>Ubuntu</code> 64ä½ã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› ä¸ºæˆ‘ä»¬ä¸‹è½½çš„ç³»ç»Ÿå°±æ˜¯ <code>Ubuntu 18.04</code> 64ä½ã€‚è¿˜æœ‰å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œå› ä¸ºå®‰è£…è¿™ä¸ªæ“ä½œç³»ç»Ÿçš„ç›®çš„æ˜¯ä½œä¸º <code>Vapor 4.0</code> çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨é€‰ç”¨æ“ä½œç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å›¾å½¢ç•Œé¢ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-2stp.png" alt="é€‰æ‹©æ“ä½œç³»ç»Ÿç±»å‹"></p><h2 id="é€‰æ‹©å›ºä»¶ç±»å‹"><a href="#é€‰æ‹©å›ºä»¶ç±»å‹" class="headerlink" title="é€‰æ‹©å›ºä»¶ç±»å‹"></a>é€‰æ‹©å›ºä»¶ç±»å‹</h2><p>é€‰æ‹©å›ºä»¶ç±»å‹å…¶å®å°±æ˜¯é€‰æ‹©ç£ç›˜å¼•å¯¼æ–¹å¼ã€‚</p><blockquote><p>ç›¸å¯¹è¿™ä¸¤ç§æ–¹å¼è¿›ä¸€æ­¥äº†è§£ï¼Œå¯è‡ªè¡ŒæŸ¥èµ„æ–™ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-3stp.png" alt="é€‰æ‹©å¼•å¯¼æ–¹å¼"></p><h2 id="é€‰æ‹©è™šæ‹Ÿç£ç›˜"><a href="#é€‰æ‹©è™šæ‹Ÿç£ç›˜" class="headerlink" title="é€‰æ‹©è™šæ‹Ÿç£ç›˜"></a>é€‰æ‹©è™šæ‹Ÿç£ç›˜</h2><p>é€‰æ‹©è™šæ‹Ÿç£ç›˜ä¸ºè™šæ‹Ÿæ“ä½œç³»ç»Ÿåœ¨æœ¬æœºä¸Šå¼€è¾Ÿæ“ä½œç£ç›˜çš„ç©ºé—´ã€‚</p><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› ä¸ºä¸ä¼šå†è™šæ‹Ÿæœºä¸Šåšæ¯”è¾ƒå¤§çš„æ–‡ä»¶æ“ä½œï¼Œ <code>20G</code> çš„ç£ç›˜ç©ºé—´å·²ç»å¤Ÿç”¨ã€‚åœ¨å¼€è¾Ÿç£ç›˜ç©ºé—´æ—¶ï¼Œå¼€è¾Ÿçš„æ˜¯ç©ºé—´ä½¿ç”¨ä¸Šé™ï¼Œåœ¨è™šæ‹Ÿæ“ä½œç³»ç»Ÿæ–‡ä»¶æ‰€å ç”¨çš„ç©ºé—´ä»¥å®é™…ä½¿ç”¨ä¸ºå‡†ï¼Œå¹¶ä¸æ˜¯å¼€è¾Ÿäº†å¤šå°‘ï¼Œå°±æ˜¯ç”¨å¤šå°‘ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-4stp.png" alt="é€‰æ‹©è™šæ‹Ÿç£ç›˜"></p><h2 id="å®Œæˆé…ç½®"><a href="#å®Œæˆé…ç½®" class="headerlink" title="å®Œæˆé…ç½®"></a>å®Œæˆé…ç½®</h2><p>ç‚¹å‡»ç»§ç»­å³å¯å®Œæˆè™šæ‹Ÿæœºé…ç½®ã€‚</p><blockquote><p>è™šæ‹Ÿæœºé…ç½®é‡‡ç”¨ <code>VMWare</code> æä¾›çš„é»˜è®¤é…ç½®å³å¯ï¼Œä¸ç”¨è¿‡å¤šçš„æ“ä½œã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-5stp.png" alt="å®Œæˆé…ç½®"></p><h2 id="ä¿å­˜è™šæ‹Ÿæœºæ–‡ä»¶"><a href="#ä¿å­˜è™šæ‹Ÿæœºæ–‡ä»¶" class="headerlink" title="ä¿å­˜è™šæ‹Ÿæœºæ–‡ä»¶"></a>ä¿å­˜è™šæ‹Ÿæœºæ–‡ä»¶</h2><p>ç‚¹å‡»ä¿å­˜å°†è™šæ‹Ÿæœºæ–‡ä»¶ä¿å­˜åœ¨é»˜è®¤æ–‡ä»¶å¤¹ä¸­ã€‚</p><blockquote><p>æ–‡ä»¶çš„ä¿å­˜ä½ç½®å¯ä»¥æ˜¯é»˜è®¤ä½ç½®ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„ä½ç½®ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-6stp.png" alt="å®Œæˆé…ç½®"></p><h1 id="å®‰è£…-Ubuntu-18-04"><a href="#å®‰è£…-Ubuntu-18-04" class="headerlink" title="å®‰è£… Ubuntu 18.04"></a><strong>å®‰è£… <code>Ubuntu 18.04</code></strong></h1><p>åœ¨ä½¿ç”¨ <code>VMware</code> å®Œæˆå¯¹ <code>Ubuntu</code>è™šæ‹Ÿæœºé…ç½®æ—¶ï¼Œå³ä¼šè¿›å…¥ç³»ç»Ÿçš„å®‰è£…ç•Œé¢ã€‚</p><h2 id="å¼€å¯-CD-DVD-ï¼Œå¹¶é€‰å–é•œåƒ"><a href="#å¼€å¯-CD-DVD-ï¼Œå¹¶é€‰å–é•œåƒ" class="headerlink" title="å¼€å¯ CD/DVD ï¼Œå¹¶é€‰å–é•œåƒ"></a>å¼€å¯ <code>CD/DVD</code> ï¼Œå¹¶é€‰å–é•œåƒ</h2><p>åœ¨å®Œæˆå¯¹è™šæ‹Ÿæœºé…ç½®ä¹‹åï¼Œè¿›å…¥åˆ°å¼•å¯¼ç•Œé¢ï¼Œå¼€å¯ <code>CD/DVD</code> ï¼Œå¹¶åŠ è½½é•œåƒã€‚</p><blockquote><p>å› ä¸ºå¯åŠ¨æ—¶æœªåŠ è½½ç³»ç»Ÿé•œåƒï¼Œæ‰€åœ¨æœŸåˆä¼šå‡ºç°å¼•å¯¼å‡ºé”™çš„é—®é¢˜ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-7stp.png" alt="å¼•å¯¼å¤±è´¥"></p><blockquote><p>å¼€å¯CD/DVDï¼Œå¹¶åŠ è½½é•œåƒã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-8stp.png" alt="åŠ è½½é•œåƒ"></p><h2 id="é€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€"><a href="#é€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€" class="headerlink" title="é€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€"></a>é€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€</h2><p>é•œåƒåŠ è½½å®Œæˆï¼Œé€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€çš„é»˜è®¤è¯­è¨€ã€‚</p><blockquote><p>å®‰è£…ç³»ç»Ÿçš„æç¤ºæ¯”è¾ƒç®€å•ï¼Œä¹Ÿè§åçŸ¥æ„ï¼Œæ‰€ä»¥åœ¨å®‰è£…çš„å…¨è¿‡ç¨‹ï¼Œæˆ‘ä»¬å‡ä¼šä½¿ç”¨è‹±æ–‡å®Œæˆå®‰è£…ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-9stp.png" alt="é€‰æ‹©ç³»ç»Ÿå¼•å¯¼è¯­è¨€"></p><h2 id="é€‰æ‹©ç³»ç»Ÿè¯­è¨€"><a href="#é€‰æ‹©ç³»ç»Ÿè¯­è¨€" class="headerlink" title="é€‰æ‹©ç³»ç»Ÿè¯­è¨€"></a>é€‰æ‹©ç³»ç»Ÿè¯­è¨€</h2><p>é•œåƒåŠ è½½å®Œæˆï¼Œé€‰æ‹©æ“ä½œç³»ç»Ÿçš„é»˜è®¤è¯­è¨€ã€‚</p><blockquote><p>å› ä¸ºæ˜¯ä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨ï¼Œä¸ºäº†é¿å…ä»¥åå› ä¸ºå­—ç¬¦ç¼–ç ä¸Šé€ æˆä¸å¿…è¦çš„éº»çƒ¦ï¼Œè¿™é‡Œé€‰æ‹©è‹±æ–‡ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-10stp.png" alt="é€‰æ‹©ç³»ç»Ÿè¯­è¨€"></p><h2 id="é€‰æ‹©é”®ç›˜å¸ƒå±€"><a href="#é€‰æ‹©é”®ç›˜å¸ƒå±€" class="headerlink" title="é€‰æ‹©é”®ç›˜å¸ƒå±€"></a>é€‰æ‹©é”®ç›˜å¸ƒå±€</h2><p>é€‰æ‹©é”®ç›˜å¸ƒå±€é»˜è®¤é€‰æ‹©è‹±æ–‡é”®ç›˜ã€‚</p><blockquote><p>é”®ç›˜å¸ƒå±€é€‰æ‹©è‹±æ–‡ï¼Œå¤§éƒ¨åˆ†çš„ç¬”è®°æœ¬ã€å°å¼ç”µè„‘é”®ç›˜é‡‡ç”¨è‹±æ–‡å¸ƒå±€ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-11stp.png" alt="é€‰æ‹©é”®ç›˜å¸ƒå±€"></p><h2 id="ç½‘ç»œè®¾ç½®"><a href="#ç½‘ç»œè®¾ç½®" class="headerlink" title="ç½‘ç»œè®¾ç½®"></a>ç½‘ç»œè®¾ç½®</h2><p>ç½‘ç»œè®¾ç½®ä¸»è¦æ˜¯è®¾ç½®æ“ä½œç³»ç»Ÿçš„ç½‘ç»œé“¾æ¥æ–¹å¼ï¼Œè¿™é‡Œé‡‡ç”¨é»˜è®¤è·Ÿéšæœ¬æœºç½‘ç»œå˜åŒ–ã€‚</p><blockquote><p>å› ä¸ºæ˜¯åœ¨è™šæ‹Ÿè½¯ä»¶ä¸­ä½¿ç”¨æ“ä½œç³»ç»Ÿï¼Œç½‘ç»œé…ç½®é‡‡ç”¨é»˜è®¤é…ç½®ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-12stp.png" alt="ç½‘ç»œè®¾ç½®"></p><h2 id="ä»£ç†è®¾ç½®"><a href="#ä»£ç†è®¾ç½®" class="headerlink" title="ä»£ç†è®¾ç½®"></a>ä»£ç†è®¾ç½®</h2><p>ç³»ç»Ÿéœ€è¦ä¸€ä¸ªä»£ç†æ¥å£è”ç½‘ï¼Œé»˜è®¤ç½‘ç»œé“¾æ¥èµ°æœ¬æœºã€‚</p><blockquote><p>ä»£ç†ç½‘ç»œå¯ä»¥è®¾ç½®é“¾æ¥ç‰¹å®šçš„ç½‘ç»œä¸­ï¼Œæ¯”å¦‚å…¬å¸å†…ç½‘ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-13stp.png" alt="ä»£ç†è®¾ç½®"></p><h2 id="è®¾ç½®ç³»ç»Ÿé•œåƒ"><a href="#è®¾ç½®ç³»ç»Ÿé•œåƒ" class="headerlink" title="è®¾ç½®ç³»ç»Ÿé•œåƒ"></a>è®¾ç½®ç³»ç»Ÿé•œåƒ</h2><p>è¿™é‡Œçš„é•œåƒæ˜¯è½¯ä»¶åŒ…çš„é•œåƒæºã€‚</p><blockquote><p>åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ä½¿ç”¨é»˜è®¤çš„è½¯ä»¶åŒ…é•œåƒæºï¼Œåç»­æ¨èæ›¿æ¢çš„å›½å†…é•œåƒã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-14stp.png" alt="è®¾ç½®ç³»ç»Ÿé•œåƒ"></p><h2 id="è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ"><a href="#è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ"></a>è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ</h2><p>æ–‡ä»¶ç³»ç»Ÿè®¾ç½®é‡‡ç”¨é»˜è®¤è®¾ç½®ã€‚</p><blockquote><p>é€‰å–ä½¿ç”¨æ•´ä¸ªç£ç›˜ç©ºé—´ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-15stp.png" alt="è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ"></p><blockquote><p>æ–‡ä»¶ç³»ç»Ÿé‡‡ç”¨ç³»ç»Ÿæ¨èçš„é»˜è®¤æ–¹å¼é…ç½®ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-16stp.png" alt="è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ"></p><blockquote><p>æ–‡ä»¶ç³»ç»Ÿåˆ†åŒºé‡‡ç”¨é»˜è®¤çš„åˆ†åŒºæ–¹å¼ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-17stp.png" alt="è®¾ç½®æ–‡ä»¶ç³»ç»Ÿ"></p><h2 id="ä¸ªäººä¿¡æ¯è®¾ç½®"><a href="#ä¸ªäººä¿¡æ¯è®¾ç½®" class="headerlink" title="ä¸ªäººä¿¡æ¯è®¾ç½®"></a>ä¸ªäººä¿¡æ¯è®¾ç½®</h2><p>ä¸ªäººä¿¡æ¯è®¾ç½®ä¸»è¦æ˜¯è®¾ç½® <code>root</code> è´¦æˆ·å¯†ç ï¼ŒæœåŠ¡å™¨åç§°ï¼Œç™»å½•è´¦æˆ·åŠå¯†ç ã€‚</p><blockquote><p>å®Œæˆè®¾ç½®ä¿¡æ¯ä¹‹åï¼Œå»ºè®®å¯¹è¯¥ä¿¡æ¯è¿›è¡Œå¤‡ä»½ä¿å­˜ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-18stp.png" alt="ä¸ªäººä¿¡æ¯è®¾ç½®"></p><h2 id="OpenSSH-è®¾ç½®"><a href="#OpenSSH-è®¾ç½®" class="headerlink" title="OpenSSH è®¾ç½®"></a><code>OpenSSH</code> è®¾ç½®</h2><p>OpenSSHå¯æ˜¯ç³»ç»Ÿæ”¯æŒè¿œç¨‹ç™»å½•ï¼Œè¿œç¨‹æ“ä½œã€‚</p><blockquote><p>å»ºè®®å®‰è£…ï¼Œåœ¨ä»¥åçš„æ“ä½œä¸­ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œè¿œç¨‹æ“ä½œè½¯ä»¶æ¨è <code>SecureCRT</code> ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-19stp.png" alt="OpenSSHè®¾ç½®"></p><h2 id="æœåŠ¡è½¯ä»¶"><a href="#æœåŠ¡è½¯ä»¶" class="headerlink" title="æœåŠ¡è½¯ä»¶"></a>æœåŠ¡è½¯ä»¶</h2><p>è¿™é‡Œå¯ä»¥é€‰æ‹©æ€§çš„å®‰è£…ã€‚</p><blockquote><p>é’ˆå¯¹è‡ªå·±æƒ³ç”¨çš„è½¯ä»¶è¿›è¡Œå®‰è£…ï¼Œå»ºè®®ç”¨åˆ°ä»€ä¹ˆå®‰è£…ä»€ä¹ˆã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-20stp.png" alt="æœåŠ¡è½¯ä»¶ä¸€è§ˆ"></p><h2 id="å®‰è£…ç³»ç»Ÿ"><a href="#å®‰è£…ç³»ç»Ÿ" class="headerlink" title="å®‰è£…ç³»ç»Ÿ"></a>å®‰è£…ç³»ç»Ÿ</h2><p>å®Œæˆæ‰€æœ‰çš„é…ç½®ä¹‹åï¼Œç³»ç»Ÿæœºä¼šè¿›å…¥å®‰è£…ç•Œé¢ï¼Œå®‰è£…è¿‡ç¨‹æ¯”è¾ƒä¹…ã€‚</p><blockquote><p>ç³»ç»Ÿå®‰è£…æ—¶é—´ä¼šé•¿ä¸€äº›ï¼Œå…·ä½“çœ‹å„è‡ªç”µè„‘é…ç½®ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-21stp.png" alt="å®‰è£…ç³»ç»Ÿ"></p><h1 id="ç™»å½•-Ubuntu18-04"><a href="#ç™»å½•-Ubuntu18-04" class="headerlink" title="ç™»å½• Ubuntu18.04"></a><strong>ç™»å½• <code>Ubuntu18.04</code></strong></h1><p>å®Œæˆå®‰è£…ä¹‹åï¼Œç³»ç»Ÿå°±ä¼šè¿›å…¥ç»ˆç«¯ï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›å…¥ç³»ç»Ÿã€‚</p><h2 id="è¾“å…¥ç”¨æˆ·ä¿¡æ¯"><a href="#è¾“å…¥ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="è¾“å…¥ç”¨æˆ·ä¿¡æ¯"></a>è¾“å…¥ç”¨æˆ·ä¿¡æ¯</h2><p>è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ã€‚</p><blockquote><p>åœ¨ <code>2.9</code> ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå°±æ˜¯éœ€è¦çš„ç™»å½•ä¿¡æ¯ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-22stp.png" alt="è¾“å…¥ç”¨æˆ·ä¿¡æ¯"></p><blockquote><p>æˆåŠŸè¿›å…¥ <code>Ubuntu</code> ç³»ç»Ÿä¸­ã€‚</p></blockquote><p><img src="http://q8wtfza4q.bkt.clouddn.com/vm-23stp.png" alt="è¾“å…¥ç”¨æˆ·ä¿¡æ¯"></p><h1 id="Ubuntu-18-04-ä¸ªæ€§åŒ–é…ç½®"><a href="#Ubuntu-18-04-ä¸ªæ€§åŒ–é…ç½®" class="headerlink" title="Ubuntu 18.04 ä¸ªæ€§åŒ–é…ç½®"></a><strong><code>Ubuntu 18.04</code> ä¸ªæ€§åŒ–é…ç½®</strong></h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åç»­ä¼šåŠ å…¥ä¸€äº›å®ç”¨çš„å°æŠ€å·§ï¼šå›½å†…çš„è½¯ä»¶æºï¼Œè¿œç¨‹ç™»å½•ã€é…ç½®æ•°æ®åº“ã€å®‰è£… <code>Vapor 4.0</code> å¼€å‘ç¯å¢ƒç­‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code&gt;Mac&lt;/code&gt; ç¯å¢ƒä¸‹ä½¿ç”¨ &lt;code&gt;VMware&lt;/code&gt; å®‰è£… &lt;code&gt;Ubuntu 18.04&lt;/code&gt; çš„ä¸»è¦ç›®çš„æ˜¯ç”¨äºå¯¹åç«¯å¼€å‘æ¡†æ¶ï¼š&lt;code&gt;Vapor 4.0&lt;/code&gt; çš„å®è·µã€‚ç”±äº &lt;code&gt;Vapor 4.0&lt;/code&gt; æ¡†æ¶æ”¯æŒ &lt;code&gt;MacOS&lt;/code&gt; å’Œ &lt;code&gt;Ubuntu&lt;/code&gt; ï¼Œæ‰€ä»¥å®è·µæ—¶é—´ï¼Œä»¥ä½¿ç”¨ &lt;code&gt;Ubuntu&lt;/code&gt; ä¸ºä¸»ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/categories/Server/"/>
    
      <category term="Vapor4.0" scheme="http://www.xuebaonline.com/categories/Vapor4-0/"/>
    
    
      <category term="Server" scheme="http://www.xuebaonline.com/tags/Server/"/>
    
      <category term="Ubuntu" scheme="http://www.xuebaonline.com/tags/Ubuntu/"/>
    
      <category term="VMware" scheme="http://www.xuebaonline.com/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://www.xuebaonline.com/hello-world/"/>
    <id>http://www.xuebaonline.com/hello-world/</id>
    <published>2020-04-14T03:41:23.589Z</published>
    <updated>2020-04-18T13:42:59.685Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://www.xuebaonline.com/categories/Hexo/"/>
    
    
  </entry>
  
</feed>
